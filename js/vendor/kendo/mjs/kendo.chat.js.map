{"version":3,"file":"kendo.chat.js","names":["$","undefined$1","kendo","window","Widget","ui","extend","NS","keys","ChatMessageBox","init","element","options","fn","call","this","_wrapper","_attachEvents","_typing","events","messages","placeholder","toggleButton","sendButton","destroy","input","off","remove","empty","styles","inputId","guid","inputWrapper","addClass","appendTo","attr","inputSuffix","toolbar","toggleable","buttons","length","html","renderButton","buttonToggle","toolbarId","icon","buttonToggleIcon","fillMode","size","buttonSend","buttonSendIcon","on","_keydown","bind","_input","_inputFocusout","_buttonClick","_toggleToolbar","start","val","_triggerTyping","e","keyCode","ENTER","preventDefault","_sendMessage","F10","trigger","value","args","text","ev","originalEvent","button","buttonFlat","iconButton","buttonIcon","hidden","chat","jQuery","DATA_K_BUTTON_NAME","SCROLL_LEFT_NAME","SCROLL_RIGHT_NAME","VISIBLE","TABINDEX","DEFAULT_ANIMATION","effects","duration","NO_ANIMATION","expand","show","collapse","hide","ChatToolBar","toolbarOptions","name","buttonsDefined","_createButtonList","scrollable","buttonsWidth","width","_initScrolling","_setupAnimation","toggle","_onClick","_onKeydown","buttonList","i","_createButton","append","first","removeAttr","btnOptions","attributes","buttonElm","title","type","tabindex","data","buttonDefaults","iconClass","prepend","renderIcon","target","closest","is","scrollButton","_scrolling","_scroll","key","LEFT","_focusButton","RIGHT","dir","current","not","candidate","index","removeAttribute","focus","scrollButtonLeft","scrollButtonLeftIcon","class","scrollButtonRight","scrollButtonRightIcon","_refreshScrollButtons","commandName","that","buttonWidth","maxScrollSize","scrollAmmount","scrollValue","currentScrollLeft","Math","min","max","scrollLeft","isNaN","parseInt","animation","defaultExpandAnimation","defaultCollapseAnimation","reverse","_animationComplete","_animationCompleteExpand","round","scrollWidth","clientWidth","children","last","outerWidth","skipAnimation","complete","kendoStop","kendoAnimate","encode","htmlEncode","DOT","AVATAR_TEMPLATE","url","IMG_TEMPLATE","MESSAGE_GROUP_TEMPLATE","messageGroup","noAvatar","author","SELF_MESSAGE_GROUP_TEMPLATE","self","TEXT_MESSAGE_TEMPLATE","timestamp","message","messageTime","toString","parseDate","bubble","TYPING_INDICATOR_TEMPLATE","messageListContent","typingIndicatorBubble","typingIndicator","CARD_ACTIONS_TEMPLATE","cardActions","cardActionsVertical","map","cardAction","buttonPrimary","CARD_ACTION_BUTTON_TEMPLATE","join","HERO_CARD_TEMPLATE","images","subtitle","card","cardRich","alt","cardImage","HERO_IMG_TEMPLATE","cardBody","cardTitle","cardSubtitle","Templates","Components","registerTemplate","templateName","template","getTemplate","suggestedActions","action","suggestedAction","SUGGESTED_ACTION_TEMPLATE","registerComponent","componentName","component","getComponent","Component","Class","view","Calendar","kendoCalendar","change","viewStyles","wrapper","messageList","only","middle","avatar","scrollButtonIconLeft","scrollButtonIconRight","cardWrapper","cardDeckScrollWrap","cardDeck","cardList","selected","ChatView","_list","_lastSender","typingParticipants","_scrollable","isTyping","areTyping","and","_scrollDraggable","list","messageListLabel","_listClick","_messageClick","_suggestedActionClick","_cardActionClick","_suggestedActionKeydown","_scrollButtonClick","currentTarget","scrollToLeft","find","scrollContainer","siblings","cardWidth","renderMessage","sender","Date","bubbleElement","_renderTemplate","_renderBubble","_removeTypingParticipant","id","renderSuggestedActions","_removeSuggestedActions","_scrollToBottom","renderAttachments","_renderAttachmentWrapper","attachmentLayout","cardContainer","attachments","cardElement","contentType","content","_removeTypingIndicator","renderComponent","layout","buttonLeft","_renderScrollButton","buttonRight","directionClass","targetElement","hasClass","parents","_clearSelection","SPACEBAR","messageType","group","_getMessageGroup","_appendToGroup","componentType","templateOptions","_getMessageGroupTemplate","appendTarget","iconUrl","user","messageElement","childrenCount","filter","removeClass","_renderTypingIndicator","participants","indicator","_addTypingParticipant","_composeTypingParticipantsText","found","push","splice","typingAction","typingText","replace","trimRight","selectedClass","scrollTop","prop","__meta__","category","description","depends","chatStyles","canvas","viewWrapper","messageBoxWrapper","toolbarBoxWrapper","Chat","_events","_user","_view","_toolbar","_messageBox","notify","setOptions","_setEvents","messageBox","unbind","_resetToolbarButtons","getUser","height","uiElements","toolbarElement","css","postMessage","toggleToolbar","postArgs","from","renderUserTypingIndicator","clearUserTypingIndicator","removeTypingIndicator","plugin","kendo$1"],"sources":["kendo.chat.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\nimport './kendo.html.button.js';\nimport './kendo.icons.js';\nimport './kendo.draganddrop.js';\n\n(function($, undefined$1) {\n\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var extend = $.extend;\n    var DOT = \".\";\n    var NS = \".kendoChat\";\n    var keys = kendo.keys;\n\n    var messageBoxStyles = {\n        input: \"k-input-inner\",\n        inputWrapper: \"k-textbox k-input k-input-lg k-input-solid\",\n        button: \"k-button\",\n        buttonFlat: \"k-button-lg k-button-flat k-button-flat-base\",\n        iconButton: \"k-icon-button\",\n        buttonIcon: \"k-button-icon\",\n        buttonSend: \"k-chat-send\",\n        buttonSendIcon: \"paper-plane\",\n        buttonToggle: \"k-button-toggle\",\n        buttonToggleIcon: \"more-horizontal\",\n        hidden: \"k-hidden\",\n        inputSuffix: \"k-input-suffix\"\n    };\n\n    var ChatMessageBox = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._wrapper();\n\n            this._attachEvents();\n\n            this._typing = false;\n        },\n\n        events: [\n            \"focusToolbar\",\n            \"sendMessage\",\n            \"toggleToolbar\",\n            \"typingEnd\",\n            \"typingStart\"\n        ],\n\n        options: {\n            messages: {\n                placeholder: \"Type a message...\",\n                toggleButton: \"Toggle toolbar\",\n                sendButton: \"Send message\"\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            if (this.input) {\n                this.input.off(NS);\n                this.input.remove();\n                this.input = null;\n            }\n\n            this.element.off(NS);\n            this.element.empty();\n        },\n\n        _wrapper: function() {\n            var styles = ChatMessageBox.styles;\n            var options = this.options;\n            var messages = options.messages;\n            var inputId = \"inputId_\" + kendo.guid();\n\n            this.inputWrapper = this.element\n                .addClass(styles.inputWrapper)\n                .appendTo(this.element);\n\n            this.input = $(\"<input type='text'>\")\n                .addClass(styles.input)\n                .attr(\"id\", inputId)\n                .attr(\"aria-label\", messages.placeholder)\n                .attr(\"placeholder\", messages.placeholder)\n                .appendTo(this.inputWrapper);\n\n            this.inputSuffix = $(\"<span></span>\")\n                .addClass(styles.inputSuffix)\n                .appendTo(this.inputWrapper);\n\n            if (options.toolbar && options.toolbar.toggleable && options.toolbar.buttons && options.toolbar.buttons.length) {\n                $(kendo.html.renderButton(`<button class=\"${styles.buttonToggle}\" title=\"${messages.toggleButton}\" aria-label=\"${messages.toggleButton}\" aria-controls=\"${options.toolbarId}\"></button>`,\n                    {\n                        icon: styles.buttonToggleIcon,\n                        fillMode: \"flat\",\n                        size: \"large\"\n                    }))\n                .appendTo(this.inputSuffix);\n            }\n\n            $(kendo.html.renderButton(`<button class=\"${styles.buttonSend}\" title=\"${messages.sendButton}\" aria-label=\"${messages.sendButton}\"></button>`,\n                {\n                    icon: styles.buttonSendIcon,\n                    fillMode: \"flat\",\n                    size: \"large\"\n                }))\n            .appendTo(this.inputSuffix);\n        },\n\n        _attachEvents: function() {\n            var styles = ChatMessageBox.styles;\n\n            this.input\n                .on(\"keydown\" + NS, this._keydown.bind(this))\n                .on(\"input\" + NS, this._input.bind(this))\n                .on(\"focusout\" + NS, this._inputFocusout.bind(this));\n\n            this.element\n                .on(\"click\" + NS, DOT + styles.buttonSend, this._buttonClick.bind(this));\n\n            this.element\n                .on(\"click\" + NS, DOT + styles.buttonToggle, this._toggleToolbar.bind(this));\n        },\n\n        _input: function() {\n            var currentValue = this.input.val();\n            var start = currentValue.length > 0;\n\n            this._triggerTyping(start);\n        },\n\n        _keydown: function(e) {\n            var key = e.keyCode;\n\n            switch (key) {\n                case keys.ENTER:\n                    e.preventDefault();\n\n                    this._sendMessage();\n                    break;\n                case keys.F10:\n                    e.preventDefault();\n\n                    this.trigger(\"focusToolbar\");\n                    break;\n            }\n        },\n\n        _buttonClick: function(e) {\n            e.preventDefault();\n\n            this._sendMessage();\n        },\n\n        _sendMessage: function() {\n            var value = this.input.val();\n\n            if (!value.length) {\n                return;\n            }\n\n            this._triggerTyping(false);\n\n            var args = {\n                text: value\n            };\n\n            this.trigger(\"sendMessage\", args);\n\n            this.input.val(\"\");\n        },\n\n        _inputFocusout: function() {\n            this._triggerTyping(false);\n        },\n\n        _triggerTyping: function(start) {\n            if (start) {\n                if (!this._typing) {\n                    this.trigger(\"typingStart\", {});\n                    this._typing = true;\n                }\n            } else {\n                if (this._typing) {\n                    this.trigger(\"typingEnd\", {});\n                    this._typing = false;\n                }\n            }\n        },\n\n        _toggleToolbar: function(ev) {\n            this.trigger(\"toggleToolbar\", { originalEvent: ev });\n        }\n    });\n\n    extend(true, ChatMessageBox, { styles: messageBoxStyles });\n    extend(kendo, {\n        chat: {\n            ChatMessageBox: ChatMessageBox\n        }\n    });\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var extend = $.extend;\n    var DOT = \".\";\n    var NS = \".kendoChat\";\n\n    var DATA_K_BUTTON_NAME = \"kButtonName\";\n    var SCROLL_LEFT_NAME = \"chatToolbarScrollLeft\";\n    var SCROLL_RIGHT_NAME = \"chatToolbarScrollRight\";\n    var VISIBLE = \":visible\";\n    var TABINDEX = \"tabindex\";\n\n    var DEFAULT_ANIMATION = {\n        effects: \"expand:vertical\",\n        duration: 200\n    };\n    var NO_ANIMATION = {\n        expand: {\n            show: true\n        },\n        collapse: {\n            hide: true\n        }\n    };\n\n    var toolbarStyles = {\n        button: \"k-button\",\n        buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n        buttonList: \"k-button-list k-toolbar-group\",\n        scrollButton: \"k-scroll-button\",\n        scrollButtonLeft: \"k-scroll-button-left\",\n        scrollButtonRight: \"k-scroll-button-right\",\n        scrollButtonLeftIcon: \"chevron-left\",\n        scrollButtonRightIcon: \"chevron-right\",\n        iconButton: \"k-icon-button\"\n    };\n\n    var ChatToolBar = Widget.extend({\n        init: function(element, options) {\n            options = extend({}, options, { name: \"ChatToolbar\" });\n            var toolbarOptions = options.toolbar;\n            var buttonsDefined = toolbarOptions.buttons && toolbarOptions.buttons.length;\n\n            Widget.fn.init.call(this, element, options);\n\n            if (buttonsDefined) {\n                this._createButtonList();\n            }\n\n            if (buttonsDefined && toolbarOptions.scrollable &&\n                    this.buttonsWidth() > this.element.width()) {\n                this._initScrolling();\n            }\n\n            this._setupAnimation();\n\n            if (buttonsDefined && toolbarOptions.toggleable) {\n                this.toggle(true);\n            }\n\n            this.element\n                .on(\"click\" + NS, this._onClick.bind(this))\n                .on(\"keydown\" + NS, this._onKeydown.bind(this));\n        },\n\n        events: [\n            \"click\"\n        ],\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            this.element.off(NS);\n            this.element.empty();\n        },\n\n        _createButtonList: function() {\n            var that = this;\n            var styles = ChatToolBar.styles;\n            var buttons = that.options.toolbar.buttons;\n            var buttonList = $(\"<div class='\" + styles.buttonList + \"'></div>\");\n\n            for (var i = 0; i < buttons.length; i++) {\n                var button = that._createButton(buttons[i]);\n                buttonList.append(button);\n            }\n\n            buttonList.appendTo(this.element);\n\n            this.buttonList = buttonList;\n            this.buttons().first().removeAttr(TABINDEX);\n        },\n\n        _createButton: function(btnOptions) {\n            var styles = ChatToolBar.styles;\n            var buttonElm = $(\"<button>\");\n            var attributes;\n\n            if (typeof btnOptions === \"string\") {\n                btnOptions = {\n                    name: btnOptions\n                };\n            }\n\n            attributes = $.extend({}, btnOptions.attr || {}, {\n                title: btnOptions.text || btnOptions.name,\n                \"aria-label\": btnOptions.text || btnOptions.name,\n                type: \"button\",\n                tabindex: -1\n            });\n\n            buttonElm\n                .attr(attributes)\n                .addClass(btnOptions.name)\n                .data(DATA_K_BUTTON_NAME, btnOptions.name)\n                .addClass(styles.button)\n                .addClass(styles.buttonDefaults);\n\n            if (btnOptions.icon || btnOptions.iconClass) {\n                buttonElm.addClass(styles.iconButton);\n                buttonElm.prepend(kendo.html.renderIcon({ icon: btnOptions.icon, iconClass: \"k-button-icon\" + (btnOptions.iconClass ? ` ${btnOptions.iconClass}` : \"\") }));\n            }\n\n            return buttonElm;\n        },\n\n        _onClick: function(ev) {\n            var styles = ChatToolBar.styles;\n            var target = $(ev.target).closest(DOT + styles.button);\n\n            if (target.is(DOT + styles.scrollButton) && !this._scrolling) {\n                this._scroll(target.data(DATA_K_BUTTON_NAME));\n            }\n\n            if (target.data(DATA_K_BUTTON_NAME)) {\n                this.buttons().attr(TABINDEX, -1);\n                target.removeAttr(TABINDEX);\n\n                this.trigger(\"click\", {\n                    button: target[0],\n                    name: target.data(DATA_K_BUTTON_NAME),\n                    originalEvent: ev\n                });\n            }\n        },\n\n        _onKeydown: function(e) {\n            var key = e.keyCode,\n                keys = kendo.keys;\n\n            switch (key) {\n                case keys.LEFT:\n                    this._focusButton(-1);\n                    break;\n                case keys.RIGHT:\n                    this._focusButton(1);\n                    break;\n            }\n        },\n\n        _focusButton: function(dir) {\n            var buttons = this.buttons(),\n                current = buttons.not(\"[tabindex=-1]\"),\n                candidateIndex = current.index() + dir,\n                candidate = buttons[candidateIndex];\n\n            if (candidate) {\n                current.attr(TABINDEX, -1);\n                candidate.removeAttribute(TABINDEX);\n                candidate.focus();\n            }\n        },\n\n        _initScrolling: function() {\n            var styles = ChatToolBar.styles;\n\n            this.scrollButtonLeft = this._createButton({\n                name: SCROLL_LEFT_NAME,\n                icon: styles.scrollButtonLeftIcon,\n                attr: {\n                    \"class\": styles.scrollButton + \" \" + styles.scrollButtonLeft\n                }\n            });\n\n            this.scrollButtonRight = this._createButton({\n                name: SCROLL_RIGHT_NAME,\n                icon: styles.scrollButtonRightIcon,\n                attr: {\n                    \"class\": styles.scrollButton + \" \" + styles.scrollButtonRight\n                }\n            });\n\n            this.element.prepend(this.scrollButtonLeft);\n            this.element.append(this.scrollButtonRight);\n            this._refreshScrollButtons();\n\n            this.element.on(\"keydown\" + NS, this._refreshScrollButtons.bind(this));\n        },\n\n        _scroll: function(commandName) {\n            var that = this;\n            var buttonWidth = that.buttonWidth();\n            var maxScrollSize = this.maxScrollSize();\n            var scrollAmmount = commandName === SCROLL_LEFT_NAME ? buttonWidth * -1 : buttonWidth;\n            var currentScroll = this.currentScrollLeft();\n            var scrollValue = currentScroll + scrollAmmount;\n            scrollValue = Math.min(Math.max(scrollValue, 0), maxScrollSize);\n\n            if (commandName !== SCROLL_LEFT_NAME && commandName !== SCROLL_RIGHT_NAME) {\n                return;\n            }\n\n            kendo.scrollLeft(that.buttonList, scrollValue);\n            that._refreshScrollButtons(scrollValue);\n        },\n\n        _refreshScrollButtons: function(value) {\n            var maxScrollSize = this.maxScrollSize();\n            var currentScrollLeft = value === undefined$1 || isNaN(parseInt(value, 10)) ? this.currentScrollLeft() : value;\n\n            if (!this.scrollButtonLeft && !this.scrollButtonRight) {\n                return;\n            }\n\n            this.scrollButtonLeft.toggle(currentScrollLeft !== 0);\n            this.scrollButtonRight.toggle(currentScrollLeft !== maxScrollSize);\n        },\n\n        _setupAnimation: function() {\n            var animation = this.options.toolbar.animation;\n            var defaultExpandAnimation = extend({}, DEFAULT_ANIMATION);\n            var defaultCollapseAnimation = extend({\n                reverse: true,\n                hide: true\n            }, DEFAULT_ANIMATION);\n\n            if (animation === false) {\n                animation = extend(true, {}, NO_ANIMATION);\n            } else {\n                animation = extend(true, {\n                    expand: defaultExpandAnimation,\n                    collapse: defaultCollapseAnimation\n                }, animation);\n            }\n\n            this.options.toolbar.animation = animation;\n        },\n\n        _animationComplete: function() {\n            this._refreshScrollButtons();\n        },\n\n        _animationCompleteExpand: function() {\n            this._animationComplete();\n            this.buttons().not(\"[tabindex=-1]\").trigger(\"focus\");\n        },\n\n        currentScrollLeft: function() {\n            return Math.round(kendo.scrollLeft(this.buttonList));\n        },\n\n        maxScrollSize: function() {\n            return Math.round(this.buttonList[0].scrollWidth - this.buttonList[0].clientWidth);\n        },\n\n        buttons: function() {\n            var styles = ChatToolBar.styles;\n            return this.buttonList ? this.buttonList.children(DOT + styles.button) : null;\n        },\n\n        buttonWidth: function() {\n            return Math.round(this.buttons().last().outerWidth(true));\n        },\n\n        buttonsWidth: function() {\n            var width = 0;\n\n            if (this.buttons()) {\n                width = this.buttonWidth() * this.buttons().length;\n            }\n\n            return width;\n        },\n\n        toggle: function(skipAnimation) {\n            var animation = this.options.toolbar.animation;\n\n            if (skipAnimation) {\n                animation = extend(true, {}, NO_ANIMATION);\n            }\n\n            animation.expand.complete = this._animationCompleteExpand.bind(this);\n            animation.collapse.complete = this._animationComplete.bind(this);\n\n            if (this.element.is(VISIBLE)) {\n                this.element.kendoStop().kendoAnimate(animation.collapse);\n            } else {\n                this.element.kendoStop().kendoAnimate(animation.expand);\n            }\n\n        },\n\n        focus: function() {\n            if (!this.element.is(VISIBLE)) {\n                this.toggle();\n            } else {\n                this.buttons().not(\"[tabindex=-1]\").trigger(\"focus\");\n            }\n        }\n    });\n\n    extend(true, ChatToolBar, { styles: toolbarStyles });\n    extend(kendo.chat, {\n        ChatToolBar: ChatToolBar\n    });\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n\n    var kendo = window.kendo;\n    var encode = kendo.htmlEncode;\n    var Widget = kendo.ui.Widget;\n    var extend = $.extend;\n    var DOT = \".\";\n    var SPACE = \" \";\n    var NS = \".kendoChat\";\n\n    var IMG_TEMPLATE = ({ url, text, styles }) => `<img src=\"${url}\" alt=\"${encode(text)}\">`;\n\n    var AVATAR_TEMPLATE = ({ url, text, styles }) => `<div class=\"k-avatar k-avatar-md k-avatar-solid k-avatar-solid-primary k-rounded-full\">` +\n                                `<span class=\"k-avatar-image\">` +\n                                    IMG_TEMPLATE({ url, text, styles }) +\n                                `</span>` +\n                            `</div>`;\n\n    var MESSAGE_GROUP_TEMPLATE = ({ text, url, styles }) => `<div ${encode(text)} class=\"${styles.messageGroup} ${ url ? \"\" : styles.noAvatar }\">\n            <p class=\"${styles.author}\">${encode(text)}</p>\n            ${ url ? AVATAR_TEMPLATE({ url, text, styles }) : '' }\n        </div>`;\n\n    var SELF_MESSAGE_GROUP_TEMPLATE = ({ url, text, styles }) => `<div me class=\"${styles.messageGroup} ${styles.self} ${ url ? \"\" : styles.noAvatar }\">\n        ${ url ? AVATAR_TEMPLATE({ url, text, styles }) : '' }\n    </div>`;\n\n    var TEXT_MESSAGE_TEMPLATE = ({ styles, text, timestamp }) => `<div class=\"${styles.message}\">\n        <time class=\"${styles.messageTime}\">${ kendo.toString(kendo.parseDate(timestamp), \"HH:mm:ss\") }</time>\n        <div class=\"${styles.bubble}\">${encode(text)}</div>\n    </div>`;\n\n    var TYPING_INDICATOR_TEMPLATE = ({ styles, text }) => `<div class=\"${styles.messageListContent} ${styles.typingIndicatorBubble}\">\n        <p class=\"${styles.author}\">${encode(text)}</p>\n        <div class=\"${styles.message}\">\n            <div class=\"${styles.bubble}\">\n                <div class=\"${styles.typingIndicator}\">\n                    <span></span><span></span><span></span>\n                </div>\n            </div>\n        </div>\n    </div>`;\n\n    var SUGGESTED_ACTION_TEMPLATE = ({ styles, action }) => `<span role=\"button\" tabindex=\"0\" class=\"${styles.suggestedAction}\" data-value=\"${encode(action.value)}\">${encode(action.title)}</span>`;\n\n    var SUGGESTED_ACTIONS_TEMPLATE = ({ styles, suggestedActions }) => `<div class=\"${styles.suggestedActions}\">\n        ${ suggestedActions.map(action => SUGGESTED_ACTION_TEMPLATE({ styles, action })).join('') }\n    </div>`;\n\n    var HERO_IMG_TEMPLATE = ({ images, styles }) => `<img src=\"${encode(images[0].url)}\" alt=\"${images[0].alt}\" class=\"${styles.cardImage}\" />`;\n\n    var CARD_ACTION_BUTTON_TEMPLATE = ({ button, styles }) => `<span class=\"${styles.cardAction}\"><span class=\"${styles.button} ${styles.buttonPrimary}\" data-value=\"${encode(button.value)}\">${encode(button.title)}</span></span>`;\n\n    var CARD_ACTIONS_TEMPLATE = ({ styles, buttons }) => `<div class=\"${styles.cardActions} ${styles.cardActionsVertical}\">\n        ${ buttons.map((button) => CARD_ACTION_BUTTON_TEMPLATE({ styles, button })).join('') }\n    </div>`;\n\n    var HERO_CARD_TEMPLATE = ({ styles, images, buttons, title, subtitle, text }) => `<div class=\"${styles.card} ${styles.cardRich}\">\n        ${ (typeof images !== \"undefined\" && images.length > 0) ? HERO_IMG_TEMPLATE({ images, styles }) : '' }\n        <div class=\"${styles.cardBody}\">\n            ${ typeof title !== \"undefined\" ? (() => `<h5 class=\"${styles.cardTitle}\">${encode(title)}</h5>`)() : '' }\n            ${ typeof subtitle !== \"undefined\" ? (() => `<h6 class=\"${styles.cardSubtitle}\">${encode(subtitle)}</h6>`)() : '' }\n            ${ typeof text !== \"undefined\" ? (() => `<p>${encode(text)}</p>`)() : '' }\n        </div>\n        ${ (typeof buttons !== \"undefined\" && buttons.length > 0) ? CARD_ACTIONS_TEMPLATE({ buttons, styles }) : ''}\n    </div>`;\n\n    extend(kendo.chat, {\n        Templates: {},\n        Components: {}\n    });\n\n    kendo.chat.registerTemplate = function(templateName, template) {\n        kendo.chat.Templates[templateName] = kendo.template(template);\n    };\n\n    kendo.chat.getTemplate = function(templateName) {\n        return kendo.chat.Templates[templateName] || TEXT_MESSAGE_TEMPLATE;\n    };\n\n    kendo.chat.registerTemplate(\"text\", TEXT_MESSAGE_TEMPLATE);\n    kendo.chat.registerTemplate(\"message\", TEXT_MESSAGE_TEMPLATE);\n    kendo.chat.registerTemplate(\"typing\", TYPING_INDICATOR_TEMPLATE);\n    kendo.chat.registerTemplate(\"suggestedAction\", SUGGESTED_ACTIONS_TEMPLATE);\n    kendo.chat.registerTemplate(\"heroCard\", HERO_CARD_TEMPLATE);\n    kendo.chat.registerTemplate(\"application/vnd.microsoft.card.hero\", HERO_CARD_TEMPLATE);\n\n    kendo.chat.registerComponent = function(componentName, component) {\n        kendo.chat.Components[componentName] = component;\n    };\n\n    kendo.chat.getComponent = function(componentName) {\n        return kendo.chat.Components[componentName] || null;\n    };\n\n    var Component = kendo.chat.Component = kendo.Class.extend({\n        init: function(options, view) {\n            this.element = $('<div></div>');\n            this.options = options;\n            this.view = view;\n        },\n\n        destroy: function() {\n            kendo.destroy(this.element);\n        }\n    });\n\n    var Calendar = Component.extend({\n        init: function(options, view) {\n            Component.fn.init.call(this, options, view);\n\n            this.element.kendoCalendar({\n                change: function() {\n                    view.trigger(\"suggestedAction\", { text: kendo.toString(this.value(), 'd'), type: \"message\" });\n                }\n            });\n        },\n\n        destroy: function() {\n        }\n    });\n    kendo.chat.registerComponent(\"calendar\", Calendar);\n\n    var viewStyles = {\n        wrapper: \"k-chat\",\n        messageList: \"k-avatars\",\n        messageListContent: \"k-message-list-content\",\n        messageTime: \"k-message-time\",\n        messageGroup: \"k-message-group\",\n        message: \"k-message\",\n        only: \"k-only\",\n        first: \"k-first\",\n        middle: \"k-middle\",\n        last: \"k-last\",\n        author: \"k-author\",\n        avatar: \"k-avatar\",\n        noAvatar: \"k-no-avatar\",\n        self: \"k-alt\",\n        button: \"k-button\",\n        buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n        iconButton: \"k-icon-button\",\n        buttonIcon: \"k-button-icon\",\n        buttonPrimary: \"k-button-md k-rounded-md k-button-flat k-button-flat-primary\",\n        scrollButtonIconLeft: \"chevron-left\",\n        scrollButtonIconRight: \"chevron-right\",\n        typingIndicator: \"k-typing-indicator\",\n        typingIndicatorBubble: \"k-typing-indicator-bubble\",\n        bubble: \"k-chat-bubble\",\n        suggestedActions: \"k-quick-replies\",\n        suggestedAction: \"k-quick-reply\",\n        cardWrapper: \"k-card-container\",\n        cardDeckScrollWrap: \"k-card-deck-scrollwrap\",\n        cardDeck: \"k-card-deck\",\n        cardList: \"k-card-list\",\n        card: \"k-card\",\n        cardRich: \"k-card-type-rich\",\n        cardBody: \"k-card-body\",\n        cardImage: \"k-card-image\",\n        cardTitle: \"k-card-title\",\n        cardSubtitle: \"k-card-subtitle\",\n        cardActions: \"k-card-actions\",\n        cardActionsVertical: \"k-card-actions-vertical\",\n        cardAction: \"k-card-action\",\n        selected: \"k-selected\"\n    };\n\n    var ChatView = kendo.chat.ChatView = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this._list();\n\n            this._lastSender = null;\n\n            this.typingParticipants = [];\n\n            this._attachEvents();\n\n            this._scrollable();\n        },\n\n        events: [\n        ],\n\n        options: {\n            messages: {\n                isTyping: \" is typing.\",\n                areTyping: \" are typing.\",\n                and: \" and \"\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            if (this._scrollDraggable) {\n                this._scrollDraggable.destroy();\n            }\n\n            this.element.empty();\n            this.element.off(NS);\n\n            this.list = null;\n            this._lastSender = null;\n        },\n\n        _list: function() {\n            var viewStyles = ChatView.styles;\n\n            this.element\n                .addClass(viewStyles.messageList)\n                .attr(\"role\", \"log\")\n                .attr(\"aria-label\", this.options.messages.messageListLabel);\n\n            this.list = $(\"<div>\")\n                .addClass(viewStyles.messageListContent)\n                .appendTo(this.element);\n        },\n\n        _attachEvents: function() {\n            var styles = ChatView.styles;\n\n            this.element\n                .on(\"click\" + NS, this._listClick.bind(this))\n                .on(\"click\" + NS, DOT + styles.message, this._messageClick.bind(this))\n                .on(\"click\" + NS, DOT + styles.suggestedAction, this._suggestedActionClick.bind(this))\n                .on(\"click\" + NS, DOT + styles.cardAction + SPACE + DOT + styles.button, this._cardActionClick.bind(this));\n\n            this.element.on(\"keydown\" + NS, DOT + styles.suggestedAction, this._suggestedActionKeydown.bind(this));\n        },\n\n        _scrollable: function() {\n            var viewStyles = ChatView.styles;\n\n            this.element\n                .on(\"click\" + NS, DOT + viewStyles.cardDeckScrollWrap + SPACE + DOT + viewStyles.button, this._scrollButtonClick.bind(this));\n        },\n\n        _scrollButtonClick: function(e) {\n            var viewStyles = ChatView.styles;\n            var button = $(e.currentTarget);\n            var scrollToLeft = button.find(`${DOT + viewStyles.buttonIcon}[class*=${viewStyles.scrollButtonIconLeft}]`).length !== 0;\n            var scrollContainer = button.siblings(DOT + viewStyles.cardDeck);\n            var lastCard = scrollContainer.find(DOT + viewStyles.card).last();\n            var cardWidth = lastCard.outerWidth(true);\n\n            if (scrollToLeft) {\n                kendo.scrollLeft(scrollContainer, kendo.scrollLeft(scrollContainer) - cardWidth);\n            } else {\n                kendo.scrollLeft(scrollContainer, kendo.scrollLeft(scrollContainer) + cardWidth);\n            }\n        },\n\n        getTemplate: function(templateName) {\n            return kendo.chat.getTemplate(templateName);\n        },\n\n        getComponent: function(type) {\n           return kendo.chat.getComponent(type);\n        },\n\n        renderMessage: function(message, sender) {\n            if (!message.timestamp) {\n                message.timestamp = new Date();\n            }\n\n            if (!message.text) {\n                message.text = \"\";\n            }\n\n            var bubbleElement = this._renderTemplate(message.type, message);\n\n            this._renderBubble(message.type, bubbleElement, sender);\n\n            if (message.type == \"typing\") {\n                if (this.typingParticipants.length > 0) {\n                    this._removeTypingParticipant(sender);\n                }\n            } else {\n                this._lastSender = sender.id;\n            }\n        },\n\n        renderSuggestedActions: function(suggestedActions) {\n            this._removeSuggestedActions();\n\n            var element = this._renderTemplate(\"suggestedAction\", { suggestedActions: suggestedActions });\n\n            this.list.append(element);\n\n            this._scrollToBottom();\n        },\n\n        renderAttachments: function(options) {\n            var wrapper = this._renderAttachmentWrapper(options.attachmentLayout);\n            var cardContainer = options.attachmentLayout === \"carousel\" ? wrapper.find(DOT + ChatView.styles.cardDeck) : wrapper;\n            var attachments = options.attachments;\n\n            if (!attachments.length) {\n                return;\n            }\n\n            for (var i = 0; i < attachments.length; i++) {\n                var cardElement = this._renderTemplate(attachments[i].contentType, attachments[i].content);\n\n                cardContainer.append(cardElement);\n            }\n\n            this._removeSuggestedActions();\n            this._removeTypingIndicator();\n\n            this.list.append(wrapper);\n\n            this._lastSender = null;\n        },\n\n        renderComponent: function(type) {\n            var componentType = this.getComponent(type);\n            var component = new componentType({}, this);\n\n            this.list.append(component.element);\n\n            this._scrollToBottom();\n        },\n\n        _renderAttachmentWrapper: function(layout) {\n            var viewStyles = ChatView.styles;\n            var wrapper = $(\"<div>\");\n\n            if (layout === \"carousel\") {\n                wrapper.addClass(viewStyles.cardDeckScrollWrap);\n\n                var buttonLeft = this._renderScrollButton(viewStyles.scrollButtonIconLeft);\n                wrapper.append(buttonLeft);\n\n                wrapper.append($(\"<div>\").addClass(viewStyles.cardDeck));\n\n                var buttonRight = this._renderScrollButton(viewStyles.scrollButtonIconRight);\n                wrapper.append(buttonRight);\n            } else {\n                wrapper.addClass(viewStyles.cardList);\n            }\n\n            return wrapper;\n        },\n\n        _renderScrollButton: function(directionClass) {\n            var viewStyles = ChatView.styles;\n\n            return $(\"<button>\")\n                .addClass(viewStyles.button)\n                .addClass(viewStyles.buttonDefaults)\n                .addClass(viewStyles.iconButton)\n                .append(kendo.html.renderIcon({ icon: directionClass, iconClass: viewStyles.buttonIcon }));\n        },\n\n        _removeSuggestedActions: function() {\n            this.list.find(DOT + ChatView.styles.suggestedActions).remove();\n        },\n\n        _listClick: function(e) {\n            var styles = ChatView.styles;\n            var targetElement = $(e.target);\n\n            if (targetElement.hasClass(styles.message) || targetElement.parents(DOT + styles.message).length) {\n                return;\n            }\n\n            this._clearSelection();\n        },\n\n        _messageClick: function(e) {\n            this._clearSelection();\n\n            $(e.currentTarget).addClass(ChatView.styles.selected);\n        },\n\n        _suggestedActionClick: function(e) {\n            var text = $(e.target).data(\"value\") || \"\";\n\n            this.trigger(\"actionClick\", { text: text });\n\n            this._removeSuggestedActions();\n        },\n\n        _suggestedActionKeydown: function(e) {\n            if (e.keyCode === kendo.keys.SPACEBAR || e.keyCode === kendo.keys.ENTER) {\n                this._suggestedActionClick(e);\n            }\n        },\n\n        _cardActionClick: function(e) {\n            var text = $(e.target).data(\"value\") || \"\";\n\n            this.trigger(\"actionClick\", { text: text });\n        },\n\n        _renderBubble: function(messageType, bubbleElement, sender) {\n            this._removeSuggestedActions();\n            this._removeTypingIndicator();\n\n            var group = this._getMessageGroup(sender, messageType);\n\n            this._appendToGroup(group, bubbleElement, messageType);\n\n            this._scrollToBottom();\n        },\n\n        _renderTemplate: function(type, options) {\n            var componentType = this.getComponent(type);\n            var element;\n\n            if (componentType) {\n                var component = new componentType(options, this);\n\n                element = component.element;\n            } else {\n                var template = this.getTemplate(type);\n                var templateOptions = extend(true, {}, options, { styles: ChatView.styles });\n\n                element = $(template(templateOptions));\n            }\n\n            return element;\n        },\n\n        _getMessageGroup: function(sender, messageType) {\n            var viewStyles = ChatView.styles;\n            var template = this._getMessageGroupTemplate(sender, messageType);\n            var appendTarget = messageType == \"typing\" ? this.element : this.list;\n            var group;\n\n            if (sender.id === this._lastSender && this._lastSender !== null && messageType !== \"typing\") {\n                group = this.list.find(DOT + viewStyles.messageGroup).last();\n\n                if (group.length) {\n                    return group;\n                }\n            }\n\n            return $(template({ text: sender.name, url: sender.iconUrl, styles: viewStyles })).appendTo(appendTarget);\n        },\n\n        _getMessageGroupTemplate: function(sender, messageType) {\n            var isOwnMessage = sender.id === this.options.user.id;\n            var template = isOwnMessage ?\n                SELF_MESSAGE_GROUP_TEMPLATE :\n                MESSAGE_GROUP_TEMPLATE;\n\n            if (messageType == \"typing\") {\n                template = TYPING_INDICATOR_TEMPLATE;\n            }\n\n            return template;\n        },\n\n        _appendToGroup: function(group, messageElement, messageType) {\n            var viewStyles = ChatView.styles;\n            var children = group.find(DOT + viewStyles.message);\n            var childrenCount = children.length;\n            var indicator = this.element.find(DOT + viewStyles.typingIndicator);\n\n            if (indicator.length && messageType == \"typing\") {\n                return;\n            }\n\n            messageElement.addClass(childrenCount === 0 ? viewStyles.only : viewStyles.last);\n\n            children.filter(DOT + viewStyles.only)\n                .removeClass(viewStyles.only)\n                .addClass(viewStyles.first);\n\n            children.filter(DOT + viewStyles.last)\n                .removeClass(viewStyles.last)\n                .addClass(viewStyles.middle);\n\n            group.append(messageElement);\n        },\n\n        _renderTypingIndicator: function(sender) {\n            var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble),\n                indicatorList,\n                participants;\n\n            this._addTypingParticipant(sender);\n\n            if (indicator.length) {\n                participants = this._composeTypingParticipantsText(this.typingParticipants);\n\n                indicatorList = indicator.find(DOT + viewStyles.author).first();\n                indicatorList.text(participants);\n\n            } else {\n                $(TYPING_INDICATOR_TEMPLATE({\n                    text: sender.name + this.options.messages.isTyping,\n                    styles: viewStyles\n                })).appendTo(this.element);\n            }\n\n            this._scrollToBottom();\n        },\n\n        _addTypingParticipant: function(sender) {\n            var found = false;\n            for (var i = 0; i < this.typingParticipants.length; i += 1) {\n                if (this.typingParticipants[i].id == sender.id) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                this.typingParticipants.push(sender);\n            }\n        },\n\n        _removeTypingParticipant: function(sender) {\n            var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble),\n                indicatorList,\n                participants;\n\n            if (indicator.length) {\n                for (var i = 0; i < this.typingParticipants.length; i += 1) {\n                    if (this.typingParticipants[i].id == sender.id) {\n                        this.typingParticipants.splice(i, 1);\n                    }\n                }\n\n                participants = this._composeTypingParticipantsText(this.typingParticipants);\n\n                if (participants === \"\") {\n                    indicator.remove();\n                } else {\n                    indicatorList = indicator.find(DOT + viewStyles.author).first();\n                    indicatorList.text(participants);\n                }\n            }\n        },\n\n        _composeTypingParticipantsText: function(participants) {\n            var messages = this.options.messages,\n                typingAction = participants.length == 1 ? messages.isTyping : messages.areTyping,\n                typingText = \"\";\n\n            if (participants.length === 0) {\n                return typingText;\n            }\n\n            typingText = this.typingParticipants.map(function(author) {\n                return author.name;\n            }).join(', ').replace(/,(?!.*,)/gmi, messages.and.trimRight()) + typingAction;\n\n            return typingText;\n        },\n\n        _removeTypingIndicator: function() {\n            var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble);\n\n            if (indicator.length) {\n                this.typingParticipants = [];\n                indicator.remove();\n            }\n        },\n\n        _clearSelection: function() {\n            var selectedClass = ChatView.styles.selected;\n\n            this.element.find(DOT + selectedClass).removeClass(selectedClass);\n        },\n\n        _scrollToBottom: function() {\n            this.element.scrollTop(this.element.prop(\"scrollHeight\"));\n        }\n    });\n\n    extend(true, ChatView, { styles: viewStyles });\n\n})(window.kendo.jQuery);\n\nvar __meta__ = {\n    id: \"chat\",\n    name: \"Chat\",\n    category: \"web\",\n    description: \"The Chat component.\",\n    depends: [ \"core\", \"draganddrop\", \"html.button\" ]\n};\n\n(function($, undefined$1) {\n\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var extend = $.extend;\n    var DOT = \".\";\n\n    var chatStyles = {\n        wrapper: \"k-chat\",\n        canvas: \"k-chat-canvas\",\n        viewWrapper: \"k-message-list\",\n        messageBoxWrapper: \"k-message-box\",\n        toolbarBoxWrapper: \"k-toolbar-box\"\n    };\n\n    var Chat = Widget.extend({\n        init: function(element, options, events) {\n            Widget.fn.init.call(this, element, options);\n\n            if (events) {\n                this._events = events;\n            }\n\n            this._user();\n\n            this._wrapper();\n\n            this._view();\n\n            if (options && options.toolbar && options.toolbar.buttons) {\n                this._toolbar();\n            }\n\n            this._messageBox();\n\n            kendo.notify(this);\n        },\n\n        events: [\n            \"typingStart\",\n            \"typingEnd\",\n            \"post\",\n            \"sendMessage\",\n            \"actionClick\",\n            \"toolClick\"\n        ],\n\n        options: {\n            user: {\n                name: \"User\",\n                iconUrl: \"\"\n            },\n            name: \"Chat\",\n            messages: {\n                messageListLabel: \"Message list\",\n                placeholder: \"Type a message...\",\n                toggleButton: \"Toggle toolbar\",\n                sendButton: \"Send message\"\n            },\n            toolbar: false\n        },\n\n        setOptions: function(options) {\n            this._setEvents(options);\n            $.extend(true, this.options, options);\n\n            if (this.toolbar && \"toolbar\" in options) {\n                this.toolbar.destroy();\n                this.toolbar = null;\n            }\n\n            if (this.messageBox) {\n                this.messageBox.unbind();\n                this.messageBox.destroy();\n                this.messageBox = null;\n            }\n\n            this._messageBox();\n\n            if (\"toolbar\" in options) {\n                this._resetToolbarButtons(options);\n                this._toolbar();\n            }\n        },\n\n        _resetToolbarButtons: function(options) {\n            var toolbarBoxWrapper = this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper);\n\n            if (!toolbarBoxWrapper.is(\":visible\")) {\n                toolbarBoxWrapper.show();\n            }\n\n            if (options.toolbar && typeof options.toolbar == \"object\" && \"buttons\" in options.toolbar) {\n                this.options.toolbar.buttons = options.toolbar.buttons;\n            }\n        },\n\n        destroy: function() {\n            if (this.view) {\n                this.view.unbind();\n                this.view.destroy();\n                this.view = null;\n            }\n\n            if (this.messageBox) {\n                this.messageBox.unbind();\n                this.messageBox.destroy();\n                this.messageBox = null;\n            }\n\n            if (this.toolbar) {\n                this.toolbar.destroy();\n                this.toolbar = null;\n            }\n\n            Widget.fn.destroy.call(this);\n        },\n\n        _user: function() {\n            this.options.user.id = kendo.guid();\n        },\n\n        getUser: function() {\n            return extend(true, {}, this.options.user);\n        },\n\n        _wrapper: function() {\n            var chatStyles = Chat.styles;\n            var options = this.options;\n            var height = options.height;\n            var width = options.width;\n            var uiElements = \"<div class='\" + chatStyles.viewWrapper + \"'></div>\" +\n                             \"<span class='\" + chatStyles.messageBoxWrapper + \"'></span>\";\n            var toolbarElement = $(`<div class=\"${chatStyles.toolbarBoxWrapper}\" role=\"toolbar\"></div>`).hide();\n\n            this.wrapper = this.element\n                .addClass(chatStyles.wrapper)\n                .append(uiElements)\n                .append(toolbarElement);\n\n            if (options.toolbar && options.toolbar.buttons && options.toolbar.buttons.length) {\n                this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper).show();\n            }\n\n            if (height) {\n                this.wrapper.height(height);\n            }\n\n            if (width) {\n                this.wrapper.css(\"max-width\", width);\n            }\n        },\n\n        _view: function() {\n            var that = this;\n            var chatStyles = Chat.styles;\n            var options = extend(true, {}, this.options);\n\n            var element = this.wrapper.find(DOT + chatStyles.viewWrapper + \"\");\n\n            this.view = new kendo.chat.ChatView(element, options);\n\n            this.view\n                .bind(\"actionClick\", function(args) {\n                    that.trigger(\"actionClick\", args);\n\n                    that.postMessage(args.text);\n                });\n        },\n\n        _messageBox: function() {\n            var that = this;\n            var chatStyles = Chat.styles;\n            var options = extend(true, {}, this.options);\n            var element = this.wrapper.find(DOT + chatStyles.messageBoxWrapper + \"\");\n\n            this.messageBox = new kendo.chat.ChatMessageBox(element, options);\n\n            this.messageBox\n                .bind(\"typingStart\", function(args) {\n                    that.trigger(\"typingStart\", args);\n                })\n                .bind(\"typingEnd\", function(args) {\n                    that.trigger(\"typingEnd\", args);\n                })\n                .bind(\"sendMessage\", function(args) {\n                    that.trigger(\"sendMessage\", args);\n\n                    that.postMessage(args.text);\n                })\n                .bind(\"toggleToolbar\", function() {\n                    that.toggleToolbar();\n                })\n                .bind(\"focusToolbar\", function() {\n                    if (that.toolbar) {\n                        that.toolbar.focus();\n                    }\n                });\n        },\n\n        _toolbar: function() {\n            var that = this;\n            var chatStyles = Chat.styles;\n            var options = extend(true, {}, that.options);\n            var element = that.wrapper.find(DOT + chatStyles.toolbarBoxWrapper + \"\");\n\n            that.options.toolbarId = kendo.guid();\n            element.attr(\"id\", that.options.toolbarId);\n\n            if (options.toolbar.scrollable === undefined$1) {\n                this.options.toolbar.scrollable = options.toolbar.scrollable = true;\n            }\n\n            if (options.toolbar.toggleable === undefined$1) {\n                this.options.toolbar.toggleable = options.toolbar.toggleable = false;\n            }\n\n            that.toolbar = new kendo.chat.ChatToolBar(element, options);\n\n            that.toolbar.bind(\"click\", function(ev) {\n                that.trigger(\"toolClick\", {\n                    sender: that,\n                    name: ev.name,\n                    button: ev.button,\n                    messageBox: that.messageBox.input[0],\n                    originalEvent: ev.originalEvent\n                });\n            });\n        },\n\n        postMessage: function(message) {\n            var postArgs = extend(true, {}, { text: message, type: \"message\", timestamp: new Date(), from: this.getUser() });\n\n            this.trigger(\"post\", postArgs);\n\n            this.renderMessage(postArgs, postArgs.from);\n        },\n\n        // TEST calling View renderMessage\n        renderMessage: function(message, sender) {\n            this.view.renderMessage(message, sender);\n        },\n\n        // TEST calling View renderSuggestedActions\n        renderSuggestedActions: function(suggestedActions) {\n            this.view.renderSuggestedActions(suggestedActions);\n        },\n\n        // TEST calling View renderCard\n        renderAttachments: function(options, sender) {\n            this.view.renderAttachments(options, sender);\n        },\n\n        toggleToolbar: function(skipAnimation) {\n            this.toolbar.toggle(skipAnimation);\n        },\n\n        renderUserTypingIndicator: function(sender) {\n            this.view._renderTypingIndicator(sender);\n        },\n\n        clearUserTypingIndicator: function(sender) {\n            this.view._removeTypingParticipant(sender);\n        },\n\n        removeTypingIndicator: function() {\n            this.view._removeTypingIndicator();\n        }\n    });\n\n    kendo.ui.plugin(Chat);\n\n    extend(true, Chat, { styles: chatStyles });\n\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { kendo$1 as default };\n"]}