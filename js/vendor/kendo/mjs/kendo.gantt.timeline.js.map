{"version":3,"file":"kendo.gantt.timeline.js","names":["__meta__","id","name","category","description","depends","hidden","$","Widget","kendo","ui","kendoDomElement","dom","element","kendoTextElement","text","kendoHtmlElement","html","isPlainObject","outerWidth","_outerWidth","outerHeight","_outerHeight","extend","isRtl","keys","Query","data","NS","CLICK","MOUSEMOVE","MOUSEENTER","MOUSELEAVE","DOT","DAY_HEADER_TEMPLATE","start","toString","WEEK_HEADER_TEMPLATE","end","date","addDays","MONTH_HEADER_TEMPLATE","RESIZE_TOOLTIP_TEMPLATE","styles","messages","format","tooltipWrapper","tooltipContent","htmlEncode","TASK_TOOLTIP_TEMPLATE","task","taskDetails","title","taskDetailsPercent","percentComplete","reset","SIZE_CALCULATION_TEMPLATE","attr","defaultViews","day","type","week","month","year","blurActiveElement","activeElement","_activeElement","nodeName","toLowerCase","trigger","GanttView","init","options","fn","call","this","header","find","gridHeader","content","gridContent","contentWidth","width","_workDays","workDays","dayIndex","workWeekStart","push","workWeekEnd","getWorkDays","_headerTree","headerTree","_taskTree","taskTree","_taskTemplate","taskTemplate","template","Template","templateSettings","_dependencyTree","dependencyTree","_taskCoordinates","_currentTime","destroy","clearTimeout","_tooltipTimeout","headerRow","_dragHint","_resizeHint","_resizeTooltip","_taskTooltip","_percentCompleteResizeTooltip","showWorkHours","showWorkDays","workDayStart","Date","workDayEnd","hourSpan","slotSize","currentTimeMarker","updateInterval","renderLayout","_slots","_createSlots","_tableWidth","_calculateTableWidth","createLayout","_layout","_slotDimensions","_adjustHeight","dependenciesWrapper","height","rows","headers","_headers","colgroup","_colgroup","tree","className","tbody","table","headerTable","style","role","render","first","last","slot","children","slots","_timeSlots","i","length","offsetLeft","offsetWidth","tasks","contentTable","totalHeight","taskCount","rowsTable","_rowsTable","columnsTable","_columnsTable","tasksTable","_tasksTable","calculatedSize","row","_contentHeight","_rowHeight","undefined","_renderCurrentTime","rowCount","attributes","tableRow","alt","tableCell","_createTable","slotSpan","cells","slotsCount","totalSpan","span","colspan","isNonWorking","nonWorking","cell","position","plannedPosition","resourcesPosition","resourceStyle","taskElement","rowIndex","taskLeft","taskRight","coordinates","size","_calculateMilestoneWidth","milestoneWidth","Math","round","resourcesField","resource","resourceAlt","resourcesMargin","_calculateResourcesMargin","taskBorderWidth","_calculateTaskBorderWidth","showPlannedTasks","l","_taskPosition","_taskPositionPlanned","borderWidth","_renderTask","navigatable","left","max","clientWidth","resourcesWrap","_renderResources","isMilestone","cols","currentSpan","maxSpan","boundingClientRect","taskMilestone","milestone","css","visibility","append","getBoundingClientRect","right","remove","margin","wrapper","parseInt","computedStyle","taskSingle","getComputedStyles","parseFloat","taskWrapper","progressHandleOffset","plannedElement","endTaskDotLeft","taskOffsetWrap","offsetElement","editable","wrapClassName","taskWrap","dragHandleStyle","taskWrapAttr","endTaskDotRight","taskFullWidth","_renderPlannedMilestone","_renderPlannedSingleTask","summary","_renderSummary","taskSummaryWrap","_renderMilestone","taskMilestoneWrap","_renderSingleTask","plannedStart","plannedEnd","taskOffset","resize","update","taskActions","link","taskDelete","href","icon","iconDelete","taskResizeHandle","taskResizeHandleWest","taskResizeHandleEast","taskInnerWrap","dependencyCreate","taskDot","taskDotStart","taskDotEnd","dragPercentComplete","taskDragHandle","progressWidth","taskContent","taskChildren","classes","widthExceptDelay","taskDelayed","taskAdvanced","taskComplete","uid","taskSummary","taskSummaryProgress","taskSummaryComplete","taskPlannedMoment","taskPlannedMomentLeft","taskPlannedDuration","taskPlanned","resources","color","get","reverse","startLeft","_offset","slotOffset","_slotIndex","field","value","middle","startIdx","endIdx","slice","ceil","_timeByPosition","x","snap","snapToEnd","_slotByPosition","offset","duration","getTime","slotIndex","_renderDependencies","dependencies","elements","apply","_renderDependency","dependency","predecessor","predecessorId","successor","successorId","_renderFF","from","to","lines","_dependencyFF","_arrow","_renderSS","_renderFS","_dependencyFS","_renderSF","delta","that","top","dir","rowHeight","fromTop","floor","toTop","addHorizontal","_line","line","lineHorizontal","addVertical","lineVertical","abs","minLineHeight","direction","arrowWest","arrowEast","count","j","_createDragHint","clone","addClass","dragHint","cursor","closest","_updateDragHint","_removeDragHint","_createResizeHint","tooltipTop","taskTop","marquee","marqueeColor","RESIZE_HINT","views","resizeTooltipFormat","_resizeTooltipWidth","_resizeTooltipTop","_updateResizeHint","resizeStart","tooltipLeft","tablesWidth","support","scrollbar","tooltipWidth","tableOffset","tasksWrapper","appendTo","_removeResizeHint","_updatePercentCompleteTooltip","_removePercentCompleteTooltip","tooltip","tooltipCallout","PERCENT_RESIZE_TOOLTIP_TEMPLATE","applyStylesFromKendoAttributes","tooltipMiddle","arrow","callout","arrowHeight","_updateDependencyDragHint","_removeDependencyDragHint","_creteDependencyDragHint","deltaX","deltaY","y","sqrt","angle","atan","PI","dependencyHint","transform","_createTaskTooltip","mouseLeft","contentOffset","contentScrollLeft","scrollLeft","parents","rowOffset","scrollTop","_adjustTooltipDimensions","_removeTaskTooltip","_createOffsetTooltip","hours","_offsetTooltip","offsetValue","plannedTasksMessages","plannedTasks","minutes","offsetText","days","offsetTooltipDelay","offsetPrefix","OFFSET_TOOLTIP_TEMPLATE","_removeOffsetTooltip","_createPlannedTooltip","_plannedTooltip","plannedTooltip","editorMessages","editor","startDate","endDate","PLANNED_TOOLTIP_TEMPLATE","_removePlannedTooltip","_scrollTo","elementLeft","elementWidth","elementRight","rowTop","rowBottom","contentTop","contentBottom","contentLeft","contentRight","scrollbarWidth","_scrollToDate","viewStart","viewEnd","columnLevels","level","column","headerText","levelIndex","levelCount","columnIndex","columnCount","_hours","slotEnd","isWorkHour","getHours","setHours","_days","isWorkDay","nextDay","_isWorkDay","_weeks","daySlots","firstDay","calendarInfo","dayOfWeek","_months","endMonth","firstDayOfMonth","setMonth","getMonth","_years","monthSpan","_slotHeaders","columns","getDay","getCulture","calendars","standard","currentTime","_getCurrentTime","timeOffset","viewStyles","tablesWrap","markerOptions","_currentTimeUpdateTimer","setInterval","bind","gridHeaderWrap","offsetTooltipAdvanced","GanttDayView","timeHeaderTemplate","dayHeaderTemplate","range","optionsRange","getDate","getMilliseconds","daySlot","hourSlots","GanttWeekView","weekHeaderTemplate","endDay","rangeEnd","setDate","GanttMonthView","monthHeaderTemplate","lastDayOfMonth","GanttYearView","yearHeaderTemplate","monthSlots","each","index","GanttTimeline","_wrapper","_domTrees","_views","_selectable","_draggable","_resizable","_percentResizeDraggable","_createDependencyDraggable","_attachEvents","_navigatable","_tooltip","selectable","clearInterval","_unbindView","_selectedView","_moveDraggable","_resizeDraggable","_percentDraggable","_dependencyDraggable","touch","off","_findNext","next","_findFirst","_findLast","_findPrev","prev","_scrollTasks","timelineWrapper","timelineScroll","on","e","newTask","target","handled","keyCode","HOME","END","DOWN","UP","focus","LEFT","altKey","hasClass","setTimeout","select","RIGHT","ENTER","stopPropagation","DELETE","preventDefault","calculatedRowHeight","calculatedCellHeight","gridContentWrap","_calculatedSize","Tree","view","isSettings","defaultView","selected","_selectedViewName","_selectView","action","_initializeView","_viewByIndex","getter","window","Error","newRange","newDate","prefix","_range","sort","toArray","_render","_tasks","_taskByUid","currentStart","startOffset","cleanUp","dragInProgress","move","Draggable","distance","filter","holdToDrag","mobileOS","ignore","currentTarget","parent","location","throttle","updateHintDate","userEvents","currentEnd","taskElementOffset","timelineOffset","originalPercentWidth","maxPercentWidth","currentPercentComplete","updateElement","siblings","initialDelta","currentWidth","min","originalHandle","startX","startY","hoveredHandle","hoveredTask","removeClass","hovered","origin","toggleHandles","toggleClass","elementOffset","tablesOffset","elementUnderCursor","currentX","currentY","fromStart","toStart","predecessorElement","successorElement","ctrlKey","document","elementFromPoint","clientX","clientY","click","selectDependency","clearSelection","taskWrapActive","selectedDependency","dependencyDestroy","kendoTouch","doubletap","currentMousePosition","tooltipOptions","mouseMoveHandler","visible","relatedTarget","currentPosition","client","_offsetTooltipTimeout","_plannedTooltipTimeout","_setPlanned","jQuery","kendo$1"],"sources":["kendo.gantt.timeline.js"],"mappings":"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","sourcesContent":["import './kendo.dom.js';\nimport './kendo.touch.js';\nimport './kendo.draganddrop.js';\nimport './kendo.icons.js';\n\nvar __meta__ = {\n    id: \"gantt.timeline\",\n    name: \"Gantt Timeline\",\n    category: \"web\",\n    description: \"The Gantt Timeline\",\n    depends: [ \"dom\", \"touch\", \"draganddrop\", \"icons\" ],\n    hidden: true\n};\n\n(function($) {\n\n    var Widget = kendo.ui.Widget;\n    var kendoDomElement = kendo.dom.element;\n    var kendoTextElement = kendo.dom.text;\n    var kendoHtmlElement = kendo.dom.html;\n    var isPlainObject = $.isPlainObject;\n    var outerWidth = kendo._outerWidth;\n    var outerHeight = kendo._outerHeight;\n    var extend = $.extend;\n    var isRtl = false;\n    var keys = kendo.keys;\n    var Query = kendo.data.Query;\n    var STRING = \"string\";\n    var NS = \".kendoGanttTimeline\";\n    var CLICK = \"click\";\n    var DBLCLICK = \"dblclick\";\n    var MOUSEMOVE = \"mousemove\";\n    var MOUSEENTER = \"mouseenter\";\n    var MOUSELEAVE = \"mouseleave\";\n    var KEYDOWN = \"keydown\";\n    var DOT = \".\";\n    var TIME_HEADER_TEMPLATE = ({ start }) => kendo.toString(start, 't');\n    var DAY_HEADER_TEMPLATE = ({ start }) => kendo.toString(start, 'ddd M/dd');\n    var WEEK_HEADER_TEMPLATE = ({ start, end }) => `${kendo.toString(start, 'ddd M/dd')} - ${kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')}`;\n    var MONTH_HEADER_TEMPLATE = ({ start }) => kendo.toString(start, 'MMM');\n    var YEAR_HEADER_TEMPLATE = ({ start }) => kendo.toString(start, 'yyyy');\n    var RESIZE_HINT = ({ styles }) => `<div class=\"${styles.marquee}\">` +\n                           `<div class=\"${styles.marqueeColor}\"></div>` +\n                       '</div>';\n    var RESIZE_TOOLTIP_TEMPLATE = ({ styles, messages, start, end, format }) => `<div class=\"${styles.tooltipWrapper} k-gantt-resize-hint\">` +\n                                   `<div class=\"${styles.tooltipContent}\">` +\n                                        `<div>${kendo.htmlEncode(messages.start)}: ${kendo.toString(start, format)}</div>` +\n                                        `<div>${kendo.htmlEncode(messages.end)}: ${kendo.toString(end, format)}</div>` +\n                                   '</div>' +\n                              '</div>';\n    var PERCENT_RESIZE_TOOLTIP_TEMPLATE = ({ styles, text }) => `<div ${kendo.attr(\"style-z-index\")}=\"100002\" class=\"${styles.tooltipWrapper}\" >` +\n                                   `<div class=\"${styles.tooltipContent}\">${text}%</div>` +\n                                   `<div class=\"${styles.tooltipCallout}\" ${kendo.attr(\"style-left\")}=\"13px\"></div>` +\n                              '</div>';\n    var TASK_TOOLTIP_TEMPLATE = ({ styles, task, messages }) => `<div class=\"${kendo.htmlEncode(styles.taskDetails)}\">` +\n                                    `<strong>${kendo.htmlEncode(task.title)}</strong>` +\n                                    `<div class=\"${styles.taskDetailsPercent}\">${kendo.toString(task.percentComplete, \"p0\")}</div>` +\n                                    `<ul class=\"${styles.reset}\">` +\n                                        `<li>${kendo.htmlEncode(messages.start)}: ${kendo.toString(task.start, \"h:mm tt ddd, MMM d\")}</li>` +\n                                        `<li>${kendo.htmlEncode(messages.end)}: ${kendo.toString(task.end, \"h:mm tt ddd, MMM d\")}</li>` +\n                                    '</ul>' +\n                                '</div>';\n    var OFFSET_TOOLTIP_TEMPLATE = ({ offsetPrefix, offsetText }) => `<span>${offsetPrefix}: ${offsetText}</span>`;\n    var PLANNED_TOOLTIP_TEMPLATE = ({ plannedStart, plannedEnd, startDate, endDate }) => '<div class=\"k-task-content\">' +\n            `<div>${plannedStart}: ${startDate}</div>` +\n            `<div>${plannedEnd}: ${endDate}</div>` +\n        '</div>';\n    var SIZE_CALCULATION_TEMPLATE = `<table ${kendo.attr(\"style-visibility\")}=\"hidden\">` +\n        \"<tbody>\" +\n            `<tr ${kendo.attr(\"style-height\")}=\"{0}\">` +\n                \"<td>&nbsp;</td>\" +\n            \"</tr>\" +\n        \"</tbody>\" +\n    \"</table>\";\n\n    var defaultViews = {\n        day: {\n            type: \"kendo.ui.GanttDayView\"\n        },\n        week: {\n            type: \"kendo.ui.GanttWeekView\"\n        },\n        month: {\n            type: \"kendo.ui.GanttMonthView\"\n        },\n        year: {\n            type: \"kendo.ui.GanttYearView\"\n        }\n    };\n\n    function trimOptions(options) {\n        delete options.name;\n        delete options.prefix;\n        delete options.views;\n\n        return options;\n    }\n\n    function getWorkDays(options) {\n        var workDays = [];\n        var dayIndex = options.workWeekStart;\n\n        workDays.push(dayIndex);\n\n        while (options.workWeekEnd != dayIndex) {\n            if (dayIndex > 6) {\n                dayIndex -= 7;\n            } else {\n                dayIndex++;\n            }\n            workDays.push(dayIndex);\n        }\n        return workDays;\n    }\n\n    function blurActiveElement() {\n        var activeElement = kendo._activeElement();\n\n        if (activeElement && activeElement.nodeName.toLowerCase() !== \"body\") {\n            $(activeElement).trigger(\"blur\");\n        }\n    }\n\n    var viewStyles = {\n        alt: \"k-alt k-table-row k-table-alt-row\",\n        reset: \"k-reset\",\n        nonWorking: \"k-nonwork-hour\",\n        header: \"k-header k-table-td\",\n        gridHeader: \"k-grid-header\",\n        gridHeaderWrap: \"k-grid-header-wrap\",\n        gridContent: \"k-grid-content\",\n        tasksWrapper: \"k-gantt-tables\",\n        rowsTable: \"k-gantt-rows\",\n        columnsTable: \"k-gantt-columns\",\n        tasksTable: \"k-gantt-tasks\",\n        dependenciesWrapper: \"k-gantt-dependencies\",\n        resource: \"k-resource\",\n        resourceAlt: \"k-resource k-alt\",\n        headerTable: \"k-grid-header-table k-table k-table-md\",\n        table: \"k-table k-table-md\",\n        tbody: \"k-table-tbody\",\n        tableRow: \"k-table-row\",\n        tableCell: \"k-table-td\",\n        task: \"k-task\",\n        taskSingle: \"k-task-single\",\n        taskMilestone: \"k-task-milestone\",\n        taskSummary: \"k-task-summary\",\n        taskWrap: \"k-task-wrap\",\n        taskMilestoneWrap: \"k-milestone-wrap\",\n        taskSummaryWrap: \"k-summary-wrap\",\n        taskPlanned: \"k-task-planned\",\n        taskPlannedMoment: \"k-task-moment\",\n        taskPlannedDuration: \"k-task-duration\",\n        taskPlannedMomentLeft: \"k-moment-left\",\n        taskAdvanced: \"k-task-advanced\",\n        taskDelayed: \"k-task-delayed\",\n        taskOffset: \"k-task-offset\",\n        taskOffsetWrap: \"k-task-offset-wrap\",\n        taskInnerWrap: \"k-task-inner-wrap\",\n        resourcesWrap: \"k-resources-wrap\",\n        taskDot: \"k-task-dot\",\n        taskDotStart: \"k-task-start\",\n        taskDotEnd: \"k-task-end\",\n        taskDragHandle: \"k-task-draghandle\",\n        taskContent: \"k-task-content\",\n        taskTemplate: \"k-task-template\",\n        taskActions: \"k-task-actions\",\n        taskDelete: \"k-task-delete\",\n        taskComplete: \"k-task-complete\",\n        taskDetails: \"k-task-details\",\n        taskDetailsPercent: \"k-task-pct\",\n        link: \"k-link\",\n        iconDelete: \"x\",\n        taskResizeHandle: \"k-resize-handle\",\n        taskResizeHandleWest: \"k-resize-w\",\n        taskResizeHandleEast: \"k-resize-e\",\n        taskSummaryProgress: \"k-task-summary-progress\",\n        taskSummaryComplete: \"k-task-summary-complete\",\n        line: \"k-gantt-line\",\n        lineHorizontal: \"k-gantt-line-h\",\n        lineVertical: \"k-gantt-line-v\",\n        arrowWest: \"k-arrow-w\",\n        arrowEast: \"k-arrow-e\",\n        dragHint: \"k-drag-hint\",\n        dependencyHint: \"k-gantt-dependency-hint\",\n        tooltipWrapper: \"k-tooltip\",\n        tooltipContent: \"k-tooltip-content\",\n        tooltipCallout: \"k-callout k-callout-s\",\n        callout: \"k-callout\",\n        marquee: \"k-marquee k-gantt-marquee\",\n        marqueeColor: \"k-marquee-color\",\n        offsetTooltipAdvanced: \"k-offset-tooltip-advanced\",\n        offsetTooltipDelay: \"k-offset-tooltip-delayed\",\n        plannedTooltip: \"k-planned-tooltip\"\n    };\n\n    var GanttView = kendo.ui.GanttView = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            this.title = this.options.title || this.options.name;\n\n            this.header = this.element.find(DOT + GanttView.styles.gridHeader);\n\n            this.content = this.element.find(DOT + GanttView.styles.gridContent);\n\n            this.contentWidth = this.content.width();\n\n            this._workDays = getWorkDays(this.options);\n\n            this._headerTree = options.headerTree;\n\n            this._taskTree = options.taskTree;\n\n            this._taskTemplate = options.taskTemplate ?\n                kendo.template(options.taskTemplate, extend({}, kendo.Template, options.templateSettings)) :\n                null;\n\n            this._dependencyTree = options.dependencyTree;\n\n            this._taskCoordinates = {};\n\n            this._currentTime();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            clearTimeout(this._tooltipTimeout);\n\n            this.headerRow = null;\n            this.header = null;\n            this.content = null;\n\n            this._dragHint = null;\n            this._resizeHint = null;\n            this._resizeTooltip = null;\n            this._taskTooltip = null;\n            this._percentCompleteResizeTooltip = null;\n\n            this._headerTree = null;\n            this._taskTree = null;\n            this._dependencyTree = null;\n        },\n\n        options: {\n            showWorkHours: false,\n            showWorkDays: false,\n            workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n            workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n            workWeekStart: 1,\n            workWeekEnd: 5,\n            hourSpan: 1,\n            slotSize: 100,\n            currentTimeMarker: {\n                updateInterval: 10000\n            }\n        },\n\n        renderLayout: function() {\n            this._slots = this._createSlots();\n\n            this._tableWidth = this._calculateTableWidth();\n\n            this.createLayout(this._layout());\n\n            this._slotDimensions();\n\n            this._adjustHeight();\n\n            this.content.find(DOT + GanttView.styles.dependenciesWrapper).width(this._tableWidth);\n        },\n\n        _adjustHeight: function() {\n            if (this.content) {\n                this.content.height(this.element.height() - outerHeight(this.header));\n            }\n        },\n\n        createLayout: function(rows) {\n            var headers = this._headers(rows);\n            var colgroup = this._colgroup();\n            var tree = this._headerTree;\n            var header = kendoDomElement(\"tbody\", { className: GanttView.styles.tbody }, headers);\n            var table = kendoDomElement(\"table\", { className: GanttView.styles.headerTable, style: { width: this._tableWidth + \"px\" }, role: \"presentation\" }, [colgroup, header]);\n\n            tree.render([table]);\n\n            this.headerRow = this.header.find(\"table\").first().find(\"tr\").last();\n        },\n\n        _slotDimensions: function() {\n            var headers = this.headerRow[0].children;\n            var slots = this._timeSlots();\n            var slot;\n            var header;\n\n            for (var i = 0, length = headers.length; i < length; i++) {\n                header = headers[i];\n                slot = slots[i];\n\n                slot.offsetLeft = header.offsetLeft;\n                slot.offsetWidth = header.offsetWidth;\n            }\n        },\n\n        render: function(tasks) {\n            var taskCount = tasks.length;\n            var styles = GanttView.styles;\n            var contentTable;\n            var rowsTable = this._rowsTable(taskCount);\n            var columnsTable = this._columnsTable(taskCount);\n            var tasksTable = this._tasksTable(tasks);\n            var currentTimeMarker = this.options.currentTimeMarker;\n            var calculatedSize = this.options.calculatedSize;\n            var totalHeight;\n\n            this._taskTree.render([rowsTable, columnsTable, tasksTable]);\n\n            contentTable = this.content.find(DOT + styles.rowsTable);\n\n            if (calculatedSize) {\n                totalHeight = calculatedSize.row * tasks.length;\n                this.content.find(DOT + styles.tasksTable).height(totalHeight);\n                contentTable.height(totalHeight);\n            }\n\n            this._contentHeight = contentTable.height();\n            this._rowHeight = calculatedSize ? calculatedSize.row : this._contentHeight / contentTable.find(\"tr\").length;\n\n            this.content.find(DOT + styles.columnsTable).height(this._contentHeight);\n\n            if (currentTimeMarker !== false && currentTimeMarker.updateInterval !== undefined) {\n                this._renderCurrentTime();\n            }\n        },\n\n        _rowsTable: function(rowCount) {\n            var rows = [];\n            var row;\n            var styles = GanttView.styles;\n            var attributes = [{ className: styles.tableRow }, { className: styles.alt }];\n\n            for (var i = 0; i < rowCount; i++) {\n                row = kendoDomElement(\"tr\", attributes[i % 2], [\n                    kendoDomElement(\"td\", { className: styles.tableCell }, [\n                        kendoTextElement(\"\\u00a0\")\n                    ])\n                ]);\n\n                rows.push(row);\n            }\n\n            return this._createTable(1, rows, { className: styles.rowsTable + \" k-grid-table \" + styles.table });\n        },\n\n        _columnsTable: function() {\n            var cells = [];\n            var row;\n            var styles = GanttView.styles;\n            var slots = this._timeSlots();\n            var slotsCount = slots.length;\n            var slot;\n            var slotSpan;\n            var totalSpan = 0;\n            var attributes;\n\n            for (var i = 0; i < slotsCount; i++) {\n                slot = slots[i];\n\n                attributes = { className: styles.tableCell };\n\n                slotSpan = slot.span;\n\n                totalSpan += slotSpan;\n\n                if (slotSpan !== 1) {\n                    attributes.colspan = slotSpan;\n                }\n\n                if (slot.isNonWorking) {\n                    attributes.className += \" \" + styles.nonWorking;\n                }\n\n                cells.push(kendoDomElement(\"td\", attributes, [\n                    kendoTextElement(\"\\u00a0\")\n                ]));\n            }\n\n            row = kendoDomElement(\"tr\", { className: styles.tableRow }, cells);\n\n            return this._createTable(totalSpan, [row], { className: styles.columnsTable + \" \" + styles.table });\n        },\n\n        _tasksTable: function(tasks) {\n            var rows = [];\n            var row;\n            var cell;\n            var position;\n            var plannedPosition;\n            var task;\n            var styles = GanttView.styles;\n            var coordinates = this._taskCoordinates = {};\n            var size = this._calculateMilestoneWidth();\n            var milestoneWidth = Math.round(size.width);\n            var resourcesField = this.options.resourcesField;\n            var className = [styles.resource, styles.resourceAlt];\n            var calculatedSize = this.options.calculatedSize;\n            var resourcesPosition;\n            var resourcesMargin = this._calculateResourcesMargin();\n            var taskBorderWidth = this._calculateTaskBorderWidth();\n            var resourceStyle;\n            var showPlannedTasks = this.options.showPlannedTasks;\n            var attributes = [{ className: styles.tableRow }, { className: styles.alt }];\n            var taskElement;\n\n            var addCoordinates = function(rowIndex) {\n                var taskLeft;\n                var taskRight;\n\n                taskLeft = position.left;\n                taskRight = taskLeft + position.width;\n\n                if (task.isMilestone()) {\n                    taskLeft -= milestoneWidth / 2;\n                    taskRight = taskLeft + milestoneWidth;\n                }\n\n                coordinates[task.id] = {\n                    start: taskLeft,\n                    end: taskRight,\n                    rowIndex: rowIndex\n                };\n            };\n\n            for (var i = 0, l = tasks.length; i < l; i++) {\n                task = tasks[i];\n\n                position = this._taskPosition(task);\n\n                if (showPlannedTasks) {\n                    plannedPosition = this._taskPositionPlanned(task);\n                    plannedPosition.borderWidth = taskBorderWidth;\n                }\n                position.borderWidth = taskBorderWidth;\n\n                row = kendoDomElement(\"tr\", attributes[i % 2]);\n                cell = kendoDomElement(\"td\", { className: styles.tableCell });\n\n                if (task.start <= this.end && task.end >= this.start) {\n                    taskElement = this._renderTask(tasks[i], position, plannedPosition);\n                    if (this.options.navigatable) {\n                        taskElement.children[0].attr[\"tabIndex\"] = i ? -1 : 0;\n                    }\n                    cell.children.push(taskElement);\n\n                    if (task[resourcesField] && task[resourcesField].length) {\n                        if (isRtl) {\n                            resourcesPosition = this._tableWidth - position.left;\n                        } else {\n                            resourcesPosition = Math.max((position.width || size.clientWidth), 0) + position.left;\n                        }\n\n                        resourceStyle = {\n                            width: (this._tableWidth - (resourcesPosition + resourcesMargin)) + \"px\"\n                        };\n\n                        resourceStyle[isRtl ? \"right\" : \"left\"] = resourcesPosition + \"px\";\n\n                        if (calculatedSize) {\n                            resourceStyle.height = calculatedSize.cell + \"px\";\n                        }\n\n                        cell.children.push(kendoDomElement(\"div\",\n                            {\n                                className: styles.resourcesWrap,\n                                style: resourceStyle\n                            },\n                            this._renderResources(task[resourcesField], className[i % 2]))\n                        );\n                    }\n\n                    addCoordinates(i);\n                }\n                row.children.push(cell);\n                rows.push(row);\n            }\n\n            return this._createTable(1, rows, { className: GanttView.styles.tasksTable + \" \" + styles.table });\n        },\n\n        _createTable: function(colspan, rows, styles) {\n            var cols = [];\n            var colgroup;\n            var tbody;\n\n            for (var i = 0; i < colspan; i++) {\n                cols.push(kendoDomElement(\"col\"));\n            }\n\n            colgroup = kendoDomElement(\"colgroup\", null, cols);\n\n            tbody = kendoDomElement(\"tbody\", { className: GanttView.styles.tbody }, rows);\n\n            if (!styles.style) {\n                styles.style = {};\n            }\n\n            styles.style.width = this._tableWidth + \"px\";\n            styles.role = \"presentation\";\n\n            return kendoDomElement(\"table\", styles, [colgroup, tbody]);\n        },\n\n        _calculateTableWidth: function() {\n            var slots = this._timeSlots();\n            var maxSpan = 0;\n            var totalSpan = 0;\n            var currentSpan;\n            var tableWidth;\n\n            for (var i = 0, length = slots.length; i < length; i++) {\n                currentSpan = slots[i].span;\n\n                totalSpan += currentSpan;\n\n                if (currentSpan > maxSpan) {\n                    maxSpan = currentSpan;\n                }\n            }\n\n            tableWidth = Math.round((totalSpan * this.options.slotSize) / maxSpan);\n\n            return tableWidth;\n        },\n\n        _calculateMilestoneWidth: function() {\n            var size;\n            var className = GanttView.styles.task + \" \" + GanttView.styles.taskMilestone;\n            var boundingClientRect;\n            var milestone = $(`<div class=\"${className}\">`).css({\n                visibility: \"hidden\",\n                position: \"absolute\"\n            });\n\n            this.content.append(milestone);\n\n            boundingClientRect = milestone[0].getBoundingClientRect();\n\n            size = {\n                \"width\": boundingClientRect.right - boundingClientRect.left,\n                \"clientWidth\": milestone[0].clientWidth\n            };\n\n            milestone.remove();\n\n            return size;\n        },\n\n        _calculateResourcesMargin: function() {\n            var margin;\n            var wrapper = $(`<div class=\"${GanttView.styles.resourcesWrap}\">`).css({\n                visibility: \"hidden\",\n                position: \"absolute\"\n            });\n\n            this.content.append(wrapper);\n\n            margin = parseInt(wrapper.css(isRtl ? \"margin-right\" : \"margin-left\"), 10);\n\n            wrapper.remove();\n\n            return margin;\n        },\n\n        _calculateTaskBorderWidth: function() {\n            var width;\n            var className = GanttView.styles.task + \" \" + GanttView.styles.taskSingle;\n            var computedStyle;\n            var task = $(`<div class=\"${className}\">`).css({\n                visibility: \"hidden\",\n                position: \"absolute\"\n            });\n\n            this.content.append(task);\n\n            computedStyle = kendo.getComputedStyles(task[0], [\"border-left-width\"]);\n\n            width = parseFloat(computedStyle[\"border-left-width\"], 10);\n\n            task.remove();\n\n            return width;\n        },\n\n        _renderTask: function(task, position, plannedPosition) {\n            var editable = this.options.editable;\n            var taskLeft = position.left;\n            var styles = GanttView.styles;\n            var wrapClassName = styles.taskWrap;\n            var calculatedSize = this.options.calculatedSize;\n            var dragHandleStyle = {};\n            var taskWrapAttr = {\n                className: wrapClassName,\n                style: { left: taskLeft + \"px\" }\n            };\n            var children = [];\n            var endTaskDotRight = 0;\n            var taskFullWidth = position.width;\n            var taskWrapper, taskElement, progressHandleOffset, plannedElement;\n            var endTaskDotLeft, taskOffsetWrap, offsetElement, offsetWidth;\n\n            if (calculatedSize) {\n                taskWrapAttr.style.height = calculatedSize.cell + \"px\";\n            }\n\n            if (plannedPosition) {\n                if (task.isMilestone()) {\n                    plannedElement = this._renderPlannedMilestone(position, plannedPosition);\n                } else {\n                    plannedElement = this._renderPlannedSingleTask(position, plannedPosition, task);\n                }\n\n                children.push(plannedElement);\n\n                if (isRtl && plannedPosition.left <= position.left) {\n                    taskWrapAttr.style.left = plannedPosition.left + \"px\";\n                }\n            }\n\n            if (task.summary) {\n                taskElement = this._renderSummary(task, position, plannedPosition);\n                taskWrapAttr.className += \" \" + styles.taskSummaryWrap;\n            } else if (task.isMilestone()) {\n                taskElement = this._renderMilestone(task, position);\n                taskWrapAttr.className += \" \" + styles.taskMilestoneWrap;\n            } else {\n                taskElement = this._renderSingleTask(task, position, plannedPosition);\n            }\n\n            if (plannedPosition && !task.isMilestone() && task.plannedStart < task.end && task.plannedEnd > task.start && task.plannedEnd < task.end) {\n                if (isRtl) {\n                    taskFullWidth = position.left + position.width - plannedPosition.left;\n                } else {\n                    taskFullWidth = plannedPosition.left + plannedPosition.width - position.left;\n                }\n\n                if (isRtl) {\n                    offsetWidth = plannedPosition.left - position.left;\n                } else {\n                    offsetWidth = position.left + position.width - (plannedPosition.left + plannedPosition.width);\n                }\n\n                offsetElement = kendoDomElement(\"div\", {\n                    className: styles.taskOffset,\n                    style: { width: offsetWidth - 2 * plannedPosition.borderWidth + \"px\" }\n                });\n\n                if (editable && editable.resize !== false && editable.update !== false && !task.summary) {\n                    if (editable.destroy !== false) {\n                        offsetElement.children.push(kendoDomElement(\"span\", { className: styles.taskActions, \"aria-hidden\": \"true\" }, [\n                            kendoDomElement(\"a\", { className: styles.link + \" \" + styles.taskDelete, href: \"#\", \"aria-label\": \"Delete\" }, [\n                                kendoDomElement($(kendo.ui.icon(styles.iconDelete))[0])\n                            ])\n                        ]));\n                    }\n\n                    if (isRtl) {\n                        offsetElement.children.push(kendoDomElement(\"span\", {\n                            className: styles.taskResizeHandle + \" \" + styles.taskResizeHandleWest,\n                            style: {\n                                right: position.width - 5 + \"px\"\n                            }\n                        }));\n                    } else {\n                        offsetElement.children.push(kendoDomElement(\"span\", {\n                            className: styles.taskResizeHandle + \" \" + styles.taskResizeHandleEast\n                        }));\n                    }\n                }\n\n                taskOffsetWrap = kendoDomElement(\"div\", {\n                    className: styles.taskOffsetWrap + \" \" + styles.taskInnerWrap\n                }, [ taskElement, offsetElement ]);\n\n                children.push(taskOffsetWrap);\n            } else if (plannedPosition) {\n                children.push(kendoDomElement(\"div\", {\n                    className: styles.taskInnerWrap\n                }, [ taskElement ]));\n            } else {\n                children.push(taskElement);\n            }\n\n            taskWrapper = kendoDomElement(\"div\", taskWrapAttr, children);\n\n            if (editable && editable.dependencyCreate !== false) {\n                if (plannedPosition && task.plannedEnd > task.end) {\n                    endTaskDotRight = plannedPosition.left + plannedPosition.width - position.left - position.width - 3 + \"px\";\n                }\n\n                taskWrapper.children.push(kendoDomElement(\"div\", {\n                    className: styles.taskDot + \" \" + styles.taskDotStart\n                }));\n\n                if (isRtl) {\n                    endTaskDotRight = \"auto\";\n                    if (plannedPosition && task.plannedEnd > task.end) {\n                        endTaskDotLeft = position.left - plannedPosition.left + \"px\";\n                    }\n                }\n\n                taskWrapper.children.push(kendoDomElement(\"div\", {\n                    className: styles.taskDot + \" \" + styles.taskDotEnd,\n                    style: { right: endTaskDotRight, left: endTaskDotLeft }\n                }));\n            }\n\n            if (!task.summary && !task.isMilestone() && editable && editable.dragPercentComplete !== false && editable.update !== false && this._taskTemplate === null) {\n                progressHandleOffset = Math.round(taskFullWidth * task.percentComplete);\n\n                dragHandleStyle[isRtl ? \"right\" : \"left\"] = progressHandleOffset + \"px\";\n                taskWrapper.children.push(kendoDomElement(\"div\", { className: styles.taskDragHandle, style: dragHandleStyle }));\n            }\n\n            return taskWrapper;\n        },\n\n        _renderSingleTask: function(task, position, plannedPosition) {\n            var styles = GanttView.styles;\n            var progressWidth;\n            var taskChildren = [];\n            var taskContent;\n            var editable = this.options.editable;\n            var classes = styles.task + \" \" + styles.taskSingle;\n            var widthExceptDelay = position.width;\n\n            if (plannedPosition) {\n                if (task.plannedEnd && task.plannedEnd <= task.start) {\n                    classes += \" \" + styles.taskDelayed;\n                } else if (task.plannedEnd && task.plannedEnd > task.end) {\n                    classes += \" \" + styles.taskAdvanced;\n                } else if (task.plannedEnd && task.plannedEnd < task.end) {\n                    if (!isRtl) {\n                        widthExceptDelay = widthExceptDelay - (position.left + position.width - plannedPosition.left - plannedPosition.width);\n                    } else {\n                        widthExceptDelay = widthExceptDelay + position.left - plannedPosition.left;\n                    }\n                }\n            }\n\n            progressWidth = Math.round(widthExceptDelay * task.percentComplete);\n\n            if (this._taskTemplate !== null) {\n                taskContent = kendoHtmlElement(this._taskTemplate(task));\n            } else {\n                taskContent = kendoTextElement(task.title);\n                taskChildren.push(kendoDomElement(\"div\", { className: styles.taskComplete, style: { width: progressWidth + \"px\" }, \"aria-hidden\": \"true\" }));\n            }\n\n            var content = kendoDomElement(\"div\", { className: styles.taskContent }, [\n                kendoDomElement(\"div\", { className: styles.taskTemplate }, [\n                    taskContent\n                ])\n            ]);\n\n            taskChildren.push(content);\n\n            if (editable) {\n                if (editable.destroy !== false && (!plannedPosition || !task.plannedEnd || (task.end <= task.plannedEnd || task.start >= task.plannedEnd))) {\n                    content.children.push(kendoDomElement(\"span\", { className: styles.taskActions, \"aria-hidden\": \"true\" }, [\n                        kendoDomElement(\"a\", { className: styles.link + \" \" + styles.taskDelete, href: \"#\", \"aria-label\": \"Delete\" }, [\n                            kendoDomElement($(kendo.ui.icon(styles.iconDelete))[0])\n                        ])\n                    ]));\n                }\n\n                if (editable.resize !== false && editable.update !== false) {\n                    content.children.push(kendoDomElement(\"span\", {\n                        className: styles.taskResizeHandle + \" \" + styles.taskResizeHandleWest\n                    }));\n                    content.children.push(kendoDomElement(\"span\", {\n                        className: styles.taskResizeHandle + \" \" + styles.taskResizeHandleEast\n                    }));\n                }\n            }\n\n            var element = kendoDomElement(\"div\", {\n                className: classes, \"data-uid\": task.uid, role: \"treeitem\", style:\n                    { width: Math.max((widthExceptDelay - position.borderWidth * 2), 0) + \"px\" }\n            }, taskChildren);\n\n            return element;\n        },\n\n        _renderMilestone: function(task) {\n            var styles = GanttView.styles;\n            var classes = styles.task + \" \" + styles.taskMilestone;\n            var showPlanned = this.options.showPlannedTasks;\n\n            if (showPlanned && task.plannedEnd && task.plannedEnd < task.start) {\n                classes += \" \" + styles.taskDelayed;\n            } else if (task.plannedStart && task.plannedStart > task.end) {\n                classes += \" \" + styles.taskAdvanced;\n            }\n\n            return kendoDomElement(\"div\", { className: classes, \"data-uid\": task.uid, role: \"treeitem\", \"aria-label\": task.title });\n        },\n\n        _renderSummary: function(task, position, plannedPosition) {\n            var styles = GanttView.styles;\n            var widthExceptDelay = position.width;\n            var progressWidth;\n            var classes = styles.task + \" \" + styles.taskSummary;\n\n            if (plannedPosition) {\n                if (task.plannedEnd && task.plannedEnd <= task.start) {\n                    classes += \" \" + styles.taskDelayed;\n                } else if (task.plannedEnd && task.plannedEnd > task.end) {\n                    classes += \" \" + styles.taskAdvanced;\n                } else if (task.plannedEnd && task.plannedEnd < task.end) {\n                    if (!isRtl) {\n                        widthExceptDelay = widthExceptDelay - (position.left + position.width - plannedPosition.left - plannedPosition.width);\n                    } else {\n                        widthExceptDelay = widthExceptDelay + position.left - plannedPosition.left;\n                    }\n                }\n            }\n\n            progressWidth = Math.round(widthExceptDelay * task.percentComplete);\n\n            var element = kendoDomElement(\"div\", { className: classes, \"data-uid\": task.uid, role: \"treeitem\", \"aria-label\": task.title, style: { width: widthExceptDelay + \"px\" } }, [\n                kendoDomElement(\"div\", { className: styles.taskSummaryProgress, style: { width: progressWidth + \"px\" } }, [\n                    kendoDomElement(\"div\", { className: styles.taskSummaryComplete, style: { width: position.width + \"px\" } })\n                ])\n            ]);\n\n            return element;\n        },\n\n        _renderPlannedSingleTask: function(position, plannedPosition, task) {\n            var styles = GanttView.styles;\n            var children = [];\n            var style = {};\n\n            if (task.plannedStart && task.plannedEnd) {\n                children.push(kendoDomElement(\"div\", { className: styles.taskPlannedMoment + \" \" + styles.taskPlannedMomentLeft }));\n                children.push(kendoDomElement(\"div\", {\n                    className: styles.taskPlannedDuration, style:\n                        { width: Math.max((plannedPosition.width - plannedPosition.borderWidth * 2 - 16), 0) + \"px\" }\n                }));\n                children.push(kendoDomElement(\"div\", { className: styles.taskPlannedMoment }));\n            } else if (task.plannedStart) {\n                children.push(kendoDomElement(\"div\", { className: styles.taskPlannedMoment + \" \" + styles.taskPlannedMomentLeft }));\n            } else if (task.plannedEnd) {\n                children.push(kendoDomElement(\"div\", { className: styles.taskPlannedMoment, style: { \"margin-left\": Math.max(plannedPosition.width - 5, 0) + \"px\" } }));\n            }\n\n            if (isRtl) {\n                style = {\n                    \"margin-right\": position.left - plannedPosition.left + position.width - plannedPosition.width + \"px\"\n                };\n            } else {\n                style = {\n                    \"margin-left\": plannedPosition.left - position.left + \"px\"\n                };\n            }\n\n            var element = kendoDomElement(\"div\", {\n                className: styles.taskPlanned,\n                style: style\n            }, children);\n\n            return element;\n        },\n\n        _renderPlannedMilestone: function(position, plannedPosition) {\n            var styles = GanttView.styles;\n            var style = {};\n            var element;\n\n            if (isRtl) {\n                style = {\n                    \"margin-right\": position.left - plannedPosition.left + \"px\"\n                };\n            } else {\n                style = {\n                    \"margin-left\": plannedPosition.left - position.left + \"px\"\n                };\n            }\n\n            element = kendoDomElement(\"div\", {\n                className: styles.taskPlanned,\n                style: style\n            }, [\n                kendoDomElement(\"div\", { className: styles.taskPlannedMoment })\n            ]);\n\n            return element;\n        },\n\n        _renderResources: function(resources, className) {\n            var children = [];\n            var resource;\n\n            for (var i = 0, length = resources.length; i < length; i++) {\n                resource = resources[i];\n                children.push(kendoDomElement(\"span\", {\n                    className: className,\n                    style: {\n                        \"color\": resource.get(\"color\")\n                    }\n                }, [kendoTextElement(resource.get(\"name\"))]));\n            }\n\n            if (isRtl) {\n                children.reverse();\n            }\n\n            return children;\n        },\n\n        _taskPosition: function(task) {\n            var round = Math.round;\n\n            var startLeft = round(this._offset(isRtl ? task.end : task.start));\n            var endLeft = round(this._offset(isRtl ? task.start : task.end));\n\n            return { left: startLeft, width: endLeft - startLeft };\n        },\n\n        _taskPositionPlanned: function(task) {\n            var round = Math.round;\n\n            var startLeft = round(this._offset(isRtl ? task.plannedEnd : task.plannedStart));\n            var endLeft = round(this._offset(isRtl ? task.plannedStart : task.plannedEnd));\n\n            return { left: startLeft, width: endLeft - startLeft };\n        },\n\n        _offset: function(date) {\n            var slots = this._timeSlots();\n            var slot;\n            var startOffset;\n            var slotDuration;\n            var slotOffset = 0;\n            var startIndex;\n\n            if (!slots.length) {\n                return 0;\n            }\n\n            startIndex = this._slotIndex(\"start\", date);\n\n            slot = slots[startIndex];\n\n            if (slot.end < date) {\n                slotOffset = slot.offsetWidth;\n            } else if (slot.start <= date) {\n                startOffset = date - slot.start;\n                slotDuration = slot.end - slot.start;\n                slotOffset = (startOffset / slotDuration) * slot.offsetWidth;\n            }\n\n            if (isRtl) {\n                slotOffset = (slot.offsetWidth + 1) - slotOffset; // Add one pixel for border\n            }\n\n            return slot.offsetLeft + slotOffset;\n        },\n\n        _slotIndex: function(field, value, reverse) {\n            var slots = this._timeSlots();\n            var startIdx = 0;\n            var endIdx = slots.length - 1;\n            var middle;\n\n            if (reverse) {\n                slots = [].slice.call(slots).reverse();\n            }\n\n            do {\n                middle = Math.ceil((endIdx + startIdx) / 2);\n\n                if (slots[middle][field] < value) {\n                    startIdx = middle;\n                } else {\n                    if (middle === endIdx) {\n                        middle--;\n                    }\n\n                    endIdx = middle;\n                }\n            } while (startIdx !== endIdx);\n\n            if (reverse) {\n                startIdx = (slots.length - 1) - startIdx;\n            }\n\n            return startIdx;\n        },\n\n        _timeByPosition: function(x, snap, snapToEnd) {\n            var slot = this._slotByPosition(x);\n\n            if (snap) {\n                return snapToEnd ? slot.end : slot.start;\n            }\n\n            var offsetLeft = x - this.element.find(DOT + GanttView.styles.tasksTable).offset().left;\n            var duration = slot.end - slot.start;\n            var slotOffset = offsetLeft - slot.offsetLeft;\n\n            if (isRtl) {\n                slotOffset = slot.offsetWidth - slotOffset;\n            }\n\n            return new Date(slot.start.getTime() + (duration * (slotOffset / slot.offsetWidth)));\n        },\n\n        _slotByPosition: function(x) {\n            var offsetLeft = x - this.element.find(DOT + GanttView.styles.tasksTable).offset().left;\n            var slotIndex = this._slotIndex(\"offsetLeft\", offsetLeft, isRtl);\n\n            return this._timeSlots()[slotIndex];\n        },\n\n        _renderDependencies: function(dependencies) {\n            var elements = [];\n            var tree = this._dependencyTree;\n\n            for (var i = 0, l = dependencies.length; i < l; i++) {\n                elements.push.apply(elements, this._renderDependency(dependencies[i]));\n            }\n\n            tree.render(elements);\n        },\n\n        _renderDependency: function(dependency) {\n            var predecessor = this._taskCoordinates[dependency.predecessorId];\n            var successor = this._taskCoordinates[dependency.successorId];\n            var elements;\n            var method;\n\n            if (!predecessor || !successor) {\n                return [];\n            }\n\n            method = \"_render\" + [\"FF\", \"FS\", \"SF\", \"SS\"][isRtl ? 3 - dependency.type : dependency.type];\n\n            elements = this[method](predecessor, successor);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                elements[i].attr[\"data-uid\"] = dependency.uid;\n            }\n\n            return elements;\n        },\n\n        _renderFF: function(from, to) {\n            var lines = this._dependencyFF(from, to, false);\n\n            lines[lines.length - 1].children[0] = this._arrow(true);\n\n            return lines;\n        },\n\n        _renderSS: function(from, to) {\n            var lines = this._dependencyFF(to, from, true);\n\n            lines[0].children[0] = this._arrow(false);\n\n            return lines.reverse();\n        },\n\n        _renderFS: function(from, to) {\n            var lines = this._dependencyFS(from, to, false);\n\n            lines[lines.length - 1].children[0] = this._arrow(false);\n\n            return lines;\n        },\n\n        _renderSF: function(from, to) {\n            var lines = this._dependencyFS(to, from, true);\n\n            lines[0].children[0] = this._arrow(true);\n\n            return lines.reverse();\n        },\n\n        _dependencyFF: function(from, to, reverse) {\n            var that = this;\n            var lines = [];\n            var left = 0;\n            var top = 0;\n            var width = 0;\n            var height = 0;\n            var dir = reverse ? \"start\" : \"end\";\n            var delta;\n            var overlap = 2;\n            var arrowOverlap = 1;\n            var rowHeight = this._rowHeight;\n            var minLineWidth = 10;\n            var fromTop = from.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n            var toTop = to.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n            var styles = GanttView.styles;\n\n            var addHorizontal = function() {\n                lines.push(that._line(styles.line + \" \" + styles.lineHorizontal, { left: left + \"px\", top: top + \"px\", width: width + \"px\" }));\n            };\n            var addVertical = function() {\n                lines.push(that._line(styles.line + \" \" + styles.lineVertical, { left: left + \"px\", top: top + \"px\", height: height + \"px\" }));\n            };\n\n            left = from[dir];\n            top = fromTop;\n            width = minLineWidth;\n\n            delta = to[dir] - from[dir];\n\n            if ((delta) > 0 !== reverse) {\n                width = Math.abs(delta) + minLineWidth;\n            }\n\n            if (reverse) {\n                left -= width;\n                width -= arrowOverlap;\n                addHorizontal();\n            } else {\n                addHorizontal();\n                left += width - overlap;\n            }\n\n            if (toTop < top) {\n                height = top - toTop;\n                height += overlap;\n                top = toTop;\n                addVertical();\n            } else {\n                height = toTop - top;\n                height += overlap;\n                addVertical();\n                top += (height - overlap);\n            }\n\n            width = Math.abs(left - to[dir]);\n\n            if (!reverse) {\n                width -= arrowOverlap;\n                left -= width;\n            }\n\n            addHorizontal();\n\n            return lines;\n        },\n\n        _dependencyFS: function(from, to, reverse) {\n            var that = this;\n            var lines = [];\n            var left = 0;\n            var top = 0;\n            var width = 0;\n            var height = 0;\n            var rowHeight = this._rowHeight;\n            var minLineHeight = Math.floor(rowHeight / 2);\n            var minLineWidth = 10;\n            var minDistance = 2 * minLineWidth;\n            var delta = to.start - from.end;\n            var overlap = 2;\n            var arrowOverlap = 1;\n            var fromTop = from.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n            var toTop = to.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n            var styles = GanttView.styles;\n\n            var addHorizontal = function() {\n                lines.push(that._line(styles.line + \" \" + styles.lineHorizontal, { left: left + \"px\", top: top + \"px\", width: width + \"px\" }));\n            };\n            var addVertical = function() {\n                lines.push(that._line(styles.line + \" \" + styles.lineVertical, { left: left + \"px\", top: top + \"px\", height: height + \"px\" }));\n            };\n\n            left = from.end;\n            top = fromTop;\n            width = minLineWidth;\n\n            if (reverse) {\n                left += arrowOverlap;\n\n                if (delta > minDistance) {\n                    width = delta - (minLineWidth - overlap);\n                }\n\n                width -= arrowOverlap;\n            }\n\n            addHorizontal();\n            left += width - overlap;\n\n            if ((delta) <= minDistance) {\n                height = reverse ? Math.abs(toTop - fromTop) - minLineHeight : minLineHeight;\n\n                if (toTop < fromTop) {\n                    top -= height;\n\n                    height += overlap;\n\n                    addVertical();\n                } else {\n                    addVertical();\n                    top += height;\n                }\n\n                width = (from.end - to.start) + minDistance;\n\n                if (width < minLineWidth) {\n                    width = minLineWidth;\n                }\n\n                left -= width - overlap;\n\n                addHorizontal();\n            }\n\n            if (toTop < fromTop) {\n                height = top - toTop;\n                top = toTop;\n\n                height += overlap;\n\n                addVertical();\n            } else {\n                height = toTop - top;\n                addVertical();\n                top += height;\n            }\n\n            width = to.start - left;\n\n            if (!reverse) {\n                width -= arrowOverlap;\n            }\n\n            addHorizontal();\n\n            return lines;\n        },\n\n        _line: function(className, styles) {\n            return kendoDomElement(\"div\", { className: className, style: styles });\n        },\n\n        _arrow: function(direction) {\n            return kendoDomElement(\"span\", { className: direction ? GanttView.styles.arrowWest : GanttView.styles.arrowEast });\n        },\n\n        _colgroup: function() {\n            var slots = this._timeSlots();\n            var count = slots.length;\n            var cols = [];\n\n            for (var i = 0; i < count; i++) {\n                for (var j = 0, length = slots[i].span; j < length; j++) {\n                    cols.push(kendoDomElement(\"col\"));\n                }\n            }\n\n            return kendoDomElement(\"colgroup\", null, cols);\n        },\n\n        _createDragHint: function(element) {\n            var styles = GanttView.styles;\n            var plannedElement;\n\n            this._dragHint = element\n                .clone()\n                .addClass(styles.dragHint)\n                .css({\n                    \"cursor\": \"move\"\n                });\n\n            plannedElement = this._dragHint.find(DOT + styles.taskPlanned);\n\n            plannedElement.css({\n                \"visibility\": \"hidden\"\n            });\n\n            if (isRtl && element.find(DOT + styles.taskAdvanced).length > 0) {\n                plannedElement.css({\n                    \"margin-right\": \"auto\",\n                    \"width\": 0\n                });\n\n                this._dragHint.find(DOT + styles.taskDotEnd).css({\n                    \"left\": 0\n                });\n            }\n\n            element\n                .closest(\"td\")\n                .append(this._dragHint);\n        },\n\n        _updateDragHint: function(start) {\n            var left = this._offset(start);\n            this._dragHint\n                .css({\n                    \"left\": left\n                });\n        },\n\n        _removeDragHint: function() {\n            this._dragHint.remove();\n            this._dragHint = null;\n        },\n\n        _createResizeHint: function(task) {\n            var styles = GanttView.styles;\n            var taskTop = this._taskCoordinates[task.id].rowIndex * this._rowHeight;\n            var tooltipHeight;\n            var tooltipTop;\n            var options = this.options;\n            var messages = options.messages;\n\n            this._resizeHint = $(RESIZE_HINT({ styles: styles })).css({\n                \"top\": 0,\n                \"height\": this._contentHeight\n            });\n\n            this.content.append(this._resizeHint);\n\n            this._resizeTooltip = $(RESIZE_TOOLTIP_TEMPLATE({\n                styles: styles,\n                start: task.start,\n                end: task.end,\n                messages: messages.views,\n                format: options.resizeTooltipFormat\n            }))\n            .css({\n                \"z-index\": \"100002\",\n                \"top\": 0,\n                \"left\": 0\n            });\n\n            this.content.append(this._resizeTooltip);\n\n            this._resizeTooltipWidth = outerWidth(this._resizeTooltip);\n            tooltipHeight = outerHeight(this._resizeTooltip);\n\n            tooltipTop = taskTop - tooltipHeight;\n\n            if (tooltipTop < 0) {\n                tooltipTop = taskTop + this._rowHeight;\n            }\n\n            this._resizeTooltipTop = tooltipTop;\n        },\n\n        _updateResizeHint: function(start, end, resizeStart) {\n            var left = this._offset(isRtl ? end : start);\n            var right = this._offset(isRtl ? start : end);\n            var width = right - left;\n            var tooltipLeft = (resizeStart !== isRtl) ? left : right;\n            var tablesWidth = this._tableWidth - kendo.support.scrollbar();\n            var tooltipWidth = this._resizeTooltipWidth;\n            var options = this.options;\n            var messages = options.messages;\n            var tableOffset = this.element.find(DOT + GanttView.styles.tasksTable).offset().left - this.element.find(DOT + GanttView.styles.tasksWrapper).offset().left;\n\n            if (isRtl) {\n                left += tableOffset;\n            }\n\n            this._resizeHint\n                .css({\n                    \"left\": left,\n                    \"width\": width\n                });\n\n            if (this._resizeTooltip) {\n                this._resizeTooltip.remove();\n            }\n\n            tooltipLeft -= Math.round(tooltipWidth / 2);\n\n            if (tooltipLeft < 0) {\n                tooltipLeft = 0;\n            } else if (tooltipLeft + tooltipWidth > tablesWidth) {\n                tooltipLeft = tablesWidth - tooltipWidth;\n            }\n\n            if (isRtl) {\n                tooltipLeft += tableOffset;\n            }\n\n            this._resizeTooltip = $(RESIZE_TOOLTIP_TEMPLATE({\n                styles: GanttView.styles,\n                start: start,\n                end: end,\n                messages: messages.views,\n                format: options.resizeTooltipFormat\n            }))\n            .css({\n                \"z-index\": \"100002\",\n                \"top\": this._resizeTooltipTop,\n                \"left\": tooltipLeft,\n                \"min-width\": tooltipWidth\n            })\n            .appendTo(this.content);\n        },\n\n        _removeResizeHint: function() {\n            this._resizeHint.remove();\n            this._resizeHint = null;\n\n            this._resizeTooltip.remove();\n            this._resizeTooltip = null;\n        },\n\n        _updatePercentCompleteTooltip: function(top, left, text) {\n            this._removePercentCompleteTooltip();\n\n            var tooltip = this._percentCompleteResizeTooltip = $(PERCENT_RESIZE_TOOLTIP_TEMPLATE({ styles: GanttView.styles, text: text }));\n            kendo.applyStylesFromKendoAttributes(tooltip, [\"z-index\", \"left\"]);\n            tooltip.appendTo(this.element);\n\n            var tooltipMiddle = Math.round(outerWidth(tooltip) / 2);\n            var arrow = tooltip.find(DOT + GanttView.styles.callout);\n            var arrowHeight = Math.round(outerWidth(arrow) / 2);\n\n            tooltip.css({\n                \"top\": top - (outerHeight(tooltip) + arrowHeight),\n                \"left\": left - tooltipMiddle\n            });\n\n            arrow.css(\"left\", tooltipMiddle - arrowHeight);\n        },\n\n        _removePercentCompleteTooltip: function() {\n            if (this._percentCompleteResizeTooltip) {\n                this._percentCompleteResizeTooltip.remove();\n            }\n\n            this._percentCompleteResizeTooltip = null;\n        },\n\n        _updateDependencyDragHint: function(from, to) {\n            this._removeDependencyDragHint();\n\n            this._creteDependencyDragHint(from, to);\n        },\n\n        _creteDependencyDragHint: function(from, to) {\n            var styles = GanttView.styles;\n\n            var deltaX = to.x - from.x;\n            var deltaY = to.y - from.y;\n\n            var width = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n            var angle = Math.atan(deltaY / deltaX);\n\n            if (deltaX < 0) {\n                angle += Math.PI;\n            }\n\n            $(\"<div class='\" + styles.line + \" \" + styles.lineHorizontal + \" \" + styles.dependencyHint + \"'></div>\")\n                .css({\n                    \"top\": from.y,\n                    \"left\": from.x,\n                    \"width\": width,\n                    \"transform-origin\": \"0% 0\",\n                    \"-ms-transform-origin\": \"0% 0\",\n                    \"-webkit-transform-origin\": \"0% 0\",\n                    \"transform\": \"rotate(\" + angle + \"rad)\",\n                    \"-ms-transform\": \"rotate(\" + angle + \"rad)\",\n                    \"-webkit-transform\": \"rotate(\" + angle + \"rad)\"\n                })\n                .appendTo(this.content);\n        },\n\n        _removeDependencyDragHint: function() {\n            this.content.find(DOT + GanttView.styles.dependencyHint).remove();\n        },\n\n        _createTaskTooltip: function(task, element, mouseLeft) {\n            var styles = GanttView.styles;\n            var options = this.options;\n            var content = this.content;\n            var contentOffset = content.offset();\n            var contentScrollLeft = kendo.scrollLeft(content);\n            var row = $(element).parents(\"tr\").first();\n            var rowOffset = row.offset();\n            var template = (options.tooltip && options.tooltip.template) ? kendo.template(options.tooltip.template) : TASK_TOOLTIP_TEMPLATE;\n            var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar())\n                : mouseLeft - (contentOffset.left - contentScrollLeft);\n            var top = (rowOffset.top + outerHeight(row) - contentOffset.top) + content.scrollTop();\n            var tooltip = this._taskTooltip = $('<div class=\"' + styles.tooltipWrapper + '\" >' +\n                                   '<div class=\"' + styles.taskContent + '\"></div></div>');\n\n            tooltip\n                .css({\n                    \"z-index\": \"100002\",\n                    \"left\": left,\n                    \"top\": top\n                })\n                .appendTo(content)\n                .find(DOT + styles.taskContent)\n                .append(template({\n                    styles: styles,\n                    task: task,\n                    messages: options.messages.views\n                }));\n\n            this._adjustTooltipDimensions(tooltip, rowOffset, contentOffset, left, contentScrollLeft);\n        },\n\n        _removeTaskTooltip: function() {\n            if (this._taskTooltip) {\n                this._taskTooltip.remove();\n            }\n\n            this._taskTooltip = null;\n        },\n\n        _createOffsetTooltip: function(task, element, mouseLeft) {\n            var styles = GanttView.styles;\n            var content = this.content;\n            var contentOffset = content.offset();\n            var contentScrollLeft = kendo.scrollLeft(content);\n            var row = element.parents(\"tr\").first();\n            var rowOffset = row.offset();\n            var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar())\n                : mouseLeft - (contentOffset.left - contentScrollLeft);\n            var top = (rowOffset.top + outerHeight(row) - contentOffset.top) + content.scrollTop();\n            var tooltip = this._offsetTooltip = $('<div class=\"' + styles.tooltipWrapper + '\" ></div>');\n            var offsetValue = Math.round((task.end.getTime() - task.plannedEnd.getTime()) / 60000);\n            var plannedTasksMessages = this.options.messages.plannedTasks;\n            var minutes = offsetValue % 60;\n            var offsetText = minutes + \" \" + plannedTasksMessages.minutes;\n            var hours, days;\n\n            if (offsetValue >= 60) {\n                hours = offsetValue = Math.floor(offsetValue / 60);\n\n                offsetText = hours + \" \" + plannedTasksMessages.hours;\n\n                if (minutes !== 0) {\n                    offsetText += (\" \" + minutes + \" \" + plannedTasksMessages.minutes);\n                }\n\n                if (offsetValue >= 24) {\n                    hours = offsetValue % 24;\n                    days = offsetValue = Math.floor(offsetValue / 24);\n\n                    offsetText = days + \" \" + plannedTasksMessages.days;\n\n                    if (hours !== 0) {\n                        offsetText += (\" \" + hours + \" \" + plannedTasksMessages.hours);\n                    }\n                }\n            }\n\n            tooltip\n                .css({\n                    \"z-index\": \"100002\",\n                    \"left\": left,\n                    \"top\": top\n                })\n                .addClass(styles.offsetTooltipDelay)\n                .appendTo(content)\n                .append(OFFSET_TOOLTIP_TEMPLATE({\n                    offsetPrefix: plannedTasksMessages.offsetTooltipDelay,\n                    offsetText: offsetText\n                }));\n\n            this._adjustTooltipDimensions(tooltip, rowOffset, contentOffset, left, contentScrollLeft);\n        },\n\n        _removeOffsetTooltip: function() {\n            if (this._offsetTooltip) {\n                this._offsetTooltip.remove();\n            }\n\n            this._offsetTooltip = null;\n        },\n\n        _createPlannedTooltip: function(task, element, mouseLeft) {\n            var styles = GanttView.styles;\n            var content = this.content;\n            var contentOffset = content.offset();\n            var contentScrollLeft = kendo.scrollLeft(content);\n            var row = element.parents(\"tr\").first();\n            var rowOffset = row.offset();\n            var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar())\n                : mouseLeft - (contentOffset.left - contentScrollLeft);\n            var top = (rowOffset.top + outerHeight(row) - contentOffset.top) + content.scrollTop();\n            var tooltip = this._plannedTooltip = $('<div class=\"' + styles.tooltipWrapper + ' ' + styles.plannedTooltip + '\" ></div>');\n            var editorMessages = this.options.messages.editor;\n\n            tooltip\n                .css({\n                    \"z-index\": \"100002\",\n                    \"left\": left,\n                    \"top\": top\n                })\n                .appendTo(content)\n                .append(PLANNED_TOOLTIP_TEMPLATE({\n                    plannedStart: editorMessages.plannedStart,\n                    startDate: kendo.toString(task.plannedStart, \"H:mm tt ddd, MMM dd\"),\n                    plannedEnd: editorMessages.plannedEnd,\n                    endDate: kendo.toString(task.plannedEnd, \"H:mm tt ddd, MMM dd\")\n                }));\n\n            this._adjustTooltipDimensions(tooltip, rowOffset, contentOffset, left, contentScrollLeft);\n        },\n\n        _removePlannedTooltip: function() {\n            if (this._plannedTooltip) {\n                this._plannedTooltip.remove();\n            }\n\n            this._plannedTooltip = null;\n        },\n\n        _adjustTooltipDimensions: function(tooltip, rowOffset, contentOffset, left, contentScrollLeft) {\n            var content = this.content;\n            var contentWidth = content.width();\n            var tooltipWidth;\n\n            if (outerHeight(tooltip) < rowOffset.top - contentOffset.top) {\n                tooltip.css(\"top\", ((rowOffset.top - contentOffset.top) - outerHeight(tooltip)) + content.scrollTop());\n            }\n\n            tooltipWidth = outerWidth(tooltip);\n\n            if ((tooltipWidth + left) - contentScrollLeft > contentWidth) {\n                left -= tooltipWidth;\n\n                if (left < contentScrollLeft) {\n                    left = (contentScrollLeft + contentWidth) - (tooltipWidth + 17);\n                }\n\n                tooltip.css(\"left\", left);\n            }\n        },\n\n        _scrollTo: function(element) {\n            var elementLeft = element.offset().left;\n            var elementWidth = element.width();\n            var elementRight = elementLeft + elementWidth;\n\n            var row = element.closest(\"tr\");\n            var rowTop = row.offset().top;\n            var rowHeight = row.height();\n            var rowBottom = rowTop + rowHeight;\n\n            var content = this.content;\n            var contentOffset = content.offset();\n            var contentTop = contentOffset.top;\n            var contentHeight = content.height();\n            var contentBottom = contentTop + contentHeight;\n            var contentLeft = contentOffset.left;\n            var contentWidth = content.width();\n            var contentRight = contentLeft + contentWidth;\n\n            var scrollbarWidth = kendo.support.scrollbar();\n\n            if (rowTop < contentTop) {\n                content.scrollTop(content.scrollTop() + (rowTop - contentTop));\n            } else if (rowBottom > contentBottom) {\n                content.scrollTop(content.scrollTop() + (rowBottom + scrollbarWidth - contentBottom));\n            }\n\n            if (elementLeft < contentLeft && elementWidth > contentWidth && elementRight < contentRight ||\n                elementRight > contentRight && elementWidth < contentWidth) {\n                    kendo.scrollLeft(content, kendo.scrollLeft(content) + (elementRight + scrollbarWidth - contentRight));\n            } else if (elementRight > contentRight && elementWidth > contentWidth && elementLeft > contentLeft ||\n                elementLeft < contentLeft && elementWidth < contentWidth) {\n            kendo.scrollLeft(content, kendo.scrollLeft(content) + (elementLeft - contentLeft));\n            }\n        },\n\n        _scrollToDate: function(date) {\n            var viewStart = this.start;\n            var viewEnd = this.end;\n            var offset;\n\n            if (date >= viewStart && date < viewEnd) {\n                offset = this._offset(date);\n\n                if (kendo.support.isRtl(this.element)) {\n                    offset = this._tableWidth - offset;\n                }\n\n                kendo.scrollLeft(this.content, offset);\n            }\n        },\n\n        _timeSlots: function() {\n            if (!this._slots || !this._slots.length) {\n                return [];\n            }\n\n            return this._slots[this._slots.length - 1];\n        },\n\n        _headers: function(columnLevels) {\n            var rows = [];\n            var level;\n            var headers;\n            var column;\n            var headerText;\n            var styles = GanttView.styles;\n\n            for (var levelIndex = 0, levelCount = columnLevels.length; levelIndex < levelCount; levelIndex++) {\n                level = columnLevels[levelIndex];\n                headers = [];\n\n                for (var columnIndex = 0, columnCount = level.length; columnIndex < columnCount; columnIndex++) {\n                    column = level[columnIndex];\n\n                    headerText = kendoHtmlElement(column.text);\n                    headers.push(kendoDomElement(\"td\", { colspan: column.span, className: styles.header + (column.isNonWorking ? (\" \" + styles.nonWorking) : \"\") }, [headerText]));\n                }\n\n                rows.push(kendoDomElement(\"tr\", { className: styles.tableRow }, headers));\n            }\n\n            return rows;\n        },\n\n        _hours: function(start, end) {\n            var slotEnd;\n            var slots = [];\n            var options = this.options;\n            var workDayStart = options.workDayStart.getHours();\n            var workDayEnd = options.workDayEnd.getHours();\n            var isWorkHour;\n            var hours;\n            var hourSpan = options.hourSpan;\n\n            start = new Date(start);\n            end = new Date(end);\n\n            if (options.showWorkHours) {\n                start.setHours(workDayStart);\n            }\n\n            while (start < end) {\n                slotEnd = new Date(start);\n                hours = slotEnd.getHours();\n\n                isWorkHour = hours >= workDayStart && hours < workDayEnd;\n\n                slotEnd.setHours(slotEnd.getHours() + hourSpan);\n\n                if (hours == slotEnd.getHours()) {\n                    // Chrome DTS Fix\n                    slotEnd.setHours(slotEnd.getHours() + 2 * hourSpan);\n                }\n\n                if (!options.showWorkHours || isWorkHour) {\n                    slots.push({\n                        start: start,\n                        end: slotEnd,\n                        isNonWorking: !isWorkHour,\n                        span: 1\n                    });\n                }\n\n                start = slotEnd;\n            }\n\n            return slots;\n        },\n\n        _days: function(start, end) {\n            var slotEnd;\n            var slots = [];\n            var isWorkDay;\n\n            start = new Date(start);\n            end = new Date(end);\n\n            while (start < end) {\n                slotEnd = end < kendo.date.nextDay(start) ? end : kendo.date.nextDay(start);\n\n                isWorkDay = this._isWorkDay(start);\n\n                if (!this.options.showWorkDays || isWorkDay) {\n                    slots.push({\n                        start: start,\n                        end: slotEnd,\n                        isNonWorking: !isWorkDay,\n                        span: 1\n                    });\n                }\n\n                start = slotEnd;\n            }\n\n            return slots;\n        },\n\n        _weeks: function(start, end) {\n            var slotEnd;\n            var slots = [];\n            var firstDay = this.calendarInfo().firstDay;\n            var daySlots;\n            var span;\n\n            start = new Date(start);\n            end = new Date(end);\n\n            while (start < end) {\n                slotEnd = kendo.date.dayOfWeek(kendo.date.addDays(start, 1), firstDay, 1);\n\n                if (slotEnd > end) {\n                    slotEnd = end;\n                }\n\n                daySlots = this._days(start, slotEnd);\n                span = daySlots.length;\n\n                if (span > 0) {\n                    slots.push({\n                        start: daySlots[0].start,\n                        end: daySlots[span - 1].end,\n                        span: span\n                    });\n                }\n\n                start = slotEnd;\n            }\n\n            return slots;\n        },\n\n        _months: function(start, end) {\n            var slotEnd;\n            var endMonth;\n            var slots = [];\n            var daySlots;\n            var span;\n\n            start = new Date(start);\n            end = new Date(end);\n\n            while (start < end) {\n                slotEnd = new Date(start);\n                endMonth = kendo.date.firstDayOfMonth(new Date(slotEnd.setMonth(slotEnd.getMonth() + 1)));\n                slotEnd = end < endMonth ? end : endMonth;\n\n                daySlots = this._days(start, slotEnd);\n                span = daySlots.length;\n\n                if (span > 0) {\n                    slots.push({\n                        start: daySlots[0].start,\n                        end: daySlots[span - 1].end,\n                        span: span\n                    });\n                }\n\n                start = slotEnd;\n            }\n\n            return slots;\n        },\n\n        _years: function(start, end) {\n            var slotEnd;\n            var monthSpan;\n            var endMonth;\n            var slots = [];\n\n            start = new Date(start);\n            end = new Date(end);\n\n            while (start < end) {\n                slotEnd = new Date(start);\n                slotEnd = kendo.date.firstDayOfMonth(new Date(slotEnd.setMonth(12)));\n\n                if (slotEnd >= end) {\n                    slotEnd = end;\n                }\n\n                endMonth = slotEnd.getMonth() || 12;\n                monthSpan = endMonth - start.getMonth();\n\n                slots.push({\n                    start: start,\n                    end: slotEnd,\n                    span: monthSpan\n                });\n\n                start = slotEnd;\n            }\n\n            return slots;\n        },\n\n        _slotHeaders: function(slots, template) {\n            var columns = [];\n            var slot;\n\n            for (var i = 0, l = slots.length; i < l; i++) {\n                slot = slots[i];\n\n                columns.push({\n                    text: template(slot),\n                    isNonWorking: !!slot.isNonWorking,\n                    span: slot.span\n                });\n            }\n\n            return columns;\n        },\n\n        _isWorkDay: function(date) {\n            var day = date.getDay();\n            var workDays = this._workDays;\n\n            for (var i = 0, l = workDays.length; i < l; i++) {\n                if (workDays[i] === day) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        calendarInfo: function() {\n            return kendo.getCulture().calendars.standard;\n        },\n\n        _renderCurrentTime: function() {\n            var currentTime = this._getCurrentTime();\n            var timeOffset = this._offset(currentTime);\n            var element = $(\"<div class='k-current-time'></div>\");\n            var viewStyles = GanttView.styles;\n            var tablesWrap = this.element.find(DOT + viewStyles.tasksWrapper);\n            var tasksTable = this.element.find(DOT + viewStyles.tasksTable);\n            var slot;\n\n            if (!this.content || !this._timeSlots().length) {\n                return;\n            }\n\n            this.content.find(\".k-current-time\").remove();\n\n            slot = this._timeSlots()[this._slotIndex(\"start\", currentTime)];\n\n            if (currentTime < slot.start || currentTime > slot.end) {\n                return;\n            }\n\n            if (tablesWrap.length && tasksTable.length) {\n                timeOffset += tasksTable.offset().left - tablesWrap.offset().left;\n            }\n\n            element.css({\n                left: timeOffset + \"px\",\n                top: \"0px\",\n                width: \"1px\",\n                height: this._contentHeight + \"px\"\n            })\n            .appendTo(this.content);\n        },\n\n        _getCurrentTime: function() {\n            // Introduced for testing purposes\n            return new Date();\n        },\n\n        _currentTime: function() {\n            var markerOptions = this.options.currentTimeMarker;\n\n            if (markerOptions !== false && markerOptions.updateInterval !== undefined) {\n                this._renderCurrentTime();\n                this._currentTimeUpdateTimer = setInterval(this._renderCurrentTime.bind(this), markerOptions.updateInterval);\n            }\n        }\n    });\n\n    extend(true, GanttView, { styles: viewStyles });\n\n    kendo.ui.GanttDayView = GanttView.extend({\n        name: \"day\",\n\n        options: {\n            timeHeaderTemplate: TIME_HEADER_TEMPLATE,\n            dayHeaderTemplate: DAY_HEADER_TEMPLATE,\n            resizeTooltipFormat: \"h:mm tt ddd, MMM d\"\n        },\n\n        range: function(range) {\n            var optionsRange = this.options.range;\n            this.start = kendo.date.getDate(range.start);\n            this.end = kendo.date.getDate(range.end);\n\n            if (kendo.date.getMilliseconds(range.end) > 0 || this.end.getTime() === this.start.getTime()) {\n                this.end = kendo.date.addDays(this.end, 1);\n            }\n\n            if (optionsRange && optionsRange.start) {\n                this.start = kendo.date.getDate(optionsRange.start);\n                this.start.setHours(optionsRange.start.getHours());\n            }\n\n            if (optionsRange && optionsRange.end) {\n                this.end = kendo.date.getDate(optionsRange.end);\n                this.end.setHours(optionsRange.end.getHours());\n            }\n        },\n\n        _createSlots: function() {\n            var daySlots;\n            var daySlot;\n            var hourSlots;\n            var hours;\n            var slots = [];\n\n            daySlots = this._days(this.start, this.end);\n            hourSlots = [];\n\n            for (var i = 0, l = daySlots.length; i < l; i++) {\n                daySlot = daySlots[i];\n                hours = this._hours(daySlot.start, daySlot.end);\n\n                daySlot.span = hours.length;\n\n                hourSlots.push.apply(hourSlots, hours);\n            }\n\n            slots.push(daySlots);\n            slots.push(hourSlots);\n\n            return slots;\n        },\n\n        _layout: function() {\n            var rows = [];\n            var options = this.options;\n\n            rows.push(this._slotHeaders(this._slots[0], kendo.template(options.dayHeaderTemplate)));\n            rows.push(this._slotHeaders(this._slots[1], kendo.template(options.timeHeaderTemplate)));\n\n            return rows;\n        }\n    });\n\n    kendo.ui.GanttWeekView = GanttView.extend({\n        name: \"week\",\n\n        options: {\n            dayHeaderTemplate: DAY_HEADER_TEMPLATE,\n            weekHeaderTemplate: WEEK_HEADER_TEMPLATE,\n            resizeTooltipFormat: \"h:mm tt ddd, MMM d\"\n        },\n\n        range: function(range) {\n            var optionsRange = this.options.range;\n            var calendarInfo = this.calendarInfo();\n            var firstDay = calendarInfo.firstDay;\n            var rangeEnd = range.end;\n            var endDay;\n\n            if (firstDay === rangeEnd.getDay()) {\n                rangeEnd.setDate(rangeEnd.getDate() + 7);\n            }\n\n            this.start = kendo.date.getDate(kendo.date.dayOfWeek(range.start, firstDay, -1));\n            this.end = kendo.date.getDate(kendo.date.dayOfWeek(rangeEnd, firstDay, 1));\n\n            if (optionsRange && optionsRange.start) {\n                this.start = kendo.date.getDate(optionsRange.start);\n            }\n\n            if (optionsRange && optionsRange.end) {\n                endDay = new Date(optionsRange.end);\n\n                if (kendo.date.getDate(endDay) < optionsRange.end) {\n                    this.end = kendo.date.getDate(new Date(endDay.setDate(endDay.getDate() + 1)));\n                } else {\n                    this.end = kendo.date.getDate(endDay);\n                }\n            }\n        },\n\n        _createSlots: function() {\n            var slots = [];\n\n            slots.push(this._weeks(this.start, this.end));\n            slots.push(this._days(this.start, this.end));\n\n            return slots;\n        },\n\n        _layout: function() {\n            var rows = [];\n            var options = this.options;\n\n            rows.push(this._slotHeaders(this._slots[0], kendo.template(options.weekHeaderTemplate)));\n            rows.push(this._slotHeaders(this._slots[1], kendo.template(options.dayHeaderTemplate)));\n\n            return rows;\n        }\n    });\n\n    kendo.ui.GanttMonthView = GanttView.extend({\n        name: \"month\",\n\n        options: {\n            weekHeaderTemplate: WEEK_HEADER_TEMPLATE,\n            monthHeaderTemplate: MONTH_HEADER_TEMPLATE,\n            resizeTooltipFormat: \"dddd, MMM d, yyyy\"\n        },\n\n        range: function(range) {\n            var optionsRange = this.options.range;\n            var endDay;\n            this.start = kendo.date.firstDayOfMonth(range.start);\n            this.end = kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(range.end)), 1);\n\n            if (optionsRange && optionsRange.start) {\n                this.start = kendo.date.getDate(optionsRange.start);\n            }\n\n            if (optionsRange && optionsRange.end) {\n                endDay = new Date(optionsRange.end);\n\n                if (kendo.date.getDate(endDay) < optionsRange.end) {\n                    this.end = kendo.date.getDate(new Date(endDay.setDate(endDay.getDate() + 1)));\n                } else {\n                    this.end = kendo.date.getDate(endDay);\n                }\n            }\n        },\n\n        _createSlots: function() {\n            var slots = [];\n\n            slots.push(this._months(this.start, this.end));\n            slots.push(this._weeks(this.start, this.end));\n\n            return slots;\n        },\n\n        _layout: function() {\n            var rows = [];\n            var options = this.options;\n\n            rows.push(this._slotHeaders(this._slots[0], kendo.template(options.monthHeaderTemplate)));\n            rows.push(this._slotHeaders(this._slots[1], kendo.template(options.weekHeaderTemplate)));\n\n            return rows;\n        }\n    });\n\n    kendo.ui.GanttYearView = GanttView.extend({\n        name: \"year\",\n\n        options: {\n            yearHeaderTemplate: YEAR_HEADER_TEMPLATE,\n            monthHeaderTemplate: MONTH_HEADER_TEMPLATE,\n            resizeTooltipFormat: \"dddd, MMM d, yyyy\"\n        },\n\n        range: function(range) {\n            var optionsRange = this.options.range;\n            var firstDayOfMonth;\n            this.start = kendo.date.firstDayOfMonth(new Date(range.start.setMonth(0)));\n            this.end = kendo.date.firstDayOfMonth(new Date(range.end.setMonth(12))); //set month to first month of next year\n\n            if (optionsRange && optionsRange.start) {\n                this.start = kendo.date.firstDayOfMonth(optionsRange.start);\n            }\n\n            if (optionsRange && optionsRange.end) {\n                firstDayOfMonth = kendo.date.firstDayOfMonth(optionsRange.end);\n\n                this.end = kendo.date.getDate(new Date(firstDayOfMonth.setMonth(firstDayOfMonth.getMonth() + 1)));\n            }\n        },\n\n        _createSlots: function() {\n            var slots = [];\n            var monthSlots = this._months(this.start, this.end);\n\n            $(monthSlots).each(function(index, slot) {\n                slot.span = 1;\n            });\n\n            slots.push(this._years(this.start, this.end));\n            slots.push(monthSlots);\n\n            return slots;\n        },\n\n        _layout: function() {\n            var rows = [];\n            var options = this.options;\n\n            rows.push(this._slotHeaders(this._slots[0], kendo.template(options.yearHeaderTemplate)));\n            rows.push(this._slotHeaders(this._slots[1], kendo.template(options.monthHeaderTemplate)));\n\n            return rows;\n        }\n    });\n\n    var timelineStyles = {\n        wrapper: \"k-timeline k-grid\",\n        gridHeader: \"k-grid-header\",\n        gridHeaderWrap: \"k-grid-header-wrap\",\n        gridContent: \"k-grid-content\",\n        gridContentWrap: \"k-grid-content\",\n        tasksWrapper: \"k-gantt-tables\",\n        dependenciesWrapper: \"k-gantt-dependencies\",\n        task: \"k-task\",\n        taskOffset: \"k-task-offset\",\n        taskOffsetWrap: \"k-task-offset-wrap\",\n        taskPlanned: \"k-task-planned\",\n        line: \"k-gantt-line\",\n        taskResizeHandle: \"k-resize-handle\",\n        taskResizeHandleWest: \"k-resize-w\",\n        taskDragHandle: \"k-task-draghandle\",\n        taskComplete: \"k-task-complete\",\n        taskDelete: \"k-task-delete\",\n        taskWrapActive: \"k-task-wrap-active\",\n        taskWrap: \"k-task-wrap\",\n        taskDot: \"k-task-dot\",\n        taskDotStart: \"k-task-start\",\n        taskDotEnd: \"k-task-end\",\n        hovered: \"k-hover\",\n        selected: \"k-selected\",\n        origin: \"k-origin\"\n    };\n\n    var GanttTimeline = kendo.ui.GanttTimeline = Widget.extend({\n        init: function(element, options) {\n\n            Widget.fn.init.call(this, element, options);\n\n            if (!this.options.views || !this.options.views.length) {\n                this.options.views = [\"day\", \"week\", \"month\"];\n            }\n\n            isRtl = kendo.support.isRtl(element);\n\n            this._wrapper();\n\n            this._domTrees();\n\n            this._views();\n\n            this._selectable();\n\n            this._draggable();\n\n            this._resizable();\n\n            this._percentResizeDraggable();\n\n            this._createDependencyDraggable();\n\n            this._attachEvents();\n\n            this._navigatable();\n\n            this._tooltip();\n        },\n\n        options: {\n            name: \"GanttTimeline\",\n            messages: {\n                views: {\n                    day: \"Day\",\n                    week: \"Week\",\n                    month: \"Month\",\n                    year: \"Year\",\n                    start: \"Start\",\n                    end: \"End\"\n                }\n            },\n            snap: true,\n            selectable: true,\n            editable: true\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n\n            clearTimeout(this._tooltipTimeout);\n\n            if (this._currentTimeUpdateTimer) {\n                clearInterval(this._currentTimeUpdateTimer);\n            }\n\n            this._unbindView(this._selectedView);\n\n            if (this._moveDraggable) {\n                this._moveDraggable.destroy();\n            }\n\n            if (this._resizeDraggable) {\n                this._resizeDraggable.destroy();\n            }\n\n            if (this._percentDraggable) {\n                this._percentDraggable.destroy();\n            }\n\n            if (this._dependencyDraggable) {\n                this._dependencyDraggable.destroy();\n            }\n\n            if (this.touch) {\n                this.touch.destroy();\n            }\n\n            this._headerTree = null;\n            this._taskTree = null;\n            this._dependencyTree = null;\n\n            this.wrapper.off(NS);\n\n            kendo.destroy(this.wrapper);\n        },\n\n        _findNext: function(row) {\n            return row.next().find(\".k-task\");\n        },\n\n        _findFirst: function(row) {\n            return row.closest(\".k-table-tbody\").find(\".k-task\").first();\n        },\n\n        _findLast: function(row) {\n            return row.closest(\".k-table-tbody\").find(\".k-task\").last();\n        },\n\n        _findPrev: function(row) {\n            return row.prev().find(\".k-task\");\n        },\n\n        _scrollTasks: function(dir) {\n            var that = this;\n            var timelineWrapper = that.wrapper;\n            var timelineScroll = kendo.scrollLeft(timelineWrapper.find(\".k-grid-content\"));\n\n            kendo.scrollLeft(timelineWrapper.find(\".k-grid-content\"), (timelineScroll + (20 * dir)));\n        },\n\n        _navigatable: function() {\n            var that = this;\n            if (!that.options.navigatable) {\n                return;\n            }\n\n            that.wrapper.on(\"keydown\" + NS, \".k-gantt-tables .k-gantt-tasks .k-task\", function(e) {\n                var target = $(e.target);\n                var row = target.closest(\".k-table-row\");\n                var handled = false;\n                var newTask;\n\n                if (e.keyCode == keys.HOME) {\n                    newTask = that._findFirst(row);\n                }\n\n                if (e.keyCode == keys.END) {\n                    newTask = that._findLast(row);\n                }\n\n                if (e.keyCode == keys.DOWN) {\n                    newTask = that._findNext(row);\n                }\n\n                if (e.keyCode == keys.UP) {\n                    newTask = that._findPrev(row);\n                }\n\n                if (newTask) {\n                    handled = true;\n                    if (newTask[0] !== target[0]) {\n                        target.closest(\".k-gantt-tasks\").find(\".k-task\").attr(\"tabindex\", -1);\n                        newTask.attr(\"tabindex\", 0);\n                        newTask.focus();\n                    }\n                }\n\n                if (e.keyCode == keys.LEFT) {\n                    if (e.altKey) {\n                        if (target.hasClass(\"k-task-summary\")) {\n                            that.trigger(\"collapse\", { uid: target.attr(\"data-uid\") });\n                            setTimeout(function() {\n                                that.select().focus();\n                            }, 1);\n                        }\n                    } else {\n                        that._scrollTasks(-1);\n                    }\n                    handled = true;\n                }\n\n                if (e.keyCode == keys.RIGHT) {\n                    if (e.altKey) {\n                        if (target.hasClass(\"k-task-summary\")) {\n                            that.trigger(\"expand\", { uid: target.attr(\"data-uid\") });\n                            setTimeout(function() {\n                                that.select().focus();\n                            }, 1);\n                        }\n                    } else {\n                        that._scrollTasks(1);\n                    }\n                    handled = true;\n                }\n\n                if (e.keyCode == keys.ENTER) {\n                    handled = true;\n                    if (that.options.editable.update !== false) {\n                        that.trigger(\"editTask\", { uid: target.attr(\"data-uid\") });\n                        e.stopPropagation();\n                    }\n                }\n\n                if (e.keyCode == keys.DELETE) {\n                    handled = true;\n                    if (that.options.editable.update !== false) {\n                        that.trigger(\"removeTask\", { uid: target.attr(\"data-uid\") });\n                        e.stopPropagation();\n                    }\n                }\n\n                if (handled) {\n                    e.preventDefault();\n                }\n            })\n            .on(CLICK + NS, DOT + GanttTimeline.styles.task , function(e) {\n                e.preventDefault();\n                var task = $(this);\n\n                that.wrapper.find(DOT + GanttTimeline.styles.task).attr(\"tabindex\", \"-1\");\n\n                task.attr(\"tabindex\", \"0\").focus();\n            });\n        },\n\n\n        _wrapper: function() {\n            var styles = GanttTimeline.styles;\n            var that = this;\n            var options = this.options;\n            var calculateSize = function() {\n                var rowHeight = typeof options.rowHeight === STRING ? options.rowHeight :\n                    options.rowHeight + \"px\";\n                var table = $(kendo.format(SIZE_CALCULATION_TEMPLATE, rowHeight));\n                var calculatedRowHeight;\n                var calculatedCellHeight;\n                var content = that.wrapper.find(DOT + styles.tasksWrapper);\n\n                kendo.applyStylesFromKendoAttributes(table, [\"height\", \"visibility\"]);\n                content.append(table);\n\n                calculatedRowHeight = outerHeight(table.find(\"tr\"));\n                calculatedCellHeight = table.find(\"td\").height();\n\n                table.remove();\n\n                return {\n                    \"row\": calculatedRowHeight,\n                    \"cell\": calculatedCellHeight\n                };\n            };\n\n            this.wrapper = this.element\n                .addClass(styles.wrapper)\n                .append(\"<div class='\" + styles.gridHeader + \"'><div class='\" + styles.gridHeaderWrap + \"'></div></div>\")\n                .append(\"<div role='tree' class='\" + styles.gridContentWrap + \"'><div class='\" + styles.tasksWrapper + \"'></div><div class='\" + styles.dependenciesWrapper + \"'></div></div>\");\n\n            if (options.rowHeight) {\n                this._calculatedSize = calculateSize();\n            }\n        },\n\n        _domTrees: function() {\n            var styles = GanttTimeline.styles;\n            var tree = kendo.dom.Tree;\n            var wrapper = this.wrapper;\n\n            this._headerTree = new tree(wrapper.find(DOT + styles.gridHeaderWrap)[0]);\n\n            this._taskTree = new tree(wrapper.find(DOT + styles.tasksWrapper)[0]);\n\n            this._dependencyTree = new tree(wrapper.find(DOT + styles.dependenciesWrapper)[0]);\n        },\n\n        _views: function() {\n            var views = this.options.views;\n            var view;\n            var isSettings;\n            var name;\n            var defaultView;\n            var selected;\n\n            this.views = {};\n\n            for (var i = 0, l = views.length; i < l; i++) {\n                view = views[i];\n\n                isSettings = isPlainObject(view);\n\n                if (isSettings && view.selectable === false) {\n                    continue;\n                }\n\n                name = isSettings ? ((typeof view.type !== \"string\") ? view.title : view.type) : view;\n\n                defaultView = defaultViews[name];\n\n                if (defaultView) {\n                    if (isSettings) {\n                        view.type = defaultView.type;\n                    }\n\n                    defaultView.title = this.options.messages.views[name];\n                }\n\n                view = extend({ title: name }, defaultView, isSettings ? view : {});\n\n                if (name) {\n                    this.views[name] = view;\n\n                    if (!selected || view.selected) {\n                        selected = name;\n                    }\n                }\n            }\n\n            if (selected) {\n                this._selectedViewName = selected;\n            }\n        },\n\n        view: function(name) {\n            if (name) {\n                this._selectView(name);\n\n                this.trigger(\"navigate\", { view: name, action: \"changeView\" });\n            }\n\n            return this._selectedView;\n        },\n\n        _selectView: function(name) {\n            if (name && this.views[name]) {\n                if (this._selectedView) {\n                    this._unbindView(this._selectedView);\n                }\n\n                this._selectedView = this._initializeView(name);\n                this._selectedViewName = name;\n            }\n        },\n\n        _viewByIndex: function(index) {\n            var view;\n            var views = this.views;\n\n            for (view in views) {\n                if (!index) {\n                    return view;\n                }\n\n                index--;\n            }\n        },\n\n        _initializeView: function(name) {\n            var view = this.views[name];\n\n            if (view) {\n                var type = view.type;\n\n                if (typeof type === \"string\") {\n                    type = kendo.getter(view.type)(window);\n                }\n\n                if (type) {\n                    var newRange = {};\n                    extend(newRange, this.options.range, view.range);\n\n                    var newDate = view.date || this.options.date;\n\n                    view = new type(this.wrapper, trimOptions(extend(true, {\n                        headerTree: this._headerTree,\n                        taskTree: this._taskTree,\n                        dependencyTree: this._dependencyTree,\n                        calculatedSize: this._calculatedSize\n                    }, view, this.options, {\n                        date: newDate,\n                        range: newRange\n                    })));\n                } else {\n                    throw new Error(\"There is no such view\");\n                }\n            }\n\n            return view;\n        },\n\n        _unbindView: function(view) {\n            if (view) {\n                view.destroy();\n            }\n        },\n\n        _range: function(tasks) {\n            var startOrder = {\n                field: \"start\",\n                dir: \"asc\"\n            };\n            var endOrder = {\n                field: \"end\",\n                dir: \"desc\"\n            };\n\n            if (!tasks || !tasks.length) {\n                return { start: new Date(), end: new Date() };\n            }\n\n            var start = new Query(tasks).sort(startOrder).toArray()[0].start || new Date();\n            var end = new Query(tasks).sort(endOrder).toArray()[0].end || new Date();\n\n            return {\n                start: new Date(start),\n                end: new Date(end)\n            };\n        },\n\n        _render: function(tasks) {\n            var view = this.view();\n            var range = this._range(tasks);\n            var date = view.options.date;\n\n            this._tasks = tasks;\n\n            view.range(range);\n\n            view.renderLayout();\n\n            view.render(tasks);\n\n            if (date) {\n                view._scrollToDate(date);\n            }\n        },\n\n        _renderDependencies: function(dependencies) {\n            this.view()._renderDependencies(dependencies);\n        },\n\n        _taskByUid: function(uid) {\n            var tasks = this._tasks;\n            var length = tasks.length;\n            var task;\n\n            for (var i = 0; i < length; i++) {\n                task = tasks[i];\n\n                if (task.uid === uid) {\n                    return task;\n                }\n            }\n        },\n\n        _draggable: function() {\n            var that = this;\n            var element;\n            var task;\n            var currentStart;\n            var startOffset;\n            var snap = this.options.snap;\n            var styles = GanttTimeline.styles;\n            var editable = this.options.editable;\n\n            var cleanUp = function() {\n                that.view()._removeDragHint();\n\n                if (element) {\n                    element.css(\"opacity\", 1);\n                }\n\n                element = null;\n                task = null;\n                that.dragInProgress = false;\n            };\n\n            if (!editable || editable.move === false || editable.update === false) {\n                return;\n            }\n\n            this._moveDraggable = new kendo.ui.Draggable(this.wrapper, {\n                distance: 0,\n                filter: DOT + styles.task + \",\" + DOT + styles.taskOffset,\n                holdToDrag: kendo.support.mobileOS,\n                ignore: DOT + styles.taskResizeHandle\n            });\n\n            this._moveDraggable\n                .bind(\"dragstart\", function(e) {\n                    var view = that.view();\n                    element = e.currentTarget.closest(DOT + styles.taskWrap);\n                    task = that._taskByUid(e.currentTarget.parent().find(DOT + styles.task).attr(\"data-uid\"));\n\n                    if (that.trigger(\"moveStart\", { task: task })) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    currentStart = task.start;\n                    startOffset = view._timeByPosition(e.x.location, snap) - currentStart;\n\n                    view._createDragHint(element);\n\n                    element.css(\"opacity\", 0.5);\n\n                    clearTimeout(that._tooltipTimeout);\n                    that.dragInProgress = true;\n                })\n                .bind(\"drag\", kendo.throttle(function(e) {\n                    if (!that.dragInProgress) {\n                        return;\n                    }\n\n                    var view = that.view();\n                    var date = new Date(view._timeByPosition(e.x.location, snap) - startOffset);\n                    var updateHintDate = date;\n\n                    if (!that.trigger(\"move\", { task: task, start: date })) {\n                        currentStart = date;\n\n                        if (isRtl) {\n                            updateHintDate = new Date(currentStart.getTime() + task.duration());\n                        }\n\n                        view._updateDragHint(updateHintDate);\n                    }\n                }, 15))\n                .bind(\"dragend\", function() {\n                    that.trigger(\"moveEnd\", { task: task, start: currentStart });\n\n                    cleanUp();\n                })\n                .bind(\"dragcancel\", function() {\n                    cleanUp();\n                })\n                .userEvents.bind(\"select\", function() {\n                    blurActiveElement();\n                });\n        },\n\n        _resizable: function() {\n            var that = this;\n            var element;\n            var task;\n            var currentStart;\n            var currentEnd;\n            var resizeStart;\n            var snap = this.options.snap;\n            var styles = GanttTimeline.styles;\n            var editable = this.options.editable;\n\n            var cleanUp = function() {\n                that.view()._removeResizeHint();\n                element = null;\n                task = null;\n                that.dragInProgress = false;\n            };\n\n            if (!editable || editable.resize === false || editable.update === false) {\n                return;\n            }\n\n            this._resizeDraggable = new kendo.ui.Draggable(this.wrapper, {\n                distance: 0,\n                filter: DOT + styles.taskResizeHandle,\n                holdToDrag: false\n            });\n\n            this._resizeDraggable\n                .bind(\"dragstart\", function(e) {\n                    resizeStart = e.currentTarget.hasClass(styles.taskResizeHandleWest);\n\n                    if (isRtl) {\n                        resizeStart = !resizeStart;\n                    }\n\n                    element = e.currentTarget.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n\n                    task = that._taskByUid(element.attr(\"data-uid\"));\n\n                    if (that.trigger(\"resizeStart\", { task: task })) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    currentStart = task.start;\n                    currentEnd = task.end;\n\n                    that.view()._createResizeHint(task);\n\n                    clearTimeout(that._tooltipTimeout);\n                    that.dragInProgress = true;\n                })\n                .bind(\"drag\", kendo.throttle(function(e) {\n                    if (!that.dragInProgress) {\n                        return;\n                    }\n\n                    var view = that.view();\n                    var date = view._timeByPosition(e.x.location, snap, !resizeStart);\n\n                    if (resizeStart) {\n                        if (date < currentEnd) {\n                            currentStart = date;\n                        } else {\n                            currentStart = currentEnd;\n                        }\n                    } else {\n                        if (date > currentStart) {\n                            currentEnd = date;\n                        } else {\n                            currentEnd = currentStart;\n                        }\n                    }\n\n                    if (!that.trigger(\"resize\", { task: task, start: currentStart, end: currentEnd })) {\n                        view._updateResizeHint(currentStart, currentEnd, resizeStart);\n                    }\n                }, 15))\n                .bind(\"dragend\", function() {\n                    that.trigger(\"resizeEnd\", { task: task, resizeStart: resizeStart, start: currentStart, end: currentEnd });\n\n                    cleanUp();\n                })\n                .bind(\"dragcancel\", function() {\n                    cleanUp();\n                })\n                .userEvents.bind(\"select\", function() {\n                    blurActiveElement();\n                });\n        },\n\n        _percentResizeDraggable: function() {\n            var that = this;\n            var task;\n            var taskElement;\n            var taskElementOffset;\n            var timelineOffset;\n            var originalPercentWidth;\n            var maxPercentWidth;\n            var currentPercentComplete;\n            var tooltipTop;\n            var tooltipLeft;\n            var styles = GanttTimeline.styles;\n            var delta;\n            var editable = this.options.editable;\n\n            var cleanUp = function() {\n                that.view()._removePercentCompleteTooltip();\n                taskElement = null;\n                task = null;\n                that.dragInProgress = false;\n            };\n\n            var updateElement = function(width) {\n                var taskDragHandle = taskElement.siblings(DOT + styles.taskDragHandle);\n\n                if (!taskDragHandle.length) {\n                    taskDragHandle = taskElement.closest(DOT + styles.taskWrap).find(DOT + styles.taskDragHandle);\n                }\n\n                taskDragHandle.css(isRtl ? \"right\" : \"left\", width);\n\n                taskElement\n                    .find(DOT + styles.taskComplete)\n                    .width(width);\n            };\n\n            if (!editable || editable.dragPercentComplete === false || editable.update === false) {\n                return;\n            }\n\n            this._percentDraggable = new kendo.ui.Draggable(this.wrapper, {\n                distance: 0,\n                filter: DOT + styles.taskDragHandle,\n                holdToDrag: false\n            });\n\n            this._percentDraggable\n                .bind(\"dragstart\", function(e) {\n                    if (that.trigger(\"percentResizeStart\")) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    taskElement = e.currentTarget.siblings(DOT + styles.task);\n\n                    if (!taskElement.length) {\n                        taskElement = e.currentTarget.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                    }\n\n                    task = that._taskByUid(taskElement.attr(\"data-uid\"));\n\n                    currentPercentComplete = task.percentComplete;\n\n                    taskElementOffset = taskElement.offset();\n                    timelineOffset = this.element.offset();\n\n                    originalPercentWidth = taskElement.find(DOT + styles.taskComplete).width();\n                    maxPercentWidth = outerWidth(taskElement);\n\n                    clearTimeout(that._tooltipTimeout);\n                    that.dragInProgress = true;\n                })\n                .bind(\"drag\", kendo.throttle(function(e) {\n                    if (!that.dragInProgress) {\n                        return;\n                    }\n\n                    delta = isRtl ? -e.x.initialDelta : e.x.initialDelta;\n\n                    var currentWidth = Math.max(0, Math.min(maxPercentWidth, originalPercentWidth + delta));\n\n                    currentPercentComplete = Math.round((currentWidth / maxPercentWidth) * 100);\n\n                    updateElement(currentWidth);\n\n                    tooltipTop = taskElementOffset.top - timelineOffset.top;\n                    tooltipLeft = taskElementOffset.left + currentWidth - timelineOffset.left;\n\n                    if (isRtl) {\n                        tooltipLeft += (maxPercentWidth - 2 * currentWidth);\n                    }\n\n                    that.view()._updatePercentCompleteTooltip(tooltipTop, tooltipLeft, currentPercentComplete);\n                }, 15))\n                .bind(\"dragend\", function() {\n                    that.trigger(\"percentResizeEnd\", { task: task, percentComplete: currentPercentComplete / 100 });\n\n                    cleanUp();\n                })\n                .bind(\"dragcancel\", function() {\n                    updateElement(originalPercentWidth);\n\n                    cleanUp();\n                })\n                .userEvents.bind(\"select\", function() {\n                    blurActiveElement();\n                });\n        },\n\n        _createDependencyDraggable: function() {\n            var that = this;\n            var originalHandle;\n            var hoveredHandle = $();\n            var hoveredTask = $();\n            var startX;\n            var startY;\n            var styles = GanttTimeline.styles;\n            var editable = this.options.editable;\n\n            var cleanUp = function() {\n                originalHandle\n                    .css(\"display\", \"\")\n                    .removeClass(styles.hovered);\n\n                originalHandle.parent().removeClass(styles.origin);\n                originalHandle = null;\n\n                toggleHandles(false);\n\n                hoveredTask = $();\n                hoveredHandle = $();\n\n                that.view()._removeDependencyDragHint();\n\n                that.dragInProgress = false;\n            };\n\n            var toggleHandles = function(value) {\n                if (!hoveredTask.hasClass(styles.origin)) {\n                    hoveredTask.find(DOT + styles.taskDot).css(\"display\", value ? \"block\" : \"\");\n                    hoveredHandle.toggleClass(styles.hovered, value);\n                }\n            };\n\n            if (!editable || editable.dependencyCreate === false) {\n                return;\n            }\n\n            this._dependencyDraggable = new kendo.ui.Draggable(this.wrapper, {\n                distance: 0,\n                filter: DOT + styles.taskDot,\n                holdToDrag: false\n            });\n\n            this._dependencyDraggable\n                .bind(\"dragstart\", function(e) {\n                    if (that.trigger(\"dependencyDragStart\")) {\n                        e.preventDefault();\n                        return;\n                    }\n\n                    originalHandle = e.currentTarget\n                        .css(\"display\", \"block\")\n                        .addClass(styles.hovered);\n\n                    originalHandle.parent().addClass(styles.origin);\n\n                    var elementOffset = originalHandle.offset();\n                    var tablesOffset = that.wrapper.find(DOT + styles.tasksWrapper).offset();\n\n                    startX = Math.round(elementOffset.left - tablesOffset.left + (outerHeight(originalHandle) / 2));\n                    startY = Math.round(elementOffset.top - tablesOffset.top + (outerWidth(originalHandle) / 2));\n\n                    clearTimeout(that._tooltipTimeout);\n                    that.dragInProgress = true;\n                })\n                .bind(\"drag\", kendo.throttle(function(e) {\n                    if (!that.dragInProgress) {\n                        return;\n                    }\n\n                    that.view()._removeDependencyDragHint();\n\n                    var target = $(kendo.elementUnderCursor(e));\n                    var tablesOffset = that.wrapper.find(DOT + styles.tasksWrapper).offset();\n                    var currentX = e.x.location - tablesOffset.left;\n                    var currentY = e.y.location - tablesOffset.top;\n\n                    that.view()._updateDependencyDragHint({ x: startX, y: startY }, { x: currentX, y: currentY });\n\n                    toggleHandles(false);\n\n                    hoveredHandle = (target.hasClass(styles.taskDot)) ? target : $();\n                    hoveredTask = target.closest(DOT + styles.taskWrap);\n\n                    toggleHandles(true);\n                }, 15))\n                .bind(\"dragend\", function() {\n                    if (hoveredHandle.length) {\n                        var fromStart = originalHandle.hasClass(styles.taskDotStart);\n                        var toStart = hoveredHandle.hasClass(styles.taskDotStart);\n\n                        var type = fromStart ? (toStart ? 3 : 2) : (toStart ? 1 : 0);\n\n                        var predecessorElement = originalHandle.siblings(DOT + styles.task);\n                        if (!predecessorElement.length) {\n                            predecessorElement = originalHandle.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                        }\n                        var predecessor = that._taskByUid(predecessorElement.attr(\"data-uid\"));\n\n                        var successorElement = hoveredHandle.siblings(DOT + styles.task);\n                        if (!successorElement.length) {\n                            successorElement = hoveredHandle.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                        }\n                        var successor = that._taskByUid(successorElement.attr(\"data-uid\"));\n\n                        if (predecessor !== successor) {\n                            that.trigger(\"dependencyDragEnd\", { type: type, predecessor: predecessor, successor: successor });\n                        }\n                    }\n\n                    cleanUp();\n                })\n                .bind(\"dragcancel\", function() {\n                    cleanUp();\n                })\n                .userEvents.bind(\"select\", function() {\n                    blurActiveElement();\n                });\n        },\n\n        _selectable: function() {\n            var that = this;\n            var styles = GanttTimeline.styles;\n\n            if (this.options.selectable) {\n                this.wrapper\n                    .on(CLICK + NS, DOT + styles.task + \",\" + DOT + styles.taskOffset, function(e) {\n                        e.stopPropagation();\n\n                        var uid = $(this).attr(\"data-uid\");\n\n                        if (!uid) {\n                            uid = $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task).data(\"uid\");\n                        }\n\n                        if (!e.ctrlKey) {\n                            that.trigger(\"select\", { uid: uid });\n                        } else {\n                            that.trigger(\"clear\");\n                        }\n                    })\n                    .on(CLICK + NS, DOT + styles.taskWrap, function(e) {\n                        e.stopPropagation();\n\n                        // Decrease z-index of wrap so the we can get to the\n                        // dependency line underneath, if there is any\n                        $(this).css(\"z-index\", \"0\");\n\n                        var target = $(document.elementFromPoint(e.clientX, e.clientY));\n\n                        if (target.hasClass(styles.line)) {\n                            target.click();\n                        }\n\n                        $(this).css(\"z-index\", \"\");\n                    })\n                    .on(CLICK + NS, DOT + styles.tasksWrapper, function() {\n                        if (that.selectDependency().length > 0) {\n                            that.clearSelection();\n                        } else {\n                            that.trigger(\"clear\");\n                        }\n                    })\n                    .on(CLICK + NS, DOT + styles.line, function(e) {\n                        e.stopPropagation();\n\n                        that.selectDependency(this);\n                    });\n            }\n        },\n\n        select: function(value) {\n            var element = this.wrapper.find(value);\n            var styles = GanttTimeline.styles;\n\n            if (element.length) {\n                this.clearSelection();\n\n                element.addClass(styles.selected);\n\n                if (kendo.support.mobileOS) {\n                    element.parent().addClass(styles.taskWrapActive);\n                }\n\n                return;\n            }\n\n            return this.wrapper.find(DOT + styles.task + DOT + styles.selected);\n        },\n\n        selectDependency: function(value) {\n            var element = this.wrapper.find(value);\n            var uid;\n            var styles = GanttTimeline.styles;\n\n            if (element.length) {\n                this.clearSelection();\n                this.trigger(\"clear\");\n\n                uid = $(element).attr(\"data-uid\");\n\n                this.wrapper.find(DOT + styles.line + \"[data-uid='\" + uid + \"']\").addClass(styles.selected);\n\n                return;\n            }\n\n            return this.wrapper.find(DOT + styles.line + DOT + styles.selected);\n        },\n\n        clearSelection: function() {\n            var styles = GanttTimeline.styles;\n\n            this.wrapper\n                .find(DOT + styles.selected)\n                .removeClass(styles.selected);\n\n            if (kendo.support.mobileOS) {\n                this.wrapper\n                    .find(DOT + styles.taskWrapActive)\n                    .removeClass(styles.taskWrapActive);\n            }\n        },\n\n        _attachEvents: function() {\n            var that = this;\n            var styles = GanttTimeline.styles;\n            var editable = this.options.editable;\n\n            if (editable) {\n\n                this.wrapper\n                    .on(CLICK + NS, DOT + styles.taskDelete, function(e) {\n                        that.trigger(\"removeTask\", { uid: $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task).attr(\"data-uid\") });\n                        e.stopPropagation();\n                        e.preventDefault();\n                    })\n                    .on(KEYDOWN + NS, function(e) {\n                        var selectedDependency;\n                        var editable = that.options.editable;\n\n                        if (e.keyCode === keys.DELETE && editable && editable.dependencyDestroy !== false) {\n                            selectedDependency = that.selectDependency();\n\n                            if (selectedDependency.length) {\n                                that.trigger(\"removeDependency\", { uid: selectedDependency.attr(\"data-uid\") });\n                                that.clearSelection();\n                            }\n                        }\n                    });\n\n                if (!kendo.support.mobileOS) {\n                    this.wrapper\n                        .on(DBLCLICK + NS, DOT + styles.task + \",\" + DOT + styles.taskOffset, function(e) {\n                            if (that.options.editable.update !== false) {\n                                that.trigger(\"editTask\", { uid: $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task).attr(\"data-uid\") });\n\n                                e.stopPropagation();\n                                e.preventDefault();\n                            }\n                        });\n                } else {\n                    this.touch = this.wrapper\n                        .kendoTouch({\n                            filter: DOT + styles.task + \",\" + DOT + styles.taskOffset,\n                            doubletap: function(e) {\n                                if (that.options.editable.update !== false) {\n                                    that.trigger(\"editTask\", { uid: $(e.touch.currentTarget).closest(DOT + styles.taskWrap).find(DOT + styles.task).attr(\"data-uid\") });\n                                }\n                            }\n                        }).data(\"kendoTouch\");\n                }\n            }\n        },\n\n        _tooltip: function() {\n            var that = this;\n            var tooltipOptions = this.options.tooltip;\n            var styles = GanttTimeline.styles;\n            var currentMousePosition;\n            var mouseMoveHandler = function(e) {\n                currentMousePosition = e.clientX;\n            };\n\n            if (tooltipOptions && tooltipOptions.visible === false) {\n                return;\n            }\n\n            if (!kendo.support.mobileOS) {\n                this.wrapper\n                        .on(MOUSEENTER + NS, DOT + styles.task, function() {\n                            var element = this;\n                            var task = that._taskByUid($(this).attr(\"data-uid\"));\n\n                            if (that.dragInProgress) {\n                                return;\n                            }\n\n                            that._tooltipTimeout = setTimeout(function() {\n                                that.view()._createTaskTooltip(task, element, currentMousePosition);\n                            }, 800);\n\n                            $(this).on(MOUSEMOVE, mouseMoveHandler);\n                        })\n                        .on(MOUSELEAVE + NS, DOT + styles.task, function() {\n                            clearTimeout(that._tooltipTimeout);\n\n                            that.view()._removeTaskTooltip();\n\n                            $(this).off(MOUSEMOVE, mouseMoveHandler);\n                        })\n                        .on(MOUSEENTER + NS, DOT + styles.taskOffset, function() {\n                            var taskElement = $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                            var task = that._taskByUid(taskElement.attr(\"data-uid\"));\n\n                            if (that.dragInProgress) {\n                                return;\n                            }\n\n                            that._offsetTooltipTimeout = setTimeout(function() {\n                                that.view()._createOffsetTooltip(task, taskElement, currentMousePosition);\n                            }, 800);\n\n                            $(this).on(MOUSEMOVE, mouseMoveHandler);\n                        })\n                        .on(MOUSELEAVE + NS, DOT + styles.taskOffset, function() {\n                            clearTimeout(that._offsetTooltipTimeout);\n\n                            that.view()._removeOffsetTooltip();\n\n                            $(this).off(MOUSEMOVE, mouseMoveHandler);\n                        })\n                        .on(MOUSEENTER + NS, DOT + styles.taskPlanned, function() {\n                            var taskElement = $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                            var task = that._taskByUid(taskElement.attr(\"data-uid\"));\n\n                            that._plannedTooltipTimeout = setTimeout(function() {\n                                that.view()._createPlannedTooltip(task, taskElement, currentMousePosition);\n                            }, 800);\n\n                            $(this).on(MOUSEMOVE, mouseMoveHandler);\n                        })\n                        .on(MOUSELEAVE + NS, DOT + styles.taskPlanned, function() {\n                            clearTimeout(that._plannedTooltipTimeout);\n\n                            that.view()._removePlannedTooltip();\n\n                            $(this).off(MOUSEMOVE, mouseMoveHandler);\n                        });\n            } else {\n                this.wrapper\n                    .on(CLICK + NS, DOT + styles.taskDelete, function(e) {\n                        e.stopPropagation();\n                        that.view()._removeTaskTooltip();\n                    })\n                    .on(MOUSELEAVE + NS, DOT + styles.task, function(e) {\n                        var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\n\n                        if (parents.length === 0) {\n                            that.view()._removeTaskTooltip();\n                        }\n                    })\n                    .on(MOUSELEAVE + NS, DOT + styles.taskOffset, function(e) {\n                        var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\n\n                        if (parents.length === 0) {\n                            that.view()._removeOffsetTooltip();\n                        }\n                    })\n                    .on(MOUSELEAVE + NS, DOT + styles.taskPlanned, function(e) {\n                        var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\n\n                        if (parents.length === 0) {\n                            that.view()._removePlannedTooltip();\n                        }\n                    });\n\n                if (this.touch) {\n                    this.touch\n                        .bind(\"tap\", function(e) {\n                            var element = $(e.touch.target);\n                            var currentPosition = e.touch.x.client;\n                            var task;\n\n                            if (!element.hasClass(styles.task)) {\n                                task = that._taskByUid(element.closest(DOT + styles.taskWrap).find(DOT + styles.task).attr(\"data-uid\"));\n                                if (that.view()._offsetTooltip) {\n                                    that.view()._removeOffsetTooltip();\n                                }\n\n                                that.view()._createOffsetTooltip(task, element, currentPosition);\n                            } else {\n                                task = that._taskByUid(element.attr(\"data-uid\"));\n                                if (that.view()._taskTooltip) {\n                                    that.view()._removeTaskTooltip();\n                                }\n\n                                that.view()._createTaskTooltip(task, element, currentPosition);\n                            }\n                        })\n                        .bind(\"doubletap\", function() {\n                            that.view()._removeTaskTooltip();\n                            that.view()._removeOffsetTooltip();\n                        });\n                }\n            }\n        },\n        _setPlanned: function(value) {\n            this.options.showPlannedTasks = value;\n            this.view().options.showPlannedTasks = value;\n        }\n    });\n\n    extend(true, GanttTimeline, { styles: timelineStyles });\n\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { kendo$1 as default };\n"]}