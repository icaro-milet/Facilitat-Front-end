{"version":3,"file":"kendo.menu.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","ui","activeElement","_activeElement","touch","support","mobileOS","isArray","Array","HierarchicalDataSource","data","MOUSEDOWN","CLICK","extend","each","encode","htmlEncode","template","keys","Widget","excludedNodesRegExp","NS","OPEN","MENU","LINK","LINK_SELECTOR","ICON_SELECTOR","LAST","CLOSE","TIMER","FIRST","IMAGE","SELECT","ZINDEX","ACTIVATE","DEACTIVATE","POINTERDOWN","pointers","msPointers","allPointers","CHANGE","ERROR","TOUCHSTART","MOUSEENTER","MOUSELEAVE","MOUSEWHEEL","RESIZE","resize","POPUP_ID_ATTR","POPUP_OPENER_ATTR","DOCUMENT_ELEMENT","document","documentElement","KENDOPOPUP","HOVERSTATE","FOCUSEDSTATE","DISABLEDSTATE","menuSelector","animationContainerSelector","childAnimationContainerSelector","popupSelector","allItemsSelector","itemSelector","availableItemsSelector","exclusionSelector","scrollButtonSelector","touchPointerTypes","DATABOUND","ARIA_EXPANDED","ROLE","bindings","text","url","spriteCssClass","imageUrl","imageAttr","content","rendering","wrapperCssClass","group","item","result","index","separator","enabled","firstLevel","length","cssClass","attr","hasOwnProperty","selected","itemCssAttributes","attributes","imageCssAttributes","imgAttributes","toJSON","contentCssAttributes","contentAttr","defaultClasses","textClass","groupAttributes","expanded","groupCssClass","groupWrapperCssClass","contains","parent","child","e","updateItemClasses","addClass","children","filter","removeClass","empty","append","prop","contents","this","nodeName","match","nodeType","trim","nodeValue","wrapAll","idx","elm","wrap","updateArrow","updateFirstLast","find","remove","icon","getArrowIconName","iconClass","isRtl","hasClass","updateHasAriaPopup","parents","parentLi","eq","removeAttr","getParentLiItems","parentsUntil","storeItemSelectEventHandler","element","options","selectHandler","select","isFunction","getItemSelectEventHandler","setItemData","items","i","popupOpenerSelector","popupGroupSelector","selector","getChildPopups","currentPopup","overflowWrapper","childPopupOpener","opener","popupId","popup","push","popupParentItem","popupElement","itemPopup","parentsScroll","current","scrollDirection","scroll","parentNode","isNaN","isPointerTouch","originalEvent","pointerType","removeSpacesBetweenItems","ul","Menu","DataBoundWidget","init","that","fn","call","wrapper","_accessors","_templates","_dataSource","_updateClasses","_wrapGroups","_animations","nextItemZIndex","_tabindex","_initOverflow","_attachMenuEventsHandlers","openOnClick","clicked","_ariaId","format","guid","notify","events","animation","open","duration","close","orientation","direction","closeOnClick","hoverDelay","scrollable","popupCollision","_initData","dataSource","angular","elements","view","_overflowWrapper","_checkActiveProxy","_checkActiveElement","bind","on","_focusHandler","_click","_preventClose","_mouseenter","_mouseleave","_mousedown","_toggleHover","_keydown","_focus","_removeHoverItem","_mouseleavePopup","_mouseenterPopup","_documentClickHandler","_documentClick","_detachMenuEventsHandlers","off","backwardBtn","forwardBtn","isHorizontal","_openedPopups","_scrollWrapper","templates","scrollButton","add","appendTo","_initScrolling","initialWidth","outerWidth","initialCssWidth","style","width","setTimeout","_setOverflowWrapperWidth","_toggleScrollButtons","_popupsWrapper","wrapperCssWidth","css","wrapperWidth","menuWidth","borders","offsetWidth","clientWidth","Math","min","_reinitOverflow","distance","_destroyOverflow","popupWrapper","popupParentLi","unwrap","scrollElement","isNumeric","mouseWheelDistance","backward","forward","backwardDouble","forwardDouble","scrolling","touchEvents","value","scrollValue","scrollLeft","scrollTop","finish","animate","mouseenterHandler","mousedownHandler","ev","test","type","isTouch","stop","currentTarget","trigger","stopPropagation","preventDefault","eventMap","down","ctrlKey","shiftKey","altKey","wheelDelta","delta","ceil","floor","detail","round","mousewheelDelta","abs","_closeChildPopups","n","parseFloat","isFinite","horizontal","currentScroll","scrollSize","offset","toggle","setOptions","destroy","enable","_toggleDisabled","disable","attemptGetItem","candidate","referenceItem","inserted","_insert","_childPopupElement","insertBefore","before","insertAfter","after","groups","plain","isPlainObject","ObservableObject","groupData","renderGroup","applyStylesFromKendoAttributes","ObservableArray","map","get","itemElement","renderItem","charAt","parentItems","container","_openAfterLoad","dataItem","loaded","_loading","one","getByUid","ns","hasChildren","load","replace","visiblePopups","closePopup","closest","siblings","li","clearTimeout","_timerTimeout","overflowPopup","div","first","_getPopup","is","_triggerEvent","windowHeight","height","maxHeight","_outerHeight","getShadows","bottom","overflow","nextZindex","zIndex","root","parentHorizontal","directions","split","output","origin","position","reverse","join","parseDirection","effects","openEffects","getEffectDirection","kendoPopup","activate","deactivate","_closing","sender","removeData","opacity","collision","anchor","_popupOpen","hide","mouseAndTouchPresent","_configurePopupOverflow","_hovered","_initPopupScrolling","popupOpener","_wrapPopupElement","groupId","Date","getTime","autosize","display","skipMouseEvents","scrollHeight","offsetHeight","_initPopupScrollButtons","scrollButtons","timeout","p","isEmptyObject","_closeParentPopups","last","_keyTriggered","_setPopupHeight","isFixed","popups","_initialHeight","location","_location","popupOuterHeight","popupOffsetTop","max","top","bottomScrollbar","innerHeight","dontClearClose","_isRootItem","toString","_forceClose","toggleClass","target","eventTarget","isEnter","indexOf","_closurePrevented","hoverItem","_hoverItem","_findRootParent","hasFocus","oldHoverItem","_oldHoverItem","matchesSelector","end","_itemHasChildren","pointerTouch","isParentClosing","delegateTarget","rootMenuItems","subMenuItems","relatedTarget","_","sibling","$window","browser","msie","toElement","clientX","clientY","stopImmediatePropagation","_closePopups","rootPopup","groupParent","innerPopup","_innerPopup","openHandle","childGroup","childGroupVisible","shouldCloseTheRootItem","targetElement","toUpperCase","formNode","link","href","targetHref","sampleHref","isLink","isLocalLink","isTargetLink","_lastClickedElement","handled","_triggerSelect","childPopupId","_parentsUntil","enterKey","click","context","getParents","elem","overflowMenuParents","itemSelectEventData","_getEventData","isSelectItemDefaultPrevented","isDefaultPrevented","isSelectDefaultPrevented","_defaultPrevented","active","_moveHover","belongsToVertical","key","keyCode","ESC","_itemBelongsToVertival","RIGHT","LEFT","DOWN","_itemDown","UP","_itemUp","HOME","END","_itemEsc","ENTER","SPACEBAR","_moveHoverToRoot","TAB","menuIsVertical","nextItem","_scrollToItem","_itemRight","parentItem","nextAll","prevAll","_itemLeft","itemPosition","scrollDir","getSize","_outerWidth","currentScrollOffset","itemSize","itemOffset","ulSize","scrollButtonSize","_unbindDataSource","fields","field","create","_bindDataSource","fetch","_refreshHandler","refresh","_errorHandler","_error","unbind","findByUid","uid","node","action","parentElement","itemsToUpdate","updateProxy","_updateItem","removeProxy","_removeItem","_appendItems","forEach","nextElement","next","textField","_fieldAccessor","fieldName","fieldBindings","count","levels","getter","level","fieldAccessor","encoded","contentHtml","renderItems","itemWrapper","tag","sprite","arrow","menu","subGroup","contentUrl","renderContent","dataContentField","html","len","ContextMenu","_marker","substring","_popup","_wire","closes","_initialWidth","showOn","alignToAnchor","copyAnchorStyles","_showProxy","userEvents","mousedown","_closeProxy","x","y","visible","kendoStop","_triggerFocusOnActivate","_focusMenu","left","_configurePopupScrolling","downEvent","_mousedownProxy","visibility","_setPopupWidth","windowWidth","popupOuterWidth","popupOffsetLeft","shadow","maxWidth","right","arguments","_closeTimeoutProxy","focus","_showHandler","event","pageX","pageY","_eventOrigin","_targetChild","_closeHandler","sameTarget","containment","normalClick","which","_preventProxy","UserEvents","allowSelection","F10","contextMenuElement","_triggerProxy","noop","not","plugin","jQuery","kendo$1"],"sources":["kendo.menu.js"],"mappings":"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","sourcesContent":["import './kendo.popup.js';\nimport './kendo.data.js';\nimport './kendo.icons.js';\n\nvar __meta__ = {\n    id: \"menu\",\n    name: \"Menu\",\n    category: \"web\",\n    description: \"The Menu widget displays hierarchical data as a multi-level menu.\",\n    depends: [ \"popup\", \"data\", \"data.odata\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        activeElement = kendo._activeElement,\n        touch = (kendo.support.touch && kendo.support.mobileOS),\n        isArray = Array.isArray,\n        HierarchicalDataSource = kendo.data.HierarchicalDataSource,\n        MOUSEDOWN = \"mousedown\",\n        CLICK = \"click\",\n        DELAY = 30,\n        SCROLLSPEED = 50,\n        extend = $.extend,\n        each = $.each,\n        encode = kendo.htmlEncode,\n        template = kendo.template,\n        keys = kendo.keys,\n        Widget = ui.Widget,\n        excludedNodesRegExp = /^(ul|a|div)$/i,\n        NS = \".kendoMenu\",\n        IMG = \"img\",\n        OPEN = \"open\",\n        MENU = \"k-menu\",\n        LINK = \"k-link k-menu-link\",\n        LINK_SELECTOR = \".k-link\",\n        ICON_SELECTOR = \".k-menu-expand-arrow-icon\",\n        LAST = \"k-last\",\n        CLOSE = \"close\",\n        TIMER = \"timer\",\n        FIRST = \"k-first\",\n        IMAGE = \"k-image\",\n        SELECT = \"select\",\n        ZINDEX = \"zIndex\",\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n        POINTERDOWN = \"touchstart\" + NS + \" MSPointerDown\" + NS + \" pointerdown\" + NS,\n        pointers = kendo.support.pointers,\n        msPointers = kendo.support.msPointers,\n        allPointers = msPointers || pointers,\n        CHANGE = \"change\",\n        ERROR = \"error\",\n        TOUCHSTART = kendo.support.touch ? \"touchstart\" : \"\",\n        MOUSEENTER = pointers ? \"pointerover\" : (msPointers ? \"MSPointerOver\" : \"mouseenter\"),\n        MOUSELEAVE = pointers ? \"pointerout\" : (msPointers ? \"MSPointerOut\" : \"mouseleave\"),\n        MOUSEWHEEL = \"DOMMouseScroll\" + NS + \" mousewheel\" + NS,\n        RESIZE = kendo.support.resize + NS,\n        SCROLLWIDTH = \"scrollWidth\",\n        SCROLLHEIGHT = \"scrollHeight\",\n        OFFSETWIDTH = \"offsetWidth\",\n        OFFSETHEIGHT = \"offsetHeight\",\n        POPUP_ID_ATTR = \"group\",\n        POPUP_OPENER_ATTR = \"groupparent\",\n        DOCUMENT_ELEMENT = $(document.documentElement),\n        KENDOPOPUP = \"kendoPopup\",\n        HOVERSTATE = \"k-hover\",\n        FOCUSEDSTATE = \"k-focus\",\n        DISABLEDSTATE = \"k-disabled\",\n        SELECTEDSTATE = \"k-selected\",\n        menuSelector = \".k-menu\",\n        groupSelector = \".k-menu-group\",\n        animationContainerSelector = \".k-animation-container\",\n        childAnimationContainerSelector = \".k-child-animation-container\",\n        popupSelector = \".k-menu-popup ,\" + animationContainerSelector,\n        allItemsSelector = \":not(.k-list) > .k-item:not([role='treeitem'])\",\n        disabledSelector = \".k-item.k-disabled\",\n        itemSelector = \".k-item\",\n        availableItemsSelector = \".k-item:not(.k-disabled)\",\n        linkSelector = \".k-item:not(.k-disabled) > .k-link\",\n        exclusionSelector = \":not(.k-item.k-separator):visible\",\n        templateSelector = \"div:not(.k-animation-container,.k-list-container)\",\n        scrollButtonSelector = \".k-menu-scroll-button\",\n        touchPointerTypes = { \"2\": 1, \"touch\": 1 },\n        STRING = \"string\",\n        DATABOUND = \"dataBound\",\n        ARIA_EXPANDED = \"aria-expanded\",\n        ROLE = \"role\",\n\n        bindings = {\n            text: \"dataTextField\",\n            url: \"dataUrlField\",\n            spriteCssClass: \"dataSpriteCssClassField\",\n            imageUrl: \"dataImageUrlField\",\n            imageAttr: \"dataImageAttrField\",\n            content: \"dataContentField\"\n        },\n\n        rendering = {\n            wrapperCssClass: function(group, item) {\n                var result = \"k-item k-menu-item\",\n                    index = item.index;\n\n                if (item.separator) {\n                    result += \" k-separator\";\n                }\n\n                if (item.enabled === false) {\n                    result += \" k-disabled\";\n                }\n\n                if (group.firstLevel && index === 0) {\n                    result += \" k-first\";\n                }\n\n                if (index == group.length - 1) {\n                    result += \" k-last\";\n                }\n\n                if (item.cssClass) {\n                    result += \" \" + item.cssClass;\n                }\n\n                if (item.attr && item.attr.hasOwnProperty(\"class\")) {\n                    result += \" \" + item.attr[\"class\"];\n                }\n\n                if (item.selected) {\n                    result += \" \" + SELECTEDSTATE;\n                }\n\n                return result;\n            },\n\n            itemCssAttributes: function(item) {\n                var result = \"\";\n                var attributes = item.attr || {};\n\n                for (var attr in attributes) {\n                    if (attributes.hasOwnProperty(attr) && attr !== \"class\") {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            imageCssAttributes: function(imgAttributes) {\n                var result = \"\";\n                var attributes = imgAttributes && imgAttributes.toJSON ? imgAttributes.toJSON() : {};\n\n                if (!attributes['class']) {\n                    attributes['class'] = IMAGE;\n                } else {\n                    attributes['class'] += \" \" + IMAGE;\n                }\n\n                for (var attr in attributes) {\n                    if (attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            contentCssAttributes: function(item) {\n                var result = \"\";\n                var attributes = item.contentAttr || {};\n                var defaultClasses = \"k-content k-group k-menu-group k-menu-group-md\";\n\n                if (!attributes['class']) {\n                    attributes['class'] = defaultClasses;\n                } else {\n                    attributes['class'] += \" \" + defaultClasses;\n                }\n\n                for (var attr in attributes) {\n                    if (attributes.hasOwnProperty(attr)) {\n                        result += attr + \"=\\\"\" + attributes[attr] + \"\\\" \";\n                    }\n                }\n\n                return result;\n            },\n\n            textClass: function() {\n                return LINK;\n            },\n\n            groupAttributes: function(group) {\n                return group.expanded !== true ? `${kendo.attr(\"style-display\")}=\"none\"` : \"\";\n            },\n\n            groupCssClass: function() {\n                return \"k-group k-menu-group k-menu-group-md\";\n            },\n\n            groupWrapperCssClass: function() {\n                return \"k-menu-popup\";\n            },\n\n            content: function(item) {\n                return item.content ? item.content : \"&nbsp;\";\n            }\n    };\n\n    function getEffectDirection(direction, root) {\n        direction = direction.split(\" \")[!root + 0] || direction;\n        return direction.replace(\"top\", \"up\").replace(\"bottom\", \"down\");\n    }\n\n    function parseDirection(direction, root, isRtl) {\n        direction = direction.split(\" \")[!root + 0] || direction;\n        var output = { origin: [\"bottom\", (isRtl ? \"right\" : \"left\")], position: [\"top\", (isRtl ? \"right\" : \"left\")] },\n            horizontal = /left|right/.test(direction);\n\n        if (horizontal) {\n            output.origin = [ \"top\", direction ];\n            output.position[1] = kendo.directions[direction].reverse;\n        } else {\n            output.origin[0] = direction;\n            output.position[0] = kendo.directions[direction].reverse;\n        }\n\n        output.origin = output.origin.join(\" \");\n        output.position = output.position.join(\" \");\n\n        return output;\n    }\n\n    function contains(parent, child) {\n        try {\n            return $.contains(parent, child);\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function updateItemClasses(item) {\n        item = $(item);\n        var omitWrap = item.attr(kendo.attr(\"omit-wrap\"));\n\n        if (omitWrap) {\n            return;\n        }\n\n        item.addClass(\"k-item k-menu-item\")\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .children(\"a\")\n            .addClass(LINK)\n            .children(IMG)\n            .addClass(IMAGE);\n\n        item\n            .filter(\":not([disabled])\");\n\n        item\n            .filter(\".k-separator\")\n            .removeClass(\"k-menu-item\")\n            .addClass(\"k-menu-separator\")\n            .empty()\n            .append(\"&nbsp;\");\n\n        item\n            .filter(\"li[disabled]\")\n            .addClass(DISABLEDSTATE)\n            .prop(\"disabled\", false)\n            .attr(\"aria-disabled\", true);\n\n        if (!item.filter(\"[role]\").length) {\n            item.attr(ROLE, \"menuitem\");\n        }\n\n        if (!item.children(LINK_SELECTOR).length) {\n            item.contents() // exclude groups, real links, templates and empty text nodes\n                .filter(function() { return (!this.nodeName.match(excludedNodesRegExp) && !(this.nodeType === 3 && !kendo.trim(this.nodeValue))); })\n                .wrapAll(\"<span class='\" + LINK + \"'></span>\")\n                .filter(function(idx, elm) { return elm.nodeType === 3; })\n                .wrap(\"<span class='k-menu-link-text'></span>\");\n        }\n\n        updateArrow(item);\n        updateFirstLast(item);\n    }\n\n    function updateArrow(item) {\n        item = $(item);\n        item.find(\"> .k-link > .k-menu-expand-arrow > [class*=k-i-caret]:not(.k-sprite),> .k-link > .k-menu-expand-arrow > [class*=k-svg-i-caret]:not(.k-sprite)\").parent().remove();\n\n        item.filter(\":has(.k-menu-group)\")\n            .children(\".k-link:not(:has([class*=k-i-caret]:not(.k-sprite))),.k-link:not(:has([class*=k-svg-i-caret]:not(.k-sprite)))\")\n            .each(function() {\n                var item = $(this);\n\n                item.append(`<span aria-hidden='true' class='k-menu-expand-arrow'>${kendo.ui.icon({ icon: getArrowIconName(item), iconClass: \"k-menu-expand-arrow-icon\" })}</span>`);\n            });\n    }\n\n    function getArrowIconName(item) {\n        var arrowIconName,\n            parent = item.parent().parent(),\n            isRtl = kendo.support.isRtl(parent);\n\n        if (parent.hasClass(MENU + \"-horizontal\")) {\n            arrowIconName = \"caret-alt-down\";\n        } else {\n            if (isRtl) {\n                arrowIconName = \"caret-alt-left\";\n            }\n            else {\n                arrowIconName = \"caret-alt-right\";\n            }\n        }\n        return arrowIconName;\n    }\n\n    function updateFirstLast(item) {\n        item = $(item);\n\n        item.filter(\".k-first:not(:first-child)\").removeClass(FIRST);\n        item.filter(\".k-last:not(:last-child)\").removeClass(LAST);\n        item.filter(\":first-child\").addClass(FIRST);\n        item.filter(\":last-child\").addClass(LAST);\n    }\n\n    function updateHasAriaPopup(parents) {\n        if (parents && parents.length) {\n            for (var index in parents) {\n                var parentLi = parents.eq(index);\n                if (parentLi.find(\"ul\").length) {\n                    parentLi.attr(\"aria-haspopup\", true);\n                } else {\n                    parentLi.removeAttr(\"aria-haspopup\");\n                }\n            }\n        }\n    }\n\n    function getParentLiItems(group) {\n        if (!group.hasClass(MENU)) {\n            return group.parentsUntil(\".\" + MENU, \"li\");\n        }\n    }\n\n    function storeItemSelectEventHandler(element, options) {\n        var selectHandler = getItemSelectEventHandler(options);\n        if (selectHandler) {\n            setItemData(element, selectHandler);\n        }\n\n        if (options.items) {\n            $(element).children(\"ul\").children(\"li\").each(function(i) {\n                storeItemSelectEventHandler(this, options.items[i]);\n            });\n        }\n    }\n\n    function setItemData(element, selectHandler) {\n        $(element).children(\".k-link\").data({\n            selectHandler: selectHandler\n        });\n    }\n\n    function getItemSelectEventHandler(options) {\n        var selectHandler = options.select,\n            isFunction = kendo.isFunction;\n\n        if (selectHandler && isFunction(selectHandler)) {\n            return selectHandler;\n        }\n        return null;\n    }\n\n    function popupOpenerSelector(id) {\n        return id ? \"li[data-groupparent='\" + id + \"']\" : \"li[data-groupparent]\";\n    }\n    function popupGroupSelector(id) {\n        var selector = id ? \"[data-group='\" + id + \"']\" : \"[data-group]\";\n        return \"ul\" + selector + \",div\" + selector;\n    }\n    function getChildPopups(currentPopup, overflowWrapper) {\n        var childPopupOpener = currentPopup.find(popupOpenerSelector());\n        var result = [];\n        childPopupOpener.each(function(i, opener) {\n            opener = $(opener);\n            var popupId = opener.data(POPUP_OPENER_ATTR);\n            var popup = currentPopup;\n            while (popupId) {\n                popup = overflowWrapper.find(popupGroupSelector(popupId) + \":visible\");\n                if (popup.length) {\n                    result.push(popup);\n                }\n                opener = popup.find(popupOpenerSelector());\n                popupId = opener.data(POPUP_OPENER_ATTR);\n            }\n        });\n\n        return result;\n    }\n\n    function popupParentItem(popupElement, overflowWrapper) {\n        var popupId = popupElement.data(POPUP_ID_ATTR);\n        return popupId ? overflowWrapper.find(popupOpenerSelector(popupId)) : $([]);\n    }\n\n    function itemPopup(item, overflowWrapper) {\n        var popupId = item.data(POPUP_OPENER_ATTR);\n        return popupId ? overflowWrapper.children(animationContainerSelector).find(popupGroupSelector(popupId)) : $([]);\n    }\n\n    function overflowMenuParents(current, overflowWrapper) {\n        var parents = [];\n        var getParents = function(item) {\n            while (item.parentNode && !overflowWrapper.is(item.parentNode)) {\n                parents.push(item.parentNode);\n                item = item.parentNode;\n            }\n        };\n        var elem = current[0] || current;\n        getParents(elem);\n        var last = parents[parents.length - 1];\n        while ($(last).is(animationContainerSelector)) {\n            var popupElement = $(last).children(\"ul\");\n            elem = popupParentItem(popupElement, overflowWrapper)[0];\n            if (!elem) {\n                break;\n            }\n            parents.push(elem);\n            getParents(elem);\n            last = parents[parents.length - 1];\n        }\n        return parents;\n    }\n\n    function mousewheelDelta(e) {\n        var delta = 0;\n\n        if (e.wheelDelta) {\n            delta = -e.wheelDelta / 120;\n            delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n        }\n\n        if (e.detail) {\n            delta = Math.round(e.detail / 3);\n        }\n\n        return delta;\n    }\n\n    function parentsScroll(current, scrollDirection) {\n        var scroll = 0;\n        var parent = current.parentNode;\n        while (parent && !isNaN(parent[scrollDirection])) {\n            scroll += parent[scrollDirection];\n            parent = parent.parentNode;\n        }\n        return scroll;\n    }\n\n    function isPointerTouch(e) {\n        return allPointers && e.originalEvent && e.originalEvent.pointerType in touchPointerTypes;\n    }\n\n    function isTouch(e) {\n        var ev = e.originalEvent;\n        return touch && /touch/i.test(ev.type || \"\");\n    }\n\n    function removeSpacesBetweenItems(ul) {\n        ul.contents().filter(function() { return this.nodeName != \"LI\"; }).remove();\n    }\n\n    var Menu = kendo.ui.DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n            that._accessors();\n            that._templates();\n            that._dataSource();\n\n            that._updateClasses();\n            that._wrapGroups();\n\n            that._animations(options);\n\n            that.nextItemZIndex = 100;\n\n            that._tabindex();\n\n            that._initOverflow(options);\n\n            that._attachMenuEventsHandlers();\n\n            if (options.openOnClick) {\n                that.clicked = false;\n            }\n\n            element.attr(ROLE, \"menubar\");\n\n            if (element[0].id) {\n                that._ariaId = kendo.format(\"{0}_mn_active\", element[0].id);\n            } else {\n                that._ariaId = kendo.format(\"{0}_mn_active\", kendo.guid());\n            }\n\n            kendo.notify(that);\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT,\n            DATABOUND\n        ],\n\n        options: {\n            name: \"Menu\",\n            animation: {\n                open: {\n                    duration: 200\n                },\n                close: { // if close animation effects are defined, they will be used instead of open.reverse\n                    duration: 100\n                }\n            },\n            orientation: \"horizontal\",\n            direction: \"default\",\n            openOnClick: false,\n            closeOnClick: true,\n            hoverDelay: 100,\n            scrollable: false,\n            popupCollision: undefined$1\n        },\n\n        _initData: function() {\n            var that = this;\n\n            if (that.dataSource) {\n                that.angular(\"cleanup\", function() {\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n                that.element.empty();\n\n                that.append(that.dataSource.view(), that.element);\n                that.angular(\"compile\", function() {\n                    return {\n                        elements: that.element.children()\n                    };\n                });\n            }\n        },\n\n        _attachMenuEventsHandlers: function() {\n            var that = this;\n            var element = that.element;\n            var options = that.options;\n            var overflowWrapper = that._overflowWrapper();\n\n            that._checkActiveProxy = that._checkActiveElement.bind(that);\n\n            (overflowWrapper || element).on(POINTERDOWN, itemSelector, that._focusHandler.bind(that))\n                   .on(CLICK + NS, disabledSelector, false)\n                   .on(CLICK + NS, itemSelector, that._click.bind(that))\n                   .on(POINTERDOWN + \" \" + MOUSEDOWN + NS, \".k-content\", that._preventClose.bind(that))\n                   .on(MOUSEENTER + NS, availableItemsSelector, that._mouseenter.bind(that))\n                   .on(MOUSELEAVE + NS, availableItemsSelector, that._mouseleave.bind(that))\n                   .on(MOUSEDOWN + NS, availableItemsSelector, that._mousedown.bind(that))\n                   .on(TOUCHSTART + NS + \" \" + MOUSEENTER + NS + \" \" + MOUSELEAVE + NS + \" \" +\n                       MOUSEDOWN + NS + \" \" + CLICK + NS, linkSelector, that._toggleHover.bind(that));\n\n            element.on(\"keydown\" + NS, that._keydown.bind(that))\n                   .on(\"focus\" + NS, that._focus.bind(that))\n                   .on(\"focus\" + NS, \".k-content\", that._focus.bind(that))\n                   .on(\"blur\" + NS, that._removeHoverItem.bind(that))\n                   .on(\"blur\" + NS, \"[tabindex]\", that._checkActiveProxy);\n\n            if (overflowWrapper) {\n                overflowWrapper\n                    .on(MOUSELEAVE + NS, popupSelector, that._mouseleavePopup.bind(that))\n                    .on(MOUSEENTER + NS, popupSelector, that._mouseenterPopup.bind(that));\n            }\n\n            if (options.openOnClick) {\n                that._documentClickHandler = that._documentClick.bind(that);\n                $(document).on(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _detachMenuEventsHandlers: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n\n            if (overflowWrapper) {\n                overflowWrapper.off(NS);\n            }\n\n            that.element.off(NS);\n\n            if (that._documentClickHandler) {\n                $(document).off(\"click\", that._documentClickHandler);\n            }\n        },\n\n        _initOverflow: function(options) {\n            var that = this;\n            var isHorizontal = options.orientation == \"horizontal\";\n            var backwardBtn, forwardBtn;\n\n            if (options.scrollable) {\n                that._openedPopups = {};\n                that._scrollWrapper = that.element.wrap(\"<div class='k-menu-scroll-wrapper k-\" + options.orientation + \"'></div>\").parent();\n                if (isHorizontal) {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                backwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"left\" : \"up\" }));\n                forwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"right\" : \"down\" }));\n                backwardBtn.add(forwardBtn).appendTo(that._scrollWrapper);\n\n                that._initScrolling(that.element, backwardBtn, forwardBtn, isHorizontal);\n\n                var initialWidth = that.element.outerWidth();\n                var initialCssWidth = that.element[0].style.width;\n                initialCssWidth = initialCssWidth === \"auto\" ? \"\" : initialCssWidth;\n\n                if (isHorizontal) {\n                    $(window).on(RESIZE, function() {\n                        setTimeout(function() {\n                            that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                            that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n                        }, 300);\n                    });\n                }\n\n                that._setOverflowWrapperWidth(initialWidth, initialCssWidth);\n                that._toggleScrollButtons(that.element, backwardBtn, forwardBtn, isHorizontal);\n            }\n        },\n\n        _overflowWrapper: function() {\n            return this._scrollWrapper || this._popupsWrapper;\n        },\n\n        _setOverflowWrapperWidth: function(initialWidth, initialCssWidth) {\n            var that = this;\n            var wrapperCssWidth = that._scrollWrapper.css(\"width\");\n\n            that._scrollWrapper.css({ width: \"\" });\n            var wrapperWidth = that._scrollWrapper.outerWidth();\n            that._scrollWrapper.css({ width: wrapperCssWidth });\n\n            var menuWidth = that.element.outerWidth();\n            var borders = that.element[0].offsetWidth - that.element[0].clientWidth;\n\n            if (menuWidth != wrapperWidth && wrapperWidth > 0) {\n                var width = initialCssWidth ? Math.min(initialWidth, wrapperWidth) : wrapperWidth;\n                that.element.width(width - borders);\n                that._scrollWrapper.width(width);\n            }\n        },\n\n        _reinitOverflow: function(options) {\n            var that = this;\n            var overflowChanged = ((options.scrollable && !that.options.scrollable) || (!options.scrollable && that.options.scrollable)) ||\n                (options.scrollable && that.options.scrollable && options.scrollable.distance != that.options.scrollable.distance) ||\n                options.orientation != that.options.orientation;\n\n            if (overflowChanged) {\n                that._detachMenuEventsHandlers();\n                that._destroyOverflow();\n                that._initOverflow(options);\n                that._attachMenuEventsHandlers();\n            }\n        },\n\n        _destroyOverflow: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            if (overflowWrapper) {\n                overflowWrapper.off(NS);\n                overflowWrapper.find(scrollButtonSelector).off(NS).remove();\n                overflowWrapper.children(animationContainerSelector).each(function(i, popupWrapper) {\n                    var ul = $(popupWrapper).find(\".k-child-animation-container > .k-menu-popup\");\n                    ul.off(MOUSEWHEEL);\n                    var popupParentLi = popupParentItem(ul, overflowWrapper);\n                    if (popupParentLi.length) {\n                        popupParentLi.append(popupWrapper);\n                    }\n                });\n\n                overflowWrapper.find(popupOpenerSelector()).removeAttr(\"data-groupparent\");\n                overflowWrapper.find(popupGroupSelector()).removeAttr(\"data-group\");\n                that.element.off(MOUSEWHEEL);\n                $(window).off(RESIZE);\n                overflowWrapper.contents().unwrap();\n\n                that._scrollWrapper = that._popupsWrapper = that._openedPopups = undefined$1;\n            }\n        },\n\n        _initScrolling: function(scrollElement, backwardBtn, forwardBtn, isHorizontal) {\n            var that = this;\n            var scrollable = that.options.scrollable;\n            var distance = that.isNumeric(scrollable.distance) ? scrollable.distance : SCROLLSPEED;\n            var mouseWheelDistance = distance / 2;\n            var backward = \"-=\" + distance;\n            var forward = \"+=\" + distance;\n            var backwardDouble = \"-=\" + distance * 2;\n            var forwardDouble = \"+=\" + distance * 2;\n            var scrolling = false;\n            var touchEvents = false;\n\n            var scroll = function(value) {\n                var scrollValue = isHorizontal ? { \"scrollLeft\": value } : { \"scrollTop\": value };\n                scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function() {\n                    if (scrolling) {\n                        scroll(value);\n                    }\n                });\n                that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n            };\n\n            var mouseenterHandler = function(e) {\n                if (!scrolling && !touchEvents) {\n                    scroll(e.data.direction);\n                    scrolling = true;\n                }\n            };\n\n            var mousedownHandler = function(e) {\n                var scrollValue = isHorizontal ? { \"scrollLeft\": e.data.direction } : { \"scrollTop\": e.data.direction };\n                touchEvents = isTouch(e) || isPointerTouch(e);\n                scrollElement.stop().animate(scrollValue, \"fast\", \"linear\", function() {\n                    if (!touchEvents) {\n                        $(e.currentTarget).trigger(MOUSEENTER);\n                    } else {\n                         that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                         scrolling = true;\n                    }\n                });\n                scrolling = false;\n\n                e.stopPropagation();\n                e.preventDefault();\n            };\n\n            backwardBtn.on(MOUSEENTER + NS, { direction: backward }, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, { direction: backwardDouble }, mousedownHandler);\n\n            forwardBtn.on(MOUSEENTER + NS, { direction: forward }, mouseenterHandler)\n                .on(kendo.eventMap.down + NS, { direction: forwardDouble }, mousedownHandler);\n\n            backwardBtn.add(forwardBtn)\n                .on(MOUSELEAVE + NS, function() {\n                    scrollElement.stop();\n                    scrolling = false;\n                    that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                });\n\n            scrollElement.on(MOUSEWHEEL, function(e) {\n                if (!e.ctrlKey && !e.shiftKey && !e.altKey) {\n                    var wheelDelta = mousewheelDelta(e.originalEvent);\n                    var scrollSpeed = Math.abs(wheelDelta) * mouseWheelDistance;\n                    var value = (wheelDelta > 0 ? \"+=\" : \"-=\") + scrollSpeed;\n                    var scrollValue = isHorizontal ? { \"scrollLeft\": value } : { \"scrollTop\": value };\n\n                    that._closeChildPopups(scrollElement);\n\n                    scrollElement.finish().animate(scrollValue, \"fast\", \"linear\", function() {\n                        that._toggleScrollButtons(scrollElement, backwardBtn, forwardBtn, isHorizontal);\n                    });\n                    e.preventDefault();\n                }\n            });\n        },\n\n        isNumeric: function(n) {\n            return !isNaN(parseFloat(n)) && isFinite(n);\n        },\n\n        _toggleScrollButtons: function(scrollElement, backwardBtn, forwardBtn, horizontal) {\n            var currentScroll = horizontal ? kendo.scrollLeft(scrollElement) : scrollElement.scrollTop();\n            var scrollSize = horizontal ? SCROLLWIDTH : SCROLLHEIGHT;\n            var offset = horizontal ? OFFSETWIDTH : OFFSETHEIGHT;\n\n            backwardBtn.toggle(currentScroll !== 0);\n            forwardBtn.toggle(currentScroll < scrollElement[0][scrollSize] - scrollElement[0][offset] - 1);\n        },\n\n        setOptions: function(options) {\n            var animation = this.options.animation;\n\n            this._animations(options);\n\n            options.animation = extend(true, animation, options.animation);\n\n            if (\"dataSource\" in options) {\n                this._dataSource(options);\n            }\n\n            this._updateClasses();\n            this._wrapGroups();\n            this._reinitOverflow(options);\n\n            Widget.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that._detachMenuEventsHandlers();\n\n            that._destroyOverflow();\n\n            kendo.destroy(that.element);\n        },\n\n        enable: function(element, enable) {\n            this._toggleDisabled(element, enable !== false);\n\n            return this;\n        },\n\n        disable: function(element) {\n            this._toggleDisabled(element, false);\n\n            return this;\n        },\n\n        attemptGetItem: function(candidate) {\n            candidate = candidate || this.element;\n            var item = this.element.find(candidate);\n            var overflowWrapper = this._overflowWrapper();\n\n            if (item.length || candidate === this.element) {\n                return item;\n            } else if (overflowWrapper) {\n                return overflowWrapper.find(candidate);\n            } else {\n                return $();\n            }\n        },\n\n        append: function(item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.length ? this._childPopupElement(referenceItem).children().eq(0) : null);\n\n            each(inserted.items, function(i) {\n                inserted.group.append(this);\n                updateArrow(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateArrow(referenceItem);\n            updateFirstLast(inserted.group.find(\".k-first, .k-last\").add(inserted.items));\n            updateHasAriaPopup(getParentLiItems(inserted.group));\n\n            return this;\n        },\n\n        insertBefore: function(item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function(i) {\n                referenceItem.before(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        insertAfter: function(item, referenceItem) {\n            referenceItem = this.attemptGetItem(referenceItem);\n\n            var inserted = this._insert(item, referenceItem, referenceItem.parent());\n\n            each(inserted.items, function(i) {\n                referenceItem.after(this);\n                updateArrow(this);\n                updateFirstLast(this);\n                storeItemSelectEventHandler(this, item[i] || item);\n            });\n\n            updateFirstLast(referenceItem);\n\n            return this;\n        },\n\n        _insert: function(item, referenceItem, parent) {\n            var that = this,\n                items, groups;\n\n            if (!referenceItem || !referenceItem.length) {\n                parent = that.element;\n            }\n\n            var plain = $.isPlainObject(item) || item instanceof kendo.data.ObservableObject,\n                groupData = {\n                    firstLevel: parent.hasClass(MENU),\n                    horizontal: parent.hasClass(MENU + \"-horizontal\"),\n                    expanded: true,\n                    length: parent.children().length\n                };\n\n            if (referenceItem && !parent.length) {\n                parent = $(that.renderGroup({ group: groupData, options: that.options })).css(\"display\", \"none\").appendTo(referenceItem);\n                kendo.applyStylesFromKendoAttributes(parent, [\"display\"]);\n            }\n\n            if (plain || isArray(item) || item instanceof kendo.data.ObservableArray) { // is JSON\n                items = $($.map(plain ? [ item ] : item, function(value, idx) {\n                            if (typeof value === \"string\") {\n                                return $(value).get();\n                            } else {\n                                let itemElement = $(that.renderItem({\n                                    group: groupData,\n                                    item: extend(value, { index: idx })\n                                }));\n\n                                kendo.applyStylesFromKendoAttributes(itemElement, [\"display\"]);\n                                return itemElement.get();\n                            }\n                        }));\n            } else {\n                if (typeof item == \"string\" && item.charAt(0) != \"<\") {\n                    items = that.element.find(item);\n                } else {\n                    items = $(item);\n                }\n\n                groups = items.find(\"> ul\")\n                                .addClass(\"k-menu-group k-menu-group-md\")\n                                .attr(ROLE, \"menu\");\n\n                items = items.filter(\"li\");\n\n                items.add(groups.find(\"> li\")).each(function() {\n                    updateItemClasses(this);\n                });\n            }\n\n            return { items: items, group: parent };\n        },\n\n        remove: function(element) {\n            element = this.attemptGetItem(element);\n\n            var that = this,\n                parent = element.parentsUntil(that.element, allItemsSelector),\n                group = element.parent(\"ul:not(.k-menu)\");\n\n            element.remove();\n\n            if (group && !group.children(allItemsSelector).length) {\n                var parentItems = getParentLiItems(group);\n\n                var container = group.parent(animationContainerSelector);\n\n                if (container.length) {\n                    container.remove();\n                } else {\n                    group.remove();\n                }\n\n                updateHasAriaPopup(parentItems);\n            }\n\n            if (parent.length) {\n                parent = parent.eq(0);\n\n                updateArrow(parent);\n                updateFirstLast(parent);\n            }\n\n            return that;\n        },\n\n        _openAfterLoad: function(element, dataItem) {\n            var that = this;\n            if (dataItem.loaded()) {\n                that.open(element);\n                that._loading = false;\n            } else {\n                dataItem.one(CHANGE, function() {\n                    element.find(ICON_SELECTOR).removeClass(\"k-i-loading\");\n                    if (that._loading) {\n                        that.open(element);\n                        that._loading = false;\n                    }\n                });\n            }\n        },\n\n        open: function(element) {\n            var that = this;\n            var options = that.options;\n            var horizontal = options.orientation == \"horizontal\";\n            var direction = options.direction;\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var overflowWrapper = that._overflowWrapper();\n            element = (overflowWrapper || that.element).find(element);\n\n            var dataItem = that.dataSource && that.dataSource.getByUid(element.data(kendo.ns + \"uid\"));\n\n            if (dataItem && dataItem.hasChildren && !dataItem.loaded() && !that._loading) {\n                that._loading = true;\n                element.find(ICON_SELECTOR).addClass(\"k-i-loading\");\n                dataItem.load();\n                that._openAfterLoad(element, dataItem);\n                return;\n            }\n\n            if (/^(top|bottom|default)$/.test(direction)) {\n                if (isRtl) {\n                    direction = horizontal ? (direction + \" left\").replace(\"default\", \"bottom\") : \"left\";\n                } else {\n                    direction = horizontal ? (direction + \" right\").replace(\"default\", \"bottom\") : \"right\";\n                }\n            }\n\n            var visiblePopups = \">.k-popup:visible,>.k-animation-container > .k-child-animation-container > .k-menu-popup:visible\";\n            var closePopup = function() {\n                var popup = $(this).data(KENDOPOPUP);\n                if (popup) {\n                    // Use the built-in close method to play the hoverDelay from the options\n                    that.close($(this).closest(\"li.k-item\"), true);\n                }\n            };\n\n            element.siblings()\n                   .find(visiblePopups)\n                   .each(closePopup);\n\n            if (overflowWrapper) {\n                element.find(visiblePopups).each(closePopup);\n            }\n\n            if (that.options.openOnClick) {\n                that.clicked = true;\n            }\n\n            element.each(function() {\n                var li = $(this);\n\n                clearTimeout(li.data(TIMER));\n                clearTimeout(that._timerTimeout);\n                that._timerTimeout = setTimeout(function() {\n                    var div = li.find(\"> .k-menu-popup, > .k-animation-container > .k-child-animation-container > .k-menu-popup\").filter(\":hidden\").first();\n                    var popup;\n                    var overflowPopup;\n\n                    if (!div[0] && overflowWrapper) {\n                        overflowPopup = that._getPopup(li);\n                        div = overflowPopup && overflowPopup.element;\n                    }\n                    if (div.is(\":visible\")) {\n                        return;\n                    }\n\n                    if (div[0] && that._triggerEvent({ item: li[0], type: OPEN }) === false) {\n\n                        if (!div.find(\".k-menu-popup\")[0] && div.children(\".k-menu-group\").children(\".k-item\").length > 1) {\n                            var windowHeight = $(window).height(),\n                                setScrolling = function() {\n                                    div.css({ maxHeight: windowHeight - (kendo._outerHeight(div) - div.height()) - kendo.getShadows(div).bottom, overflow: \"auto\" });\n                                };\n\n                            setScrolling();\n                        } else {\n                            div.css({ maxHeight: \"\", overflow: \"visible\" });\n                        }\n\n                        li.data(ZINDEX, li.css(ZINDEX));\n                        var nextZindex = that.nextItemZIndex++;\n                        li.css(ZINDEX, nextZindex);\n\n                        if (that.options.scrollable) {\n                            li.parent().siblings(scrollButtonSelector).css({ zIndex: ++nextZindex });\n                        }\n\n                        popup = div.data(KENDOPOPUP);\n                        var root = li.parent().hasClass(MENU),\n                            parentHorizontal = root && horizontal,\n                            directions = parseDirection(direction, root, isRtl),\n                            effects = options.animation.open.effects,\n                            openEffects = effects !== undefined$1 ? effects : \"slideIn:\" + getEffectDirection(direction, root);\n\n                        if (!popup) {\n                            popup = div.kendoPopup({\n                                activate: function() { that._triggerEvent({ item: this.wrapper.parent(), type: ACTIVATE }); },\n                                deactivate: function(e) {\n                                    that._closing = false;\n                                    e.sender.element // Restore opacity after fade.\n                                        .removeData(\"targetTransform\")\n                                        .css({ opacity: \"\" });\n                                    that._triggerEvent({ item: this.wrapper.parent(), type: DEACTIVATE });\n                                },\n                                origin: directions.origin,\n                                position: directions.position,\n                                collision: options.popupCollision !== undefined$1 ? options.popupCollision : (parentHorizontal ? \"fit\" : \"fit flip\"),\n                                anchor: li,\n                                appendTo: overflowWrapper || li,\n                                animation: {\n                                    open: extend(true, { effects: openEffects }, options.animation.open),\n                                    close: options.animation.close\n                                },\n                                open: that._popupOpen.bind(that),\n                                close: function(e) {\n                                    that._closing = e.sender.element;\n                                    var li = e.sender.wrapper.parent();\n\n                                    if (overflowWrapper) {\n                                        var popupId = e.sender.element.data(POPUP_ID_ATTR);\n                                        if (popupId) {\n                                            li = (overflowWrapper || that.element).find(popupOpenerSelector(popupId));\n                                        }\n                                        e.sender.wrapper.children(scrollButtonSelector).hide();\n                                    }\n\n                                    if (!that._triggerEvent({ item: li[0], type: CLOSE })) {\n                                        li.css(ZINDEX, li.data(ZINDEX));\n                                        li.removeData(ZINDEX);\n\n                                        if (that.options.scrollable) {\n                                            li.parent().siblings(scrollButtonSelector).css({ zIndex: \"\" });\n                                        }\n\n                                        if (touch || allPointers || kendo.support.mouseAndTouchPresent) {\n                                            li.removeClass(HOVERSTATE);\n                                            that._removeHoverItem();\n                                        }\n                                    } else {\n                                        e.preventDefault();\n                                    }\n                                }\n                            }).data(KENDOPOPUP);\n\n                            div.closest(animationContainerSelector).removeAttr(ROLE);\n                        } else {\n                            popup = div.data(KENDOPOPUP);\n                            popup.options.origin = directions.origin;\n                            popup.options.position = directions.position;\n                            popup.options.animation.open.effects = openEffects;\n                        }\n                        div.removeAttr(\"aria-hidden\");\n                        li.attr(ARIA_EXPANDED, true);\n\n                        that._configurePopupOverflow(popup, li);\n\n                        popup._hovered = true;\n                        popup.open();\n\n                        that._initPopupScrolling(popup);\n                    }\n\n                }, that.options.hoverDelay);\n\n                li.data(TIMER, that._timerTimeout);\n            });\n\n            return that;\n        },\n\n        _configurePopupOverflow: function(popup, popupOpener) {\n            var that = this;\n           if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n                if (!popupOpener.attr(\"data-groupparent\")) {\n                    var groupId = new Date().getTime();\n                    popupOpener.attr(\"data-groupparent\", groupId);\n                    popup.element.attr(\"data-group\", groupId);\n                }\n           }\n        },\n\n        _wrapPopupElement: function(popup) {\n            if (!popup.element.parent().is(childAnimationContainerSelector)) {\n                popup.wrapper = kendo.wrap(popup.element, popup.options.autosize)\n                    .css({\n                        overflow: \"hidden\",\n                        display: \"block\",\n                        position: \"absolute\"\n                    });\n            }\n        },\n\n        _initPopupScrolling: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n\n            if (that.options.scrollable && popup.element[0].scrollHeight > popup.element[0].offsetHeight) {\n                that._initPopupScrollButtons(popup, isHorizontal, skipMouseEvents);\n            }\n        },\n\n        _initPopupScrollButtons: function(popup, isHorizontal, skipMouseEvents) {\n            var that = this;\n            var scrollButtons = popup.wrapper.children(scrollButtonSelector);\n            var animation = that.options.animation;\n            var timeout = ((animation && animation.open && animation.open.duration) || 0) + DELAY;\n            setTimeout(function() {\n                if (!scrollButtons.length) {\n                    var backwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"left\" : \"up\" }));\n                    var forwardBtn = $(that.templates.scrollButton({ direction: isHorizontal ? \"right\" : \"down\" }));\n\n                    scrollButtons = backwardBtn.add(forwardBtn).appendTo(popup.wrapper);\n\n                    that._initScrolling(popup.element, backwardBtn, forwardBtn, isHorizontal);\n                    if (!skipMouseEvents) {\n                        scrollButtons.on(MOUSEENTER + NS, function() {\n                            var overflowWrapper = that._overflowWrapper();\n                            $(getChildPopups(popup.element, overflowWrapper)).each(function(i, p) {\n                                var popupOpener = overflowWrapper.find(popupOpenerSelector(p.data(POPUP_ID_ATTR)));\n                                that.close(popupOpener);\n                            });\n                        })\n                        .on(MOUSELEAVE + NS, function() {\n                            setTimeout(function() {\n                                if ($.isEmptyObject(that._openedPopups)) {\n                                    that._closeParentPopups(popup.element);\n                                }\n                            }, DELAY);\n                        });\n                    }\n                }\n                that._toggleScrollButtons(popup.element, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n            }, timeout);\n        },\n\n        _popupOpen: function(e) {\n            if (!this._keyTriggered) {\n                e.sender.element.children(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n            }\n            if (this.options.scrollable) {\n                this._setPopupHeight(e.sender);\n            }\n        },\n\n        _setPopupHeight: function(popup, isFixed) {\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(childAnimationContainerSelector));\n\n            popups.height((popupElement.hasClass(MENU) && this._initialHeight) || \"\");\n\n            var location = popup._location(isFixed);\n            var windowHeight = $(window).height();\n            var popupOuterHeight = location.height;\n            var popupOffsetTop = isFixed ? 0 : Math.max(location.top, 0);\n            var scrollTop = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollTop\");\n            var bottomScrollbar = window.innerHeight - windowHeight;\n            var maxHeight = windowHeight - kendo.getShadows(popupElement).bottom + bottomScrollbar;\n            var canFit = maxHeight + scrollTop > popupOuterHeight + popupOffsetTop;\n\n            if (!canFit) {\n                var height = Math.min(maxHeight, maxHeight - popupOffsetTop + scrollTop);\n                popups.css({ overflow: \"hidden\", height: height + \"px\" });\n            }\n        },\n\n        close: function(items, dontClearClose) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var element = (overflowWrapper || that.element);\n\n            items = element.find(items);\n\n            if (!items.length) {\n                items = element.find(\">.k-item\");\n            }\n\n            var hasChildPopupsHovered = function(currentPopup) {\n                var result = false;\n                if ($.isEmptyObject(that._openedPopups)) {\n                    return result;\n                }\n                $(getChildPopups(currentPopup, overflowWrapper)).each(function(i, popup) {\n                    result = !!that._openedPopups[popup.data(POPUP_ID_ATTR).toString()];\n                    return !result;\n                });\n                return result;\n            };\n\n            var isPopupMouseLeaved = function(opener) {\n                var groupId = opener.data(POPUP_OPENER_ATTR);\n                return (!overflowWrapper || !groupId || !that._openedPopups[groupId.toString()]);\n            };\n\n            items.each(function() {\n                var li = $(this);\n\n                li.attr(ARIA_EXPANDED, false);\n\n                if (!dontClearClose && that._isRootItem(li)) {\n                    that.clicked = false;\n                }\n\n                clearTimeout(li.data(TIMER));\n\n                li.data(TIMER, setTimeout(function() {\n                    var popup = that._getPopup(li);\n                    if (popup && (isPopupMouseLeaved(li) || that._forceClose)) {\n                        if (!that._forceClose && hasChildPopupsHovered(popup.element)) {\n                            return;\n                        }\n\n                        popup.close();\n                        popup.element.attr(\"aria-hidden\", true);\n\n                        if (overflowWrapper) {\n                            if (that._forceClose && items.last().is(li[0])) {\n                                delete that._forceClose;\n                            }\n                        }\n                    }\n                }, that.options.hoverDelay));\n            });\n\n            return that;\n        },\n\n        _getPopup: function(li) {\n            var that = this;\n            var popup = li.find(\".k-menu-popup:not(.k-list-container):not(.k-calendar-container):visible\").first().data(KENDOPOPUP);\n            var overflowWrapper = that._overflowWrapper();\n\n            if (!popup && overflowWrapper) {\n                var groupId = li.data(POPUP_OPENER_ATTR);\n                if (groupId) {\n                    var popupElement = overflowWrapper.find(popupGroupSelector(groupId));\n                    popup = popupElement.data(KENDOPOPUP);\n                }\n            }\n            return popup;\n        },\n\n        _toggleDisabled: function(items, enable) {\n            this.element.find(items).each(function() {\n                $(this)\n                    .toggleClass(DISABLEDSTATE, !enable)\n                    .attr(\"aria-disabled\", !enable);\n            });\n        },\n\n        _toggleHover: function(e) {\n            var target = $(kendo.eventTarget(e) || e.target).closest(allItemsSelector),\n                isEnter = e.type == MOUSEENTER || MOUSEDOWN.indexOf(e.type) !== -1;\n\n            target.siblings().removeClass(HOVERSTATE);\n\n            if (!target.parents(\"li.\" + DISABLEDSTATE).length) {\n                target.toggleClass(HOVERSTATE, isEnter || e.type == \"mousedown\" || e.type == \"pointerover\" || e.type == TOUCHSTART);\n            }\n\n            this._removeHoverItem();\n        },\n\n        _preventClose: function() {\n            if (!this.options.closeOnClick) {\n                this._closurePrevented = true;\n            }\n        },\n\n        _checkActiveElement: function(e) {\n            var that = this,\n                hoverItem = $(e ? e.currentTarget : this._hoverItem()),\n                target = that._findRootParent(hoverItem)[0];\n\n            if (!this._closurePrevented) {\n                setTimeout(function() {\n                    if (!document.hasFocus() || (!contains(target, kendo._activeElement()) && e && !contains(target, e.currentTarget))) {\n                        that.close(target);\n                    }\n                }, 0);\n            }\n\n            this._closurePrevented = false;\n        },\n\n        _removeHoverItem: function() {\n            var oldHoverItem = this._hoverItem();\n\n            if (oldHoverItem && oldHoverItem.hasClass(FOCUSEDSTATE)) {\n                oldHoverItem.removeClass(FOCUSEDSTATE);\n                this._oldHoverItem = null;\n            }\n        },\n\n        _wrapGroups: function() {\n            var that = this;\n\n            that.element.find(\"li > ul\")\n                .filter(function() {\n                    return !$(this).parent().hasClass(\"k-menu-popup\");\n                })\n                .wrap(\"<div class='k-menu-popup k-popup'></div>\")\n                .parent(\"div\")\n                .attr(\"aria-hidden\", that.element.is(\":visible\"))\n                .hide();\n\n            that.element.find(\"ul\").each(function() {\n                var group = $(this);\n                var id = kendo.guid();\n                group.attr(\"id\", id)\n                    .closest(\"li\")\n                    .attr(\"aria-controls\", id);\n            });\n        },\n\n        _updateClasses: function() {\n            var element = this.element,\n                nonContentGroupsSelector = \".k-menu-init div ul\",\n                items;\n\n            element.removeClass(\"k-menu-horizontal k-menu-vertical\");\n            element.addClass(\"k-widget k-reset k-menu-init \" + MENU).addClass(MENU + \"-\" + this.options.orientation);\n\n            if (this.options.orientation === \"vertical\") {\n                element.attr(\"aria-orientation\", \"vertical\");\n            } else {\n                element.attr(\"aria-orientation\", \"horizontal\");\n            }\n\n            element.find(\"li > ul\")\n                   .filter(function() {\n                       return !kendo.support.matchesSelector.call(this, nonContentGroupsSelector);\n                   })\n                   .addClass(\"k-group k-menu-group k-menu-group-md\")\n                   .attr(ROLE, \"menu\")\n                   .parent(\"li\")\n                   .attr(\"aria-haspopup\", \"true\")\n                   .end()\n                   .find(\"li > div\")\n                   .addClass(\"k-content\")\n                   .attr(\"tabindex\", \"-1\"); // Capture the focus before the Menu\n\n            element.find(\"li[aria-haspopup]\").attr(ARIA_EXPANDED, false);\n\n            items = element.find(\"> li,.k-menu-group > li\");\n\n            element.removeClass(\"k-menu-init\");\n\n            items.each(function() {\n                updateItemClasses(this);\n            });\n        },\n\n        _mouseenter: function(e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var hasChildren = that._itemHasChildren(element);\n            var popupId = element.data(POPUP_OPENER_ATTR) || element.parent().data(POPUP_ID_ATTR);\n            var pointerTouch = isPointerTouch(e);\n            var isParentClosing = false;\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n\n            if (that._closing) {\n                isParentClosing = !!that._closing.find(element).length;\n            }\n\n            if (isParentClosing || (e.delegateTarget != element.parents(menuSelector)[0] && e.delegateTarget != element.parents(\".k-menu-scroll-wrapper,.k-popups-wrapper\")[0])) {\n                return;\n            }\n\n            that._keyTriggered = false;\n\n            if ((that.options.openOnClick.rootMenuItems && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems && !that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if ((that.options.openOnClick === false ||\n                (that.options.openOnClick.rootMenuItems === false && that._isRootItem(element.closest(allItemsSelector))) ||\n                (that.options.openOnClick.subMenuItems === false && !that._isRootItem(element.closest(allItemsSelector))) || that.clicked) && !touch &&\n                !(pointerTouch && that._isRootItem(element.closest(allItemsSelector)))) {\n\n                if (!contains(e.currentTarget, e.relatedTarget) && hasChildren) {\n                    that.open(element);\n                }\n            }\n\n            if (that.options.openOnClick === true && that.clicked || touch) {\n                element.siblings().each(function(_, sibling) {\n                    that.close(sibling, true);\n                });\n            }\n        },\n\n        _mousedown: function(e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            // needs to close subMenuItems\n            if (that.options.openOnClick.subMenuItems && !that._isRootItem(element) || touch) {\n                element.siblings().each(function(_, sibling) {\n                    that.close(sibling, true);\n                });\n            }\n        },\n\n        _mouseleave: function(e) {\n            var that = this;\n            var element = $(e.currentTarget);\n            var popupOpener = element.data(POPUP_OPENER_ATTR);\n            var hasChildren = (element.children(animationContainerSelector).length || element.children(groupSelector).length) || popupOpener;\n            var $window = $(window);\n\n            if (popupOpener) {\n                delete that._openedPopups[popupOpener.toString()];\n            }\n\n            if (element.parentsUntil(animationContainerSelector, \".k-list-container,.k-calendar-container\")[0]) {\n                e.stopImmediatePropagation();\n                return;\n            }\n\n            if ((that.options.openOnClick === false || (!that.options.openOnClick.rootMenuItems && that._isRootItem(element)) ||\n                (!that.options.openOnClick.subMenuItems && !that._isRootItem(element))) && !touch && !isPointerTouch(e) &&\n                !contains(e.currentTarget, e.relatedTarget || e.target) && hasChildren &&\n                !contains(e.currentTarget, kendo._activeElement())) {\n                    that.close(element, true);\n                    that._loading = false;\n                    return;\n            }\n\n            // Detect if cursor goes outside the viewport of the browser\n            if ( (kendo.support.browser.msie && !e.toElement && !e.relatedTarget && !isPointerTouch(e)) ||\n                e.clientX < 0 || e.clientY < 0 ||\n                e.clientY > $window.height() ||\n                e.clientX > $window.width()) {\n                that.close(element);\n            }\n        },\n\n        _mouseenterPopup: function(e) {\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (popupElement.parent().is(childAnimationContainerSelector)) {\n                 return;\n            }\n\n            popupElement = popupElement.children(\"ul\");\n            var popupId = popupElement.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                that._openedPopups[popupId.toString()] = true;\n            }\n        },\n\n        _mouseleavePopup: function(e) {\n            var that = this;\n            var popupElement = $(e.currentTarget);\n\n            if (!isPointerTouch(e) && popupElement.is(animationContainerSelector)) {\n                that._closePopups(popupElement.children(\"ul\"));\n            }\n        },\n\n        _closePopups: function(rootPopup) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = rootPopup.data(POPUP_ID_ATTR);\n\n            if (popupId) {\n                delete that._openedPopups[popupId.toString()];\n                var groupParent = overflowWrapper.find(popupOpenerSelector(popupId));\n\n                setTimeout(function() {\n                    if (that.options.openOnClick) {\n                        that._closeChildPopups(rootPopup);\n                    } else {\n                        if ($.isEmptyObject(that._openedPopups)) {\n                            var innerPopup = that._innerPopup(rootPopup);\n                            that._closeParentPopups(innerPopup);\n                        } else {\n                            that.close(groupParent, true);\n                        }\n                    }\n                }, 0);\n            }\n        },\n\n        _closeChildPopups: function(current) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            $(getChildPopups(current, overflowWrapper)).each(function() {\n                var popupOpener = overflowWrapper.find(popupOpenerSelector(this.data(POPUP_ID_ATTR)));\n                that.close(popupOpener, true);\n            });\n        },\n\n        _innerPopup: function(current) {\n            var overflowWrapper = this._overflowWrapper();\n            var popups = getChildPopups(current, overflowWrapper);\n            return popups[popups.length - 1] || current;\n        },\n\n        _closeParentPopups: function(current) {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var popupId = current.data(POPUP_ID_ATTR);\n            var popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n            popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            that.close(popupOpener, true);\n            while (popupId && !that._openedPopups[popupId]) {\n                if (popupOpener.parent().is(menuSelector)) {\n                    break;\n                }\n                popupOpener = overflowWrapper.find(popupOpenerSelector(popupId));\n                that.close(popupOpener, true);\n                popupId = popupOpener.parent().data(POPUP_ID_ATTR);\n            }\n        },\n\n        _click: function(e) {\n            var that = this, openHandle,\n                options = that.options,\n                target = $(kendo.eventTarget(e)),\n                targetElement = target[0],\n                nodeName = target[0] ? target[0].nodeName.toUpperCase() : \"\",\n                formNode = (nodeName == \"INPUT\" || nodeName == \"SELECT\" || nodeName == \"BUTTON\" || nodeName == \"LABEL\"),\n                link = target.closest(LINK_SELECTOR),\n                element = target.closest(allItemsSelector),\n                itemElement = element[0],\n                href = link.attr(\"href\"), childGroup, childGroupVisible,\n                targetHref = target.attr(\"href\"),\n                sampleHref = $(\"<a href='#' />\").attr(\"href\"),\n                isLink = (!!href && href !== sampleHref),\n                isLocalLink = isLink && !!href.match(/^#/),\n                isTargetLink = (!!targetHref && targetHref !== sampleHref),\n                overflowWrapper = that._overflowWrapper(),\n                shouldCloseTheRootItem;\n\n            if (targetElement && (!targetElement.parentNode || !itemElement)) {\n                return;\n            }\n\n            if ($(target).closest(\"span\").hasClass('k-menu-expand-arrow-icon')) {\n                this._lastClickedElement = itemElement;\n            }\n\n            while (targetElement && targetElement.parentNode != itemElement) {\n                targetElement = targetElement.parentNode;\n            }\n\n            if ($(targetElement).is(templateSelector)) {\n                return;\n            }\n\n            if (element.hasClass(DISABLEDSTATE)) {\n                e.preventDefault();\n                return;\n            }\n\n            if (!e.handled && that._triggerSelect(target, itemElement) && !formNode) { // We shouldn't stop propagation and shoudn't prevent form elements.\n                e.preventDefault();\n            }\n\n            e.handled = true;\n\n            childGroup = element.children(popupSelector);\n            if (overflowWrapper) {\n                var childPopupId = element.data(POPUP_OPENER_ATTR);\n                if (childPopupId) {\n                    childGroup = overflowWrapper.find(popupGroupSelector(childPopupId));\n                }\n            }\n            childGroupVisible = childGroup.is(\":visible\");\n            shouldCloseTheRootItem = options.openOnClick && childGroupVisible && that._isRootItem(element);\n\n            if (options.closeOnClick && (!isLink || isLocalLink) && (!childGroup.length || shouldCloseTheRootItem)) {\n                element.removeClass(HOVERSTATE).css(\"height\"); // Force refresh for Chrome\n                that._oldHoverItem = that._findRootParent(element);\n                var item = that._parentsUntil(link, that.element, allItemsSelector);\n                that._forceClose = !!overflowWrapper;\n                that.close(item);\n                that.clicked = false;\n                if (\"MSPointerUp\".indexOf(e.type) != -1) {\n                    e.preventDefault();\n                }\n                return;\n            }\n\n            if (isLink && e.enterKey) {\n                link[0].click();\n            }\n\n            if (((!that._isRootItem(element) || options.openOnClick === false) && !options.openOnClick.subMenuItems) && !kendo.support.touch && !(isPointerTouch(e) && that._isRootItem(element.closest(allItemsSelector)))) {\n                return;\n            }\n\n            if (!isLink && !formNode && !isTargetLink) {\n                e.preventDefault();\n            }\n\n            that.clicked = true;\n            openHandle = childGroup.is(\":visible\") ? CLOSE : OPEN;\n            if (!options.closeOnClick && openHandle == CLOSE) {\n                return;\n            }\n            that[openHandle](element);\n        },\n\n        _parentsUntil: function(context, top, selector) {\n            var overflowWrapper = this._overflowWrapper();\n            if (!overflowWrapper) {\n                return context.parentsUntil(top, selector);\n            } else {\n                var parents = overflowMenuParents(context, overflowWrapper);\n                var result = [];\n                $(parents).each(function() {\n                    var parent = $(this);\n                    if (parent.is(top)) {\n                        return false;\n                    }\n                    if (parent.is(selector)) {\n                        result.push(this);\n                    }\n                });\n                return $(result);\n            }\n        },\n\n        _triggerSelect: function(target, itemElement) {\n            target = target.is(\".k-link\") ? target : target.closest(\".k-link\");\n\n            var selectHandler = target.data(\"selectHandler\"),\n                itemSelectEventData;\n\n            if (selectHandler) {\n                itemSelectEventData = this._getEventData(target);\n                selectHandler.call(this, itemSelectEventData);\n            }\n\n            var isSelectItemDefaultPrevented = itemSelectEventData && itemSelectEventData.isDefaultPrevented();\n            var isSelectDefaultPrevented = this._triggerEvent({ item: itemElement, type: SELECT });\n            return isSelectItemDefaultPrevented || isSelectDefaultPrevented;\n        },\n\n        _getEventData: function(target) {\n            var eventData = {\n                sender: this,\n                target: target,\n                _defaultPrevented: false,\n                preventDefault: function() {\n                    this._defaultPrevented = true;\n                },\n                isDefaultPrevented: function() {\n                    return this._defaultPrevented;\n                }\n            };\n            return eventData;\n        },\n\n        _documentClick: function(e) {\n            var that = this;\n            var target = $(e.target).closest(\"span\").hasClass('k-menu-expand-arrow-icon') ? that._lastClickedElement : e.target;\n\n            if (contains((that._overflowWrapper() || that.element)[0], target)) {\n                that._lastClickedElement = undefined$1;\n                return;\n            }\n\n            that.clicked = false;\n        },\n\n        _focus: function(e) {\n            var that = this,\n                target = e.target,\n                hoverItem = that._hoverItem(),\n                active = activeElement();\n\n            if (target != that.wrapper[0] && !$(target).is(\":kendoFocusable\")) {\n                e.stopPropagation();\n                $(target).closest(\".k-content\").closest(\".k-menu-popup\").closest(\".k-item\").addClass(FOCUSEDSTATE);\n                that.wrapper.trigger(\"focus\");\n                return;\n            }\n\n            if (active === e.currentTarget) {\n                if (hoverItem.length) {\n                    that._moveHover([], hoverItem);\n                } else if (!that._oldHoverItem) {\n                    that._moveHover([], that.wrapper.children().first());\n                }\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                hoverItem = that._oldHoverItem,\n                target,\n                belongsToVertical,\n                hasChildren,\n                isRtl = kendo.support.isRtl(that.wrapper);\n\n            if (e.target != e.currentTarget && key != keys.ESC) {\n                return;\n            }\n\n            if (!hoverItem) {\n                hoverItem = that._oldHoverItem = that._hoverItem();\n            }\n\n            belongsToVertical = that._itemBelongsToVertival(hoverItem);\n            hasChildren = that._itemHasChildren(hoverItem);\n            that._keyTriggered = true;\n\n            if (key == keys.RIGHT) {\n                target = that[isRtl ? \"_itemLeft\" : \"_itemRight\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.LEFT) {\n                target = that[isRtl ? \"_itemRight\" : \"_itemLeft\"](hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.DOWN) {\n                target = that._itemDown(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.UP) {\n                target = that._itemUp(hoverItem, belongsToVertical, hasChildren);\n            } else if (key == keys.HOME) {\n                that._moveHover(hoverItem, hoverItem.parent().children(\":visible\").first());\n                e.preventDefault();\n            } else if (key == keys.END) {\n                that._moveHover(hoverItem, hoverItem.parent().children(\":visible\").last());\n                e.preventDefault();\n            } else if (key == keys.ESC) {\n                target = that._itemEsc(hoverItem, belongsToVertical);\n            } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                target = hoverItem.children(\".k-link\");\n                if (target.length > 0) {\n                    that._click({ target: target[0], preventDefault: function() {}, enterKey: true });\n                    if (hasChildren && !hoverItem.hasClass(DISABLEDSTATE)) {\n                        that.open(hoverItem);\n                        that._moveHover(hoverItem, that._childPopupElement(hoverItem).children().find(\"li\").first());\n                    } else if (hoverItem.is(\"li\") && hoverItem.attr(\"role\") === \"menuitemcheckbox\") {\n                        hoverItem.find(\".k-checkbox\").attr(\"checked\", true);\n                    } else {\n                        that._moveHoverToRoot(hoverItem, that._findRootParent(hoverItem));\n                    }\n                }\n            } else if (key == keys.TAB) {\n                target = that._findRootParent(hoverItem);\n                that._moveHover(hoverItem, target);\n                that._checkActiveElement();\n                return;\n            }\n\n            if (target && target[0]) {\n                e.preventDefault();\n                e.stopPropagation(); // needed to handle ESC in column menu only when a root item is focused\n            }\n        },\n\n        _hoverItem: function() {\n            return this.wrapper.find(\".k-item.k-hover,.k-item.k-focus\").filter(\":visible\");\n        },\n\n        _itemBelongsToVertival: function(item) {\n            var menuIsVertical = this.wrapper.hasClass(\"k-menu-vertical\");\n\n            if (!item.length) {\n                return menuIsVertical;\n            }\n            return item.parent().hasClass(\"k-menu-group\") || menuIsVertical;\n        },\n\n        _itemHasChildren: function(item) {\n            if (!item || !item.length || !item[0].nodeType) {\n                return false;\n            }\n            return item.children(\".k-menu-group, .k-menu-popup, div.k-animation-container\").length > 0 ||\n                (!!item.data(POPUP_OPENER_ATTR) && !!this._overflowWrapper().children(popupGroupSelector(item.data(POPUP_OPENER_ATTR))));\n        },\n\n        _moveHover: function(item, nextItem) {\n            var that = this,\n                id = that._ariaId;\n\n            if (item.length && nextItem.length) {\n                item.removeClass(FOCUSEDSTATE);\n            }\n\n            if (nextItem.length) {\n                if (nextItem[0].id) {\n                    id = nextItem[0].id;\n                }\n\n                nextItem.addClass(FOCUSEDSTATE);\n                that._oldHoverItem = nextItem;\n\n                if (id) {\n                    that.element.removeAttr(\"aria-activedescendant\");\n                    $(\"#\" + id).removeAttr(\"id\");\n                    nextItem.attr(\"id\", id);\n                    that.element.attr(\"aria-activedescendant\", id);\n                }\n                that._scrollToItem(nextItem);\n            }\n        },\n\n        _moveHoverToRoot: function(item, nextItem) {\n            this._moveHover(item, nextItem);\n        },\n\n        _findRootParent: function(item) {\n            if (this._isRootItem(item)) {\n                return item;\n            } else {\n                return this._parentsUntil(item, menuSelector, \"li.k-item\").last();\n            }\n        },\n\n        _isRootItem: function(item) {\n            return item.parent().hasClass(MENU);\n        },\n\n        _itemRight: function(item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem,\n                parentItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.prevAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else if (hasChildren && !item.hasClass(DISABLEDSTATE)) {\n                that.open(item);\n                nextItem = that._childPopupElement(item).children().find(\"li\").first();\n            } else if (that.options.orientation == \"horizontal\") {\n                parentItem = that._findRootParent(item);\n                overflowWrapper = that._overflowWrapper();\n                if (overflowWrapper) {\n                    var rootPopup = itemPopup(parentItem, overflowWrapper);\n                    that._closeChildPopups(rootPopup);\n                }\n                that.close(parentItem);\n                nextItem = parentItem.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (nextItem && !nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            } else if (!nextItem) {\n                nextItem = [];\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemLeft: function(item, belongsToVertical) {\n            var that = this,\n                nextItem,\n                overflowWrapper;\n\n            if (!belongsToVertical) {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n                if (!nextItem.length) {\n                    nextItem = item.nextAll(itemSelector + exclusionSelector).last();\n                }\n                that.close(item);\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n                overflowWrapper = that._overflowWrapper();\n                if (!nextItem.length && overflowWrapper) {\n                    nextItem = popupParentItem(item.parent(), overflowWrapper);\n                }\n                that.close(nextItem);\n                if (that._isRootItem(nextItem) && that.options.orientation == \"horizontal\") {\n                    nextItem = nextItem.prevAll(itemSelector + exclusionSelector).eq(0);\n                }\n            }\n\n            if (!nextItem.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemDown: function(item, belongsToVertical, hasChildren) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                if (!hasChildren || item.hasClass(DISABLEDSTATE)) {\n                    return;\n                } else {\n                    that.open(item);\n                    nextItem = that._childPopupElement(item).children().find(\"li\").first();\n                }\n            } else {\n                nextItem = item.nextAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children(\":visible\").first();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").first();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _itemUp: function(item, belongsToVertical) {\n            var that = this,\n                nextItem;\n\n            if (!belongsToVertical) {\n                return;\n            } else {\n                nextItem = item.prevAll(itemSelector + exclusionSelector).eq(0);\n            }\n\n            if (!nextItem.length && item.length) {\n                nextItem = item.parent().children(\":visible\").last();\n            } else if (!item.length) {\n                nextItem = that.wrapper.children(\".k-item\").last();\n            }\n\n            that._moveHover(item, nextItem);\n            return nextItem;\n        },\n\n        _scrollToItem: function(item) {\n            var that = this;\n            if (that.options.scrollable && item && item.length) {\n                var ul = item.parent();\n                var isHorizontal = ul.hasClass(MENU) ? that.options.orientation == \"horizontal\" : false;\n                var scrollDir = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n                var getSize = isHorizontal ? kendo._outerWidth : kendo._outerHeight;\n                var currentScrollOffset = ul[scrollDir]();\n                var itemSize = getSize(item);\n                var itemOffset = item[0][isHorizontal ? \"offsetLeft\" : \"offsetTop\"];\n                var ulSize = getSize(ul);\n                var scrollButtons = ul.siblings(scrollButtonSelector);\n                var scrollButtonSize = scrollButtons.length ? getSize(scrollButtons.first()) : 0;\n                var itemPosition;\n\n                if (currentScrollOffset + ulSize < itemOffset + itemSize + scrollButtonSize) {\n                    itemPosition = itemOffset + itemSize - ulSize + scrollButtonSize;\n                } else if (currentScrollOffset > itemOffset - scrollButtonSize) {\n                    itemPosition = itemOffset - scrollButtonSize;\n                }\n\n                if (!isNaN(itemPosition)) {\n                    var scrolling = {};\n                    scrolling[scrollDir] = itemPosition;\n                    ul.finish().animate(scrolling, \"fast\", \"linear\", function() {\n                        that._toggleScrollButtons(ul, scrollButtons.first(), scrollButtons.last(), isHorizontal);\n                    });\n                }\n            }\n        },\n\n        _itemEsc: function(item, belongsToVertical) {\n            var that = this,\n                nextItem, groupId;\n\n            if (!belongsToVertical) {\n                return item;\n            } else {\n                nextItem = item.parent().closest(\".k-item\");\n\n                if (nextItem.length === 0) {\n                    groupId = item.closest(\".k-menu-popup\").data(\"group\");\n                    nextItem = that.wrapper.find(\".k-item[data-groupparent='\" + groupId + \"']\");\n                }\n\n                that.close(nextItem);\n                that._moveHover(item, nextItem);\n            }\n\n            return nextItem;\n        },\n\n        _childPopupElement: function(item) {\n            var popupElement = item.find(\".k-menu-popup\");\n            var wrapper = this._overflowWrapper();\n            if (!popupElement.length && wrapper) {\n                popupElement = itemPopup(item, wrapper);\n            }\n            return popupElement;\n        },\n\n        _triggerEvent: function(e) {\n            var that = this;\n\n            return that.trigger(e.type, { type: e.type, item: e.item });\n        },\n\n        _focusHandler: function(e) {\n            var that = this,\n                item = $(kendo.eventTarget(e)).closest(allItemsSelector);\n\n            if (item.hasClass(DISABLEDSTATE)) {\n                return;\n            }\n\n            setTimeout(function() {\n                that._moveHover([], item);\n                if (item.children(\".k-content\")[0]) {\n                    item.parent().closest(\".k-item\").removeClass(FOCUSEDSTATE);\n                }\n            }, 200);\n        },\n\n        _animations: function(options) {\n            if (options && (\"animation\" in options) && !options.animation) {\n                options.animation = { open: { effects: {} }, close: { hide: true, effects: {} } };\n            }\n        },\n        _dataSource: function(options) {\n            var that = this,\n                dataSource = options ? options.dataSource : that.options.dataSource;\n\n            if (!dataSource) {\n                return;\n            }\n\n            dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n            that._unbindDataSource();\n\n            if (!dataSource.fields) {\n                dataSource.fields = [\n                    { field: \"uid\" },\n                    { field: \"text\" },\n                    { field: \"url\" },\n                    { field: \"cssClass\" },\n                    { field: \"spriteCssClass\" },\n                    { field: \"imageUrl\" },\n                    { field: \"imageAttr\" },\n                    { field: \"attr\" },\n                    { field: \"contentAttr\" },\n                    { field: \"content\" },\n                    { field: \"encoded\" },\n                    { field: \"items\" },\n                    { field: \"select\" }\n                ];\n            }\n\n            that.dataSource = HierarchicalDataSource.create(dataSource);\n\n            that._bindDataSource();\n\n            that.dataSource.fetch();\n        },\n\n        _bindDataSource: function() {\n            this._refreshHandler = this.refresh.bind(this);\n            this._errorHandler = this._error.bind(this);\n\n            this.dataSource.bind(CHANGE, this._refreshHandler);\n            this.dataSource.bind(ERROR, this._errorHandler);\n        },\n\n        _unbindDataSource: function() {\n            var dataSource = this.dataSource;\n\n            if (dataSource) {\n                dataSource.unbind(CHANGE, this._refreshHandler);\n                dataSource.unbind(ERROR, this._errorHandler);\n            }\n        },\n\n        _error: function() {\n\n        },\n\n        findByUid: function(uid) {\n            var wrapperElement = this._overflowWrapper() || this.element;\n            return wrapperElement.find(\"[\" + kendo.attr(\"uid\") + \"=\" + uid + \"]\");\n        },\n\n        refresh: function(ev) {\n            var that = this;\n            var node = ev.node;\n            var action = ev.action;\n            var parentElement = node ? that.findByUid(node.uid) : that.element;\n            var itemsToUpdate = ev.items;\n            var index = ev.index;\n            var updateProxy = that._updateItem.bind(that);\n            var removeProxy = that._removeItem.bind(that);\n\n            if (action == \"add\") {\n                that._appendItems(itemsToUpdate, index, parentElement);\n            } else if (action == \"remove\") {\n                itemsToUpdate.forEach(removeProxy);\n            } else if (action == \"itemchange\") {\n                itemsToUpdate.forEach(updateProxy);\n            } else if (action === \"itemloaded\") {\n                that.append(ev.items, parentElement);\n            } else {\n                this._initData();\n            }\n\n            this.trigger(DATABOUND, { item: parentElement, dataItem: node });\n        },\n\n        _appendItems: function(items, index, parent) {\n            var that = this;\n            var referenceItem = parent.find(itemSelector).eq(index);\n\n            if (referenceItem.length) {\n                that.insertBefore(items, referenceItem);\n            } else {\n                that.append(items, parent);\n            }\n        },\n\n        _removeItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            that.remove(element);\n        },\n\n        _updateItem: function(item) {\n            var that = this;\n            var element = that.findByUid(item.uid);\n            var nextElement = element.next();\n            var parentNode = item.parentNode();\n\n            that.remove(element);\n\n            if (nextElement.length) {\n                that.insertBefore(item, nextElement);\n            } else {\n                that.append(item, parentNode && that.findByUid(parentNode.uid));\n            }\n        },\n\n        _accessors: function() {\n            var that = this,\n                options = that.options,\n                i, field, textField,\n                element = that.element;\n\n            for (i in bindings) {\n                field = options[bindings[i]];\n                textField = element.attr(kendo.attr(i + \"-field\"));\n\n                if (!field && textField) {\n                    field = textField;\n                }\n\n                if (!field) {\n                    field = i;\n                }\n\n                if (!isArray(field)) {\n                    field = [field];\n                }\n\n                options[bindings[i]] = field;\n            }\n        },\n\n        _fieldAccessor: function(fieldName) {\n            var fieldBindings = this.options[bindings[fieldName]] || [],\n                count = fieldBindings.length;\n\n            if (count === 0) {\n                return (function(item) { return item[fieldName]; });\n            } else {\n                return (function(item) {\n                    var levels = $.map(fieldBindings, kendo.getter);\n                    if (item.level) {\n                        return levels[Math.min(item.level(), count - 1)](item);\n                    } else {\n                        return levels[count - 1](item);\n                    }\n                });\n            }\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                fieldAccessor = that._fieldAccessor.bind(that);\n\n            if (options.template && typeof options.template == STRING) {\n                options.template = template(options.template);\n            } else if (!options.template) {\n                options.template = template((data) => {\n                    var text = fieldAccessor(\"text\")(data.item);\n                    if (!(typeof data.item.encoded != 'undefined' && data.item.encoded === false)) {\n                        text = encode(text);\n                    }\n\n                    return `<span class='k-menu-link-text'>${text}</span>`;\n                });\n            }\n\n            that.templates = {\n                content: template((data) => {\n                    var item = data.item;\n                    var contentHtml = fieldAccessor(\"content\")(item);\n                    var contCssAttributes = data.contentCssAttributes(item.toJSON ? item.toJSON() : item);\n                    return `<div ${contCssAttributes} tabindex='-1'>${contentHtml || ''}</div>`;\n                }),\n                group: template((data) =>\n                    `<div class='${data.groupWrapperCssClass(data.group)}' ${data.groupAttributes(data.group)}>` +\n                    `<ul class='${data.groupCssClass(data.group)}' id='${data.groupId}' role='menu'>` +\n                    `${data.renderItems(data)}` +\n                    \"</ul>\" +\n                    \"</div>\"\n                ),\n                itemWrapper: template((data) => {\n                    var item = data.item;\n                    var url = fieldAccessor(\"url\")(item);\n                    var imageUrl = fieldAccessor(\"imageUrl\")(item);\n                    var imgAttributes = fieldAccessor(\"imageAttr\")(item);\n                    var tag = url ? 'a' : 'span';\n\n                    return `<${tag} class='${rendering.textClass(item)}' ${url ? `href='${url}'` : ''} >` +\n                        (imageUrl ? `<img ${rendering.imageCssAttributes(imgAttributes)}  alt='' src='${imageUrl}' />` : '') +\n                        this.templates.sprite(item) +\n                        this.options.template(data) +\n                        data.arrow(data) +\n                        `</${tag}>`;\n                }),\n                item: template((data) => {\n                    var item = data.item,\n                        menu = data.menu,\n                        group = data.group,\n                        subGroup = data.subGroup;\n                    var contentHtml = fieldAccessor(\"content\")(item);\n                    var groupId = kendo.guid();\n                    return `<li class='${rendering.wrapperCssClass(group, item)}' ${(item.hasChildren || item.items) ? 'aria-controls=\"' + groupId + '\"' : '' } ${rendering.itemCssAttributes(item.toJSON ? item.toJSON() : item)} role='menuitem'  ${item.items ? \"aria-haspopup='true'\" : ''}` +\n                        `${item.enabled === false ? \"aria-disabled='true'\" : ''}` +\n                        kendo.attr(\"uid\") + `='${item.uid}' ` +\n                        (item.items && item.items.length > 0 ?\n                            (item.expanded ?\n                                \" aria-expanded='true'\"\n                                : \" aria-expanded='false'\")\n                            : '') +\n                        \">\" +\n                        `${!item.separator && !item.content ? this.templates.itemWrapper(data) : ''}` +\n                        ((item.hasChildren || item.items) ?\n                            `${subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded }, groupId: groupId })}`\n                            : (item.content || item.contentUrl || contentHtml ?\n                            `${data.renderContent(data)}`\n                            : '')\n                        ) +\n                        \"</li>\";\n                }),\n                scrollButton: template(({ direction }) =>\n                    `<span class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-${direction}' unselectable='on'>` +\n                        kendo.ui.icon({ icon: `caret-alt-${direction}`, iconClass: \"k-button-icon\" }) +\n                    \"</span>\"\n                ),\n                arrow: template(({ item, group }) =>\n                    `<span aria-hidden='true' class='k-menu-expand-arrow'>${kendo.ui.icon({ icon: group.horizontal ? \"caret-alt-down\" : \"caret-alt-right\", iconClass: \"k-menu-expand-arrow-icon\" })}</span>`),\n                sprite: template((data) => {\n                    var spriteCssClass = fieldAccessor(\"spriteCssClass\")(data);\n                    if (spriteCssClass) {\n                        return `<span class='k-sprite ${spriteCssClass}'></span>`;\n                    }\n                    return '';\n                }),\n                empty: template(() => \"\")\n            };\n        },\n\n        renderItem: function(options) {\n            var that = this;\n            options = extend({ menu: that, group: {} }, options);\n\n            var empty = that.templates.empty,\n                item = options.item;\n\n            return that.templates.item(extend(options, {\n                separator: item.separator ? that.templates.separator : empty,\n                sprite: that.templates.sprite,\n                itemWrapper: that.templates.itemWrapper,\n                renderContent: that.renderContent,\n                arrow: item.items || item.content || item[that.options.dataContentField[0]] ? that.templates.arrow : empty,\n                subGroup: that.renderGroup.bind(that)\n            }, rendering));\n        },\n\n        renderGroup: function(options) {\n            var that = this;\n            var templates = that.templates || options.menu.templates;\n\n            return templates.group(extend({\n                renderItems: function(options) {\n                    var html = \"\",\n                        i = 0,\n                        items = options.items,\n                        len = items ? items.length : 0,\n                        group = extend({ length: len }, options.group);\n\n                    for (; i < len; i++) {\n                        html += options.menu.renderItem(extend(options, {\n                            group: group,\n                            item: extend({ index: i }, items[i])\n                        }));\n                    }\n\n                    return html;\n                }\n            }, options, rendering));\n        },\n\n        renderContent: function(options) {\n            return options.menu.templates.content(extend(options, rendering));\n        }\n    });\n\n    var ContextMenu = Menu.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Menu.fn.init.call(that, element, options);\n\n            that.element.attr(ROLE, \"menu\");\n\n            that._marker = kendo.guid().substring(0, 8);\n\n            that.target = $(that.options.target);\n\n            that._popup();\n            that._wire();\n        },\n\n        _initOverflow: function(options) {\n            var that = this;\n            if (options.scrollable && !that._overflowWrapper()) {\n                that._openedPopups = {};\n\n                that._popupsWrapper = (that.element.parent().is(childAnimationContainerSelector) ? that.element.closes(animationContainerSelector) : that.element)\n                    .wrap(\"<div class='k-popups-wrapper \" + options.orientation + \"'></div>\").parent();\n\n                if (that.options.orientation == \"horizontal\") {\n                    removeSpacesBetweenItems(that.element);\n                }\n\n                if (options.appendTo) {\n                    options.appendTo = $(options.appendTo);\n                    options.appendTo.append(that._popupsWrapper);\n                }\n\n                that._initialHeight = that.element[0].style.height;\n                that._initialWidth = that.element[0].style.width;\n            }\n        },\n\n        options: {\n            name: \"ContextMenu\",\n            filter: null,\n            showOn: \"contextmenu\",\n            orientation: \"vertical\",\n            alignToAnchor: false,\n            copyAnchorStyles: true,\n            target: \"body\",\n            origin: undefined$1,\n            position: undefined$1\n        },\n\n        events: [\n            OPEN,\n            CLOSE,\n            ACTIVATE,\n            DEACTIVATE,\n            SELECT\n        ],\n\n        setOptions: function(options) {\n            var that = this;\n\n            Menu.fn.setOptions.call(that, options);\n\n            that.target.off(that.showOn + NS + that._marker, that._showProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            that.target = $(that.options.target);\n            if (options.orientation && that.popup.wrapper[0]) {\n                that.popup.element.unwrap();\n            }\n\n            that._wire();\n\n            Menu.fn.setOptions.call(this, options);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.target.off(that.options.showOn + NS + that._marker);\n            DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n\n            if (that.userEvents) {\n                that.userEvents.destroy();\n            }\n\n            Menu.fn.destroy.call(that);\n\n            if (that.popup) {\n                that.popup.destroy();\n            }\n        },\n\n        open: function(x, y) {\n            var that = this;\n\n            x = $(x)[0];\n\n            if (contains(that.element[0], $(x)[0]) || that._itemHasChildren($(x))) { // call parent open for children elements\n                Menu.fn.open.call(that, x);\n            } else {\n                if (that._triggerEvent({ item: that.element, type: OPEN }) === false) {\n                    if (that.popup.visible() && that.options.filter) {\n                        that.popup.close(true);\n                        that.popup.element.kendoStop(true);\n                    }\n\n                    if (!that._triggerFocusOnActivate) {\n                        that._triggerFocusOnActivate = that._focusMenu.bind(that);\n                    }\n                    that.bind(ACTIVATE, that._triggerFocusOnActivate);\n\n                    if (y !== undefined$1) {\n                        var overflowWrapper = that._overflowWrapper();\n                        if (overflowWrapper) {\n                            var offset = overflowWrapper.offset();\n                            x -= offset.left;\n                            y -= offset.top;\n                        }\n                        that.popup.wrapper.hide();\n                        that._configurePopupScrolling(x, y);\n                        that.popup.open(x, y);\n                    } else {\n                        that.popup.options.anchor = (x ? x : that.popup.anchor) || that.target;\n                        that.popup.element.kendoStop(true);\n                        that._configurePopupScrolling();\n                        that.popup.open();\n                    }\n\n                    DOCUMENT_ELEMENT.off(that.popup.downEvent, that.popup._mousedownProxy);\n                    DOCUMENT_ELEMENT\n                        .on(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                }\n            }\n\n            return that;\n        },\n\n        _focusMenu: function() {\n            var that = this;\n\n            that.unbind(ACTIVATE, that._triggerFocusOnActivate);\n            that.element.trigger(\"focus\");\n        },\n\n        _configurePopupScrolling: function(x, y) {\n            var that = this;\n            var popup = that.popup;\n            var isHorizontal = that.options.orientation == \"horizontal\";\n\n            if (that.options.scrollable) {\n                that._wrapPopupElement(popup);\n\n                popup.element.parent().css({\n                    position: \"\",\n                    height: \"\"\n                });\n\n                popup.element.css({\n                    visibility: \"hidden\",\n                    display: \"\",\n                    position: \"\"\n                });\n\n                if (isHorizontal) {\n                    that._setPopupWidth(popup, isNaN(x) ? undefined$1 : { isFixed: true, x: x, y: y });\n                } else {\n                    that._setPopupHeight(popup, isNaN(x) ? undefined$1 : { isFixed: true, x: x, y: y });\n                }\n\n                popup.element.css({\n                    visibility: \"\",\n                    display: \"none\",\n                    position: \"absolute\"\n                });\n\n                that._initPopupScrollButtons(popup, isHorizontal, true);\n                popup.element.siblings(scrollButtonSelector).hide();\n            }\n        },\n\n        _setPopupWidth: function(popup, isFixed) {\n            var popupElement = popup.element;\n            var popups = popupElement.add(popupElement.parent(childAnimationContainerSelector));\n\n            popups.width(this._initialWidth || \"\");\n\n            var location = popup._location(isFixed);\n            var windowWidth = $(window).width();\n            var popupOuterWidth = location.width;\n            var popupOffsetLeft = Math.max(location.left, 0);\n            var scrollLeft = isFixed ? 0 : parentsScroll(this._overflowWrapper()[0], \"scrollLeft\");\n            var shadow = kendo.getShadows(popupElement);\n            var maxWidth = windowWidth - shadow.left - shadow.right;\n            var canFit = maxWidth + scrollLeft > popupOuterWidth + popupOffsetLeft;\n\n            if (!canFit) {\n                popups.css({ overflow: \"hidden\", width: (maxWidth - popupOffsetLeft + scrollLeft) + \"px\" });\n            }\n        },\n\n        close: function() {\n            var that = this;\n\n            if (contains(that.element[0], $(arguments[0])[0]) || that._itemHasChildren(arguments[0])) {\n                Menu.fn.close.call(that, arguments[0]);\n            } else {\n                if (that.popup.visible()) {\n                    if (that._triggerEvent({ item: that.element, type: CLOSE }) === false) {\n                        that._removeHoverItem();\n                        that.element.find(\"#\" + that._ariaId).removeAttr(\"id\");\n                        that.popup.close();\n                        DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                        that.unbind(SELECT, that._closeTimeoutProxy);\n                        that.popup.options.anchor.focus();\n                    }\n                }\n            }\n        },\n\n        _showHandler: function(e) {\n            var ev = e, offset,\n                that = this,\n                options = that.options,\n                target = kendo.support.mobileOS ? $(ev.target) : $(ev.currentTarget);\n\n            if (e.event) {\n                ev = e.event;\n                ev.pageX = e.x.location;\n                ev.pageY = e.y.location;\n            }\n\n            if (contains(that.element[0], e.relatedTarget || e.target)) {\n                return;\n            }\n\n            that._eventOrigin = ev;\n\n            ev.preventDefault();\n            ev.stopImmediatePropagation();\n\n            that.element.find(\".\" + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n\n            if ((options.filter && target.is(options.filter)) || !options.filter) {\n                if (options.alignToAnchor) {\n                    that.popup.options.anchor = ev.currentTarget;\n                    that.open(ev.currentTarget);\n                } else {\n                    that.popup.options.anchor = ev.currentTarget;\n\n                    if (that._targetChild) {\n                        offset = that.target.offset();\n                        that.open(ev.pageX - offset.left, ev.pageY - offset.top);\n                    } else {\n                        that.open(ev.pageX, ev.pageY);\n                    }\n                }\n            }\n        },\n\n        _closeHandler: function(e) {\n            var that = this,\n                target = $(e.relatedTarget || e.target),\n                sameTarget = target.closest(that.target.selector)[0] == that.target[0],\n                item = target.closest(itemSelector),\n                children = that._itemHasChildren(item),\n                overflowWrapper = that._overflowWrapper(),\n                containment = contains(that.element[0], target[0]) || (overflowWrapper && contains(overflowWrapper[0], target[0]));\n\n            that._eventOrigin = e;\n\n            var normalClick = e.which !== 3;\n\n            if (that.popup.visible() && ((normalClick && sameTarget) || !sameTarget) && ((that.options.closeOnClick && !children && containment) || !containment)) {\n                if (containment) {\n                    this.unbind(SELECT, this._closeTimeoutProxy);\n                    that.bind(SELECT, that._closeTimeoutProxy);\n                } else {\n                    that.close();\n                }\n            }\n        },\n\n        _wire: function() {\n            var that = this,\n                options = that.options,\n                target = that.target;\n\n            that._preventProxy = null;\n            that._showProxy = that._showHandler.bind(that);\n            that._closeProxy = that._closeHandler.bind(that);\n            that._closeTimeoutProxy = that.close.bind(that);\n\n            if (target[0]) {\n                if (kendo.support.mobileOS && options.showOn == \"contextmenu\") {\n                    that.userEvents = new kendo.UserEvents(target, {\n                        filter: options.filter,\n                        allowSelection: false\n                    });\n\n                    that._preventProxy = function() { return false; };\n\n                    that.userEvents.bind(\"hold\", that._showProxy);\n                }\n\n                if (options.filter) {\n                    target.on(options.showOn + NS + that._marker, options.filter, that._preventProxy || that._showProxy);\n                } else {\n                    target.on(options.showOn + NS + that._marker, that._preventProxy || that._showProxy);\n                }\n\n                target.on(\"keydown\", (e) => {\n                    if (e.keyCode === kendo.keys.F10 && e.shiftKey) {\n                        e.preventDefault();\n                        that.open(e.target);\n                    }\n                });\n            }\n        },\n\n        _triggerEvent: function(e) {\n            var that = this,\n                anchor = $(that.popup.options.anchor)[0],\n                origin = that._eventOrigin;\n\n            that._eventOrigin = undefined$1;\n\n            return that.trigger(e.type, extend({ type: e.type, item: e.item || this.element[0], target: anchor }, origin ? { event: origin } : {} ));\n        },\n\n        _popup: function() {\n            var that = this;\n            var overflowWrapper = that._overflowWrapper();\n            var contextMenuElement = that.element.addClass(\"k-context-menu\");\n\n            that._triggerProxy = that._triggerEvent.bind(that);\n\n            that.popup = $(\"<div></div>\")\n                            .append(contextMenuElement)\n                            .kendoPopup({\n                                origin: that.options.origin,\n                                position: that.options.position,\n                                autosize: that.options.orientation === \"horizontal\",\n                                anchor: that.target || \"body\",\n                                copyAnchorStyles: that.options.copyAnchorStyles,\n                                collision: that.options.popupCollision || \"fit\",\n                                animation: that.options.animation,\n                                activate: that._triggerProxy,\n                                deactivate: that._triggerProxy,\n                                appendTo: overflowWrapper || that.options.appendTo,\n                                close: !overflowWrapper ? $.noop : function(e) {\n                                    $(getChildPopups(e.sender.element, overflowWrapper)).each(function(i, p) {\n                                        var popup = p.data(KENDOPOPUP);\n                                        if (popup) {\n                                            popup.close(true);\n                                        }\n                                    });\n                                }\n                            }).data(KENDOPOPUP);\n\n            that._targetChild = contains(that.target[0], that.popup.element[0]);\n        },\n\n        _moveHoverToRoot: function(item, nextItem) {\n            this._moveHover(item, nextItem);\n            this.close();\n        },\n\n        _focus: function(e) {\n            var hoverItem = this._oldHoverItem = this._hoverItem() || [];\n\n            Menu.fn._focus.call(this, e);\n\n            if (activeElement() === e.currentTarget) {\n                this._moveHover(hoverItem, this.wrapper.children().filter(\":visible\").not(\".k-separator\").first());\n            }\n        }\n    });\n\n    ui.plugin(Menu);\n    ui.plugin(ContextMenu);\n\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { kendo$1 as default };\n"]}