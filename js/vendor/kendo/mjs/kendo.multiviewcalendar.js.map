{"version":3,"file":"kendo.multiviewcalendar.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","calendar","support","isInRange","toDateObject","createDate","isEqualDate","getToday","keys","ui","Widget","Selectable","template","mobileOS","ns","CLICK","ID","MONTH","DOT","CENTURY","CHANGE","NAVIGATE","VALUE","FOCUSED","SELECTED","MID","SPLITEND","SPLITSTART","START","END","HOVER","DISABLED","TODAY","OUTOFRANGE","CALENDAR_VIEW","CELLSELECTOR","CELLSELECTORVALID","BLUR","FOCUS","MOUSEENTER","touch","MOUSELEAVE_NS","PREVARROW","NEXTARROW","RANGE","SINGLE","MULTIPLE","TABLE","TBODY","THEAD","TH","ROLE","NONE","ARIA_SELECTED","ARIA_DISABLED","ARIA_LABEL","ARIA_ACTIVEDESCENDANT","DATE","Date","views","month","year","decade","century","RangeSelectable","extend","init","element","options","that","this","fn","call","userEvents","UserEvents","global","allowSelection","filter","tap","_tap","bind","touchAction","events","inputSelectors","multiple","dragToSelect","relatedTarget","noop","destroy","_lastActive","_start","_end","_allowSelection","target","is","cancel","start","addClass","attr","end","mid","elements","tables","find","each","lastCell","last","firstCell","first","hasClass","clear","clearVariables","removeClass","removeAttr","selectFrom","items","startIdx","inArray","index","selectTo","endIdx","range","temp","length","_useEnd","change","trigger","_clearFlags","_useStart","e","selectRange","currentDate","_toggling","MultiViewCalendar","culture","wrapper","disableDates","disabled","getCulture","format","_extractFormat","calendars","standard","patterns","d","_templates","_header","_wrapper","getValidCssClass","size","weekNumber","on","_move","_focus","_blur","link","currentTarget","firstChild","href","indexOf","preventDefault","_click","_mouseEnter","guid","_cellID","_calendarWidth","width","_range","_initViews","viewName","value","_selectable","_footer","footer","_selectDates","_addSelectedCellsToArray","selectable","selectDates","_restoreSelection","notify","min","max","dates","showViewHeader","depth","messages","weekColumnHeader","orientation","setOptions","normalize","i","_views","off","remove","_cell","_currentView","_current","header","_title","rangeSelectable","_today","current","focus","tablesWrapper","_option","view","navigateToPast","_navigate","navigateToFuture","navigateUp","_index","navigate","navigateDown","_value","isNaN","viewsEnum","restrictValue","_aria","rowGroups","add","role","_ariaMonth","rows","noHeaderRows","not","noHeaderCells","columnHeaderCells","rowHeaderCells","outOfRange","row","prev","$row","numberOfEmpty","owned","children","eq","j","cell","$cell","push","join","_updateHeader","lastDate","prevDisabled","nextDisabled","title","_firstViewValue","visibleRange","_visibleRange","shiftDate","html","getFullYear","toggleClass","compare","_navContainer","icon","iconClass","appendTo","_dateInViews","prevent","lastActive","cellIndex","triggerChange","key","keyCode","focusedCell","table","closest","currentValue","isRtl","RIGHT","LEFT","UP","DOWN","SPACEBAR","HOME","_focusCell","next","_todayClick","ctrlKey","metaKey","_cellByDate","ENTER","_toggleSelection","shiftKey","setDate","_nextNavigatable","getMonth","getDate","_selectRange","event","PAGEUP","PAGEDOWN","_visualizeSelectedDatesInView","cells","selectedDates","toDateString","_selectElement","isDisabled","navigatableDate","getTime","_unselect","option","parseDate","_toggle","toLowerCase","_rangeSelection","aria","parseOptions","_selection","_onRelatedTarget","unselect","_unselecting","_getFirstViewDate","currentView","ranges","_canRenderNextView","viewDate","fullYear","date","maxYear","maxMonth","viewOptions","_table","content","url","showHeader","isWeekColumnVisible","otherMonth","contentClasses","sender","useEnd","useStart","initialRange","_preventChange","selectElements","domEvent","isCell","_validateValue","_deselect","item","currentDateIndex","map","Number","splice","firstDateInView","lastDateInView","_fillRange","daysDifference","startDate","endDate","fromDateUTC","UTC","endDateUTC","Math","ceil","MS_PER_DAY","daysBetweenTwoDates","array","numberOfDays","fromDate","nextDay","addDaysToArray","buttons","prependTo","mousetoggle","_calendarTitleClick","_prevViewClick","_nextViewClick","insertAfter","empty","data","cssClass","linkClass","dateString","useWithBlock","toString","today","hide","show","arrow","modifier","offset","originaValue","setFullYear","toggle","isTodayDisabled","adjustDST","contains","cellId","removeAttribute","_updateAria","ariaTemplate","text","valueType","clearSelection","validSelectedDates","datesUnique","position","time","grep","setHours","startInRange","endInRange","type","dimension","numberOfViews","abs","setMonth","plugin","jQuery","kendo$1"],"sources":["kendo.multiviewcalendar.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\nimport './kendo.selectable.js';\nimport './kendo.calendar.js';\nimport './kendo.icons.js';\n\nvar __meta__ = {\n    id: \"multiviewcalendar\",\n    name: \"MultiViewCalendar\",\n    category: \"web\",\n    description: \"Multi-view calendar.\",\n    depends: [ \"core\", \"selectable\", \"calendar\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        calendar = kendo.calendar,\n        support = kendo.support,\n        isInRange = calendar.isInRange,\n        toDateObject = calendar.toDateObject,\n        createDate = calendar.createDate,\n        isEqualDate = calendar.isEqualDate,\n        getToday = calendar.getToday,\n        keys = kendo.keys,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Selectable = ui.Selectable,\n        template = kendo.template,\n        mobileOS = support.mobileOS,\n        ns = \".kendoMultiViewCalendar\",\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        ID = \"id\",\n        MIN = \"min\",\n        MONTH = \"month\",\n        DOT = \".\",\n        EMPTY = \" \",\n        CENTURY = \"century\",\n        DECADE = \"decade\",\n        CHANGE = \"change\",\n        NAVIGATE = \"navigate\",\n        VALUE = \"value\",\n        FOCUSED = \"k-focus\",\n        SELECTED = \"k-selected\",\n        MID = \"k-range-mid\",\n        SPLITEND = \"k-range-split-end\",\n        SPLITSTART = \"k-range-split-start\",\n        START = \"k-range-start\",\n        END = \"k-range-end\",\n        HOVER = \"k-hover\",\n        DISABLED = \"k-disabled\",\n        TODAY = \"k-calendar-nav-today\",\n        OTHERMONTH = \"k-other-month\",\n        OUTOFRANGE = \"k-out-of-range\",\n        CALENDAR_VIEW = \"k-calendar-view\",\n        CELLSELECTOR = \"td:has(.k-link):not(.\" + OUTOFRANGE + \")\",\n        CELLSELECTORVALID = \"td:has(.k-link):not(.\" + DISABLED + \"):not(.\" + OUTOFRANGE + \")\",\n        BLUR = \"blur\",\n        FOCUS = \"focus\",\n        MOUSEENTER = support.touch ? \"touchstart\" : \"mouseenter\",\n        MOUSELEAVE_NS = support.touch ? \"touchend\" + ns + \" touchmove\" + ns : \"mouseleave\" + ns,\n        PREVARROW = \"_prevArrow\",\n        NEXTARROW = \"_nextArrow\",\n        RANGE = \"range\",\n        SINGLE = \"single\",\n        MULTIPLE = \"multiple\",\n        TABINDEX = \"tabindex\",\n        TABLE = \"table\",\n        TBODY = \"tbody\",\n        THEAD = \"thead\",\n        TR = \"tr\",\n        TD = \"td\",\n        TH = \"th\",\n        ROLE = \"role\",\n        NONE = \"none\",\n        ROWGROUP = \"rowgroup\",\n        COLUMNHEADER = \"columnheader\",\n        ROWHEADER = \"rowheader\",\n        GRIDCELL = \"gridcell\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_OWNS = \"aria-owns\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        INPUTSELECTOR = \"input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-caret-alt-down,span.k-icon.k-i-caret-alt-up,span.k-svg-icon.k-svg-i-caret-alt-down,span.k-svg-icon.k-svg-i-caret-alt-up\",\n        DATE = Date,\n        views = {\n            month: 0,\n            year: 1,\n            decade: 2,\n            century: 3\n        };\n\n    var RangeSelectable = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n\n            that.calendar = options.calendar;\n\n            that.userEvents = new kendo.UserEvents(that.element, {\n                global: true,\n                allowSelection: true,\n                filter: that.options.filter,\n                tap: that._tap.bind(that),\n                touchAction: NONE\n            });\n        },\n\n        events: [CHANGE],\n\n        options: {\n            name: \"RangeSelectable\",\n            filter: \">*\",\n            inputSelectors: INPUTSELECTOR,\n            multiple: false,\n            dragToSelect: true,\n            relatedTarget: $.noop\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Widget.fn.destroy.call(that);\n\n            that.userEvents.destroy();\n            that.calendar = null;\n\n            that._lastActive = that.element = that.userEvents = that._start = that._end = null;\n        },\n\n        _allowSelection: function(target) {\n            if ($(target).is(this.options.inputSelectors)) {\n                this.userEvents.cancel();\n                return false;\n            }\n\n            return true;\n        },\n\n        start: function(element) {\n            if (element === undefined$1) {\n                return this._start;\n            }\n            element.addClass(START + \" \" + SELECTED).attr(ARIA_SELECTED, true);\n            this._start = element;\n        },\n\n        end: function(element) {\n            if (element === undefined$1) {\n                return this._start;\n            }\n            element.addClass(END + \" \" + SELECTED).attr(ARIA_SELECTED, true);\n            this._end = element;\n        },\n\n        mid: function(elements) {\n            var tables = this.element.find(\"table.k-month\");\n\n            elements.addClass(MID).attr(ARIA_SELECTED, true);\n            tables.each(function() {\n                var that = $(this);\n                var lastCell = that.find(CELLSELECTORVALID).last();\n                var firstCell = that.find(CELLSELECTORVALID).first();\n\n                if (lastCell.hasClass(MID)) {\n                    lastCell.addClass(SPLITEND);\n                }\n\n                if (firstCell.hasClass(MID)) {\n                    firstCell.addClass(SPLITSTART);\n                }\n            });\n        },\n\n        clear: function(clearVariables) {\n            this.element.find(CELLSELECTOR)\n                .removeClass(END + \" \" + SELECTED + \" \" + START + \" \" + MID + \" \" + SPLITEND + \" \" + SPLITSTART)\n                .removeAttr(ARIA_SELECTED);\n\n            if (clearVariables) {\n                this._start = this._end = null;\n            }\n        },\n\n        selectFrom: function(start) {\n            var that = this;\n            var items;\n            var startIdx;\n\n            items = that.element.find(CELLSELECTOR);\n\n            startIdx = $.inArray($(start)[0], items);\n\n            that.clear();\n            that.start(start);\n\n            items = items.filter(function(index) {\n                return index > startIdx;\n            });\n            that.mid(items);\n        },\n\n        selectTo: function(end) {\n            var that = this;\n            var items;\n            var endIdx;\n\n            items = that.element.find(CELLSELECTOR);\n\n            endIdx = $.inArray($(end)[0], items);\n\n            that.clear();\n\n            items = items.filter(function(index) {\n                return index < endIdx;\n            });\n            that.mid(items);\n            that.end($(end));\n        },\n\n        range: function(start, end) {\n            var that = this;\n            var items;\n            var startIdx;\n            var endIdx;\n            var temp;\n\n            if (start === undefined$1) {\n                return { start: that._start, end: that._end };\n            }\n\n            items = that.element.find(CELLSELECTOR);\n\n            startIdx = $.inArray($(start)[0], items);\n            endIdx = $.inArray($(end)[0], items);\n\n            if (endIdx == -1) {\n                endIdx = items.length;\n            }\n\n            if (startIdx > endIdx) {\n                temp = end;\n                end = start;\n                start = temp;\n                temp = startIdx;\n                startIdx = endIdx;\n                endIdx = temp;\n            }\n            that.clear();\n            start.addClass(START + \" \" + SELECTED).attr(ARIA_SELECTED, true);\n            that._start = start;\n\n            items = items.filter(function(index) {\n                return index > startIdx && index < endIdx;\n            });\n            that.mid(items);\n\n            if (end) {\n                that.end($(end));\n            } else {\n                that._useEnd = true;\n            }\n        },\n\n        change: function() {\n            this.trigger(CHANGE);\n        },\n\n        _clearFlags: function() {\n            this._useStart = this._useEnd = false;\n        },\n\n        _tap: function(e) {\n            var target = $(e.target),\n                range = this.calendar.selectRange() || {},\n                start = range.start,\n                end = range.end,\n                that = this,\n                currentDate = toDateObject($(target).find(\"a\")),\n                items,\n                startIdx,\n                endIdx;\n\n\n            that._lastActive = target;\n\n            if (!start || +start > +currentDate) {\n                that.clear(true);\n                that.start(target);\n                that._clearFlags();\n                that.trigger(CHANGE);\n                return;\n            }\n\n            if (start && !end) {\n                items = that.element.find(CELLSELECTOR);\n\n                startIdx = $.inArray($(that._start)[0], items);\n                endIdx = $.inArray($(target)[0], items);\n\n                if (start) {\n                    that._useStart = true;\n                }\n\n                items = items.filter(function(index) {\n                    return index > startIdx && index < endIdx;\n                });\n                that.mid(items);\n                that.end($(target));\n                that.trigger(CHANGE);\n                that._clearFlags();\n                return;\n            }\n\n            if (start && end) {\n                if (target.hasClass(MID)) {\n                    if (!that._toggling) {\n                        that.range(target, that._end);\n                    } else {\n                        that.range(that._start, target);\n                    }\n                    that._toggling = !that._toggling;\n                    that.trigger(CHANGE);\n                    that._clearFlags();\n                    return;\n                }\n                that._toggling = false;\n                that._end = null;\n                that.clear();\n                that.start(target);\n                that.trigger(CHANGE);\n                that._clearFlags();\n            }\n        }\n    });\n\n\n    var MultiViewCalendar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            var id;\n            var culture;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n\n            that.options.disableDates = calendar.disabled(that.options.disableDates);\n\n            culture = kendo.getCulture(options.culture);\n            options.format = kendo._extractFormat(options.format || culture.calendars.standard.patterns.d);\n\n            that._templates();\n\n            that._header();\n\n            that._wrapper();\n\n            id = element\n                .addClass(`k-widget k-calendar k-calendar-range ${kendo.getValidCssClass(\"k-calendar-\", \"size\", that.options.size || \"medium\")}` + (options.weekNumber ? \" k-week-number\" : \"\"))\n                .on(KEYDOWN + ns, DOT + CALENDAR_VIEW, that._move.bind(that))\n                .on(FOCUS + ns, DOT + CALENDAR_VIEW, that._focus.bind(that))\n                .on(BLUR + ns, DOT + CALENDAR_VIEW, that._blur.bind(that))\n                .on(CLICK + ns, CELLSELECTORVALID, function(e) {\n                    var link = e.currentTarget.firstChild;\n\n                    if (link.href.indexOf(\"#\") != -1) {\n                        e.preventDefault();\n                    }\n\n                    that._click($(link));\n                })\n                .on(MOUSEENTER + ns, CELLSELECTORVALID, that._mouseEnter.bind(that))\n                .on(MOUSELEAVE_NS, CELLSELECTORVALID, function() {\n                    $(this).removeClass(HOVER);\n                })\n                .attr(ID);\n\n            if (!id) {\n                id = kendo.guid();\n            }\n\n            that._cellID = id + \"_cell_selected\";\n\n            that._calendarWidth = that.element.width();\n\n            that._range = options.range;\n\n            that._initViews({ viewName: options.start, value: options.value });\n            that._selectable();\n\n            that._footer(that.footer);\n            that._selectDates = [];\n            that.value(options.value);\n            that._addSelectedCellsToArray();\n\n            if (options.selectable == MULTIPLE) {\n                that._selectDates = options.selectDates.length ? options.selectDates : that._selectDates;\n                that._restoreSelection();\n            }\n\n            if (options.selectable == RANGE) {\n                that.selectRange(that._range);\n            }\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"MultiViewCalendar\",\n            value: null,\n            min: new DATE(1900, 0, 1),\n            max: new DATE(2099, 11, 31),\n            dates: [],\n            disableDates: null,\n            culture: \"\",\n            footer: \"\",\n            format: \"\",\n            month: {},\n            range: { start: null, end: null },\n            weekNumber: false,\n            views: 2,\n            showViewHeader: false,\n            selectable: SINGLE,\n            selectDates: [],\n            start: MONTH,\n            depth: MONTH,\n            messages: {\n                weekColumnHeader: \"\"\n            },\n            size: \"medium\",\n            orientation: \"horizontal\"\n        },\n\n        events: [\n            CHANGE,\n            NAVIGATE\n        ],\n\n        setOptions: function(options) {\n            var that = this;\n\n            calendar.normalize(options);\n\n            options.disableDates = calendar.disabled(options.disableDates);\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._selectable();\n\n            that._templates();\n\n            that._footer(that.footer);\n\n            for (var i = 0; i < that._views.length; i++) {\n                that._views[i].off(ns).remove();\n            }\n\n            that._initViews({ viewName: options.start, value: options.value });\n\n            that._range = options.range || { start: null, end: null };\n\n            that._restoreSelection();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that._cell = null;\n            that._currentView = null;\n            that._current = null;\n\n            if (that._views) {\n                for (var i = 0; i < that._views.length; i++) {\n                    that._views[i].off(ns).remove();\n                }\n            }\n\n            that.element.off(ns);\n\n            if (that.header) {\n                that.header.off(ns);\n                that._title = null;\n                that.header = null;\n            }\n\n            if (that.selectable) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n\n            if (that.rangeSelectable) {\n                that.rangeSelectable.destroy();\n                that.rangeSelectable = null;\n            }\n\n            if (that._today) {\n                kendo.destroy(that._today.off(ns));\n            }\n\n            that._views = null;\n\n            Widget.fn.destroy.call(that);\n        },\n\n        current: function() {\n            return this._current;\n        },\n\n        focus: function() {\n            this.tablesWrapper.trigger(\"focus\");\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        view: function() {\n            return this._currentView;\n        },\n\n        navigateToPast: function() {\n            this._navigate(PREVARROW, -1);\n        },\n\n        navigateToFuture: function() {\n            this._navigate(NEXTARROW, 1);\n        },\n\n        navigateUp: function() {\n            var that = this,\n            index = that._index;\n\n            if (that._title.hasClass(DISABLED)) {\n                return;\n            }\n\n            that.navigate(that._current, ++index);\n        },\n\n        navigateDown: function(value) {\n            var that = this,\n            index = that._index,\n            depth = that.options.depth;\n\n            if (!value) {\n                return;\n            }\n\n            if (index === views[depth]) {\n                if (!isEqualDate(that._value, that._current) || !isEqualDate(that._value, value)) {\n                    that.value(value);\n                    that.trigger(CHANGE);\n                }\n                return;\n            }\n\n            that.navigate(value, --index);\n        },\n\n        navigate: function(value, view) {\n            view = isNaN(view) ? calendar.views[calendar.viewsEnum[view]] : calendar.views[view];\n\n            var that = this;\n            var options = that.options;\n            var min = options.min;\n            var max = options.max;\n\n            if (!value) {\n                that._current = value = new DATE(+calendar.restrictValue(value, min, max));\n            } else {\n                that._current = value;\n            }\n\n            if (view === undefined$1) {\n                view = that._currentView;\n            }\n\n            that._currentView = view;\n\n            for (var i = 0; i < that._views.length; i++) {\n                that._views[i].off(ns).remove();\n            }\n\n            that._initViews({ viewName: view.name, value: value });\n\n            that._restoreSelection();\n        },\n\n        _aria: function() {\n            var tables = this.tablesWrapper.find(TABLE),\n                rowGroups = tables.first().find(THEAD).add(tables.find(TBODY)),\n                viewName = this._currentView.name;\n\n            tables.removeAttr(TABINDEX);\n\n            tables.attr({\n                role: NONE\n            });\n\n            rowGroups.attr({\n                role: ROWGROUP\n            });\n\n            if (viewName === MONTH) {\n                this._ariaMonth();\n            }\n        },\n\n        _ariaMonth: function() {\n            var tables = this.tablesWrapper.find(TABLE),\n                rowGroups = tables.first().find(THEAD).add(tables.find(TBODY)),\n                rows = rowGroups.find(TR),\n                noHeaderRows = tables.not(\":eq(0)\").find(THEAD + EMPTY + TR),\n                noHeaderCells = noHeaderRows.find(TH),\n                columnHeaderCells = tables.first().find(THEAD + EMPTY + TH),\n                rowHeaderCells = tables.find(TBODY + EMPTY + TH),\n                outOfRange = tables.find(DOT + OUTOFRANGE),\n                ariaDataCells = function(i, row) {\n                    var $row = $(row),\n                        numberOfEmpty = $row.find(DOT + OUTOFRANGE).length,\n                        owned = [],\n                        prev, cells;\n\n                    if (i === 1) {\n                        $row.children()\n                            .filter(DOT + OUTOFRANGE)\n                            .attr({\n                                \"aria-hidden\": \"false\",\n                                role: GRIDCELL\n                            });\n                    } else if (numberOfEmpty === 7) {\n                        $row.removeAttr(ROLE);\n                        $row.find(TH).removeAttr(ROLE);\n                    } else if (numberOfEmpty > 0 && numberOfEmpty < 7 && $row.children().not(TH).first().hasClass(OUTOFRANGE)) {\n                        $row.find(TH).removeAttr(ROLE);\n                        prev = rows.eq(i - 1);\n\n                        if (!prev.attr(ROLE) || prev.attr(ROLE) === NONE) {\n                            prev = rows.eq(i - 2);\n                        }\n\n                        cells = $row.children().not(TH);\n\n                        cells.each(function(j, cell) {\n                            var $cell = $(cell),\n                                id;\n\n                            if (!$cell.hasClass(OUTOFRANGE)) {\n                                id = \"owned_\" + i + \"_\" + j;\n                                $cell.attr(ID, id);\n                                owned.push(id);\n                            }\n                        });\n\n                        $row.removeAttr(ROLE);\n                        prev.attr(ARIA_OWNS, owned.join(\" \"));\n                    }\n                };\n\n            columnHeaderCells.attr({\n                role: COLUMNHEADER\n            });\n\n            rowHeaderCells.attr({\n                role: ROWHEADER\n            });\n\n            outOfRange.removeAttr(ROLE);\n            noHeaderRows.removeAttr(ROLE);\n            noHeaderCells.removeAttr(ARIA_LABEL).removeAttr(ROLE);\n\n            rows.each(ariaDataCells);\n        },\n\n        _updateHeader: function() {\n            var that = this;\n            var view = that._currentView;\n            var title = that._title;\n            var value = that._firstViewValue;\n            var options = that.options;\n            var visibleRange = that._visibleRange();\n            var culture = options.culture;\n            var min = options.min;\n            var max = options.max;\n            var lastDate;\n            var disabled;\n            var prevDisabled;\n            var nextDisabled;\n\n            if (view.name === DECADE || view.name === CENTURY) {\n                lastDate = shiftDate(value, view.name, options.views - 1);\n                if (!isInRange(lastDate, min, max)) {\n                    lastDate = max;\n                }\n\n                title.html('<span class=\"k-button-text\">' + view.first(value).getFullYear() + \" - \" + view.last(lastDate).getFullYear() + \"</span>\");\n            } else {\n                title.html('<span class=\"k-button-text\">' + view.title(value, min, max, culture) + \" - \" + view.title(shiftDate(value, view.name, options.views - 1), min, max, culture) + \"</span>\");\n            }\n\n            disabled = view.name === CENTURY;\n            title.toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            prevDisabled = view.compare(visibleRange.start, that.options.min) < 1;\n            nextDisabled = view.compare(visibleRange.end, that.options.max) > -1;\n\n            if (prevDisabled && nextDisabled) {\n                if (that._navContainer) {\n                    that._navContainer.remove();\n                    that._navContainer = null;\n                }\n            } else {\n                if (!that._navContainer) {\n                    that._navContainer = $(`<span class=\"k-calendar-nav ${that.options.orientation != \"vertical\" ? \"k-hstack\" : \"k-vstack\"}\">` +\n                    `<a tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-prev-view\" ` + ARIA_LABEL + `=\"Previous\">${kendo.ui.icon({ icon: \"chevron-left\", iconClass: \"k-button-icon\" })}</a>` +\n                    `<a tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-next-view\" ` + ARIA_LABEL + `=\"Next\">${kendo.ui.icon({ icon: \"chevron-right\", iconClass: \"k-button-icon\" })}</a>` +\n                    '</span>').appendTo(that.header);\n                    that[PREVARROW] = that._navContainer.find(\".k-calendar-prev-view\");\n                    that[NEXTARROW] = that._navContainer.find(\".k-calendar-next-view\");\n                }\n\n                that[PREVARROW].toggleClass(DISABLED, prevDisabled).attr(ARIA_DISABLED, prevDisabled);\n                if (that[PREVARROW].hasClass(DISABLED)) {\n                    that[PREVARROW].removeClass(HOVER);\n                }\n\n                that[NEXTARROW].toggleClass(DISABLED, nextDisabled).attr(ARIA_DISABLED, nextDisabled);\n                if (that[NEXTARROW].hasClass(DISABLED)) {\n                    that[NEXTARROW].removeClass(HOVER);\n                }\n            }\n        },\n\n        _mouseEnter: function(e) {\n            var that = this;\n            var cell = $(e.currentTarget);\n            var range;\n            var items;\n            var startIdx;\n            var endIdx;\n\n            cell.addClass(HOVER);\n\n            if (that.rangeSelectable && that._currentView.name === MONTH) {\n                range = that.selectRange();\n                if (range.start && !range.end) {\n                    if (that._dateInViews(that.selectRange().start)) {\n                        items = that.element.find(that.rangeSelectable.options.filter);\n                        startIdx = $.inArray($(that.rangeSelectable._start)[0], items);\n                        endIdx = $.inArray($(cell)[0], items);\n                        if (startIdx > endIdx) {\n                            return;\n                        }\n                        that.rangeSelectable.range(that.rangeSelectable._start, cell);\n                    } else if (+toDateObject(that.element.find(CELLSELECTOR).first().find(\"a\")) > +range.start) {\n                        that.rangeSelectable.selectTo(cell);\n                    }\n                    that.rangeSelectable._end = null;\n                }\n            }\n        },\n\n        _move: function(e) {\n            var that = this;\n            var options = that.options;\n            var key = e.keyCode;\n            var index = that._index;\n            var min = options.min;\n            var max = options.max;\n            var focusedCell = that.element.find(DOT + FOCUSED);\n            var table = focusedCell.closest(TABLE);\n            var currentValue = new DATE(+(that._current || toDateObject(focusedCell.find(\"a\"))));\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var navigate = false;\n            var value, prevent, method, cell, lastActive, cellIndex, triggerChange;\n\n            if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                value = 1;\n                prevent = true;\n            } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                value = -1;\n                prevent = true;\n            } else if (key == keys.UP) {\n                value = index === 0 ? -7 : -4;\n                prevent = true;\n            } else if (key == keys.DOWN) {\n                value = index === 0 ? 7 : 4;\n                prevent = true;\n            } else if (key == keys.SPACEBAR) {\n                value = 0;\n                prevent = true;\n            } else if (key == keys.HOME) {\n                prevent = true;\n                cell = table.find(CELLSELECTORVALID).eq(0);\n                if (cell.hasClass(FOCUSED)) {\n                    table = table.prev();\n                    if (table.length) {\n                        that._focusCell(table.find(CELLSELECTORVALID).eq(0));\n                    } else {\n                        navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                        that._navigate(PREVARROW, -1);\n                        that._focusCell(that.element.find(TABLE).first().find(CELLSELECTORVALID).first());\n                    }\n                } else {\n                    that._focusCell(cell);\n                }\n            } else if (key == keys.END) {\n                prevent = true;\n                cell = table.find(CELLSELECTORVALID).last();\n                if (cell.hasClass(FOCUSED)) {\n                    table = table.next();\n                    if (table.length) {\n                        that._focusCell(table.find(CELLSELECTORVALID).last());\n                    } else {\n                        navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                        that._navigate(NEXTARROW, 1);\n                        that._focusCell(that.element.find(TABLE).last().find(CELLSELECTORVALID).last());\n                    }\n                } else {\n                    that._focusCell(cell);\n                }\n            } else if (key === 84) {\n                that._todayClick(e);\n                prevent = true;\n            }\n\n            if (e.ctrlKey || e.metaKey) {\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                    that._navigate(NEXTARROW, 1);\n                    prevent = true;\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                    that._navigate(PREVARROW, -1);\n                    prevent = true;\n                } else if (key == keys.UP) {\n                    navigate = !that._title.hasClass(DISABLED);\n                    that.navigateUp();\n                    that._focusCell(that._cellByDate(that._current));\n                    prevent = true;\n                } else if (key == keys.DOWN) {\n                    if (that._currentView.name === MONTH) {\n                        that.value(currentValue);\n                    } else {\n                        that.navigateDown(currentValue);\n                        that._focusCell(that._cellByDate(that._current));\n                        navigate = true;\n                    }\n                    prevent = true;\n                } else if ((key == keys.ENTER || key == keys.SPACEBAR)) {\n                    if (options.selectable === MULTIPLE) {\n                        that._toggleSelection(e);\n                    }\n                }\n            } else if (e.shiftKey && options.selectable !== SINGLE) {\n                if (value !== undefined$1 || method) {\n                    if (!method) {\n                        that._currentView.setDate(currentValue, value);\n                    }\n\n                    if (that._currentView.name !== MONTH) {\n                        return;\n                    }\n\n                    if (options.disableDates(currentValue)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                    if (isInRange(currentValue, min, max)) {\n                        if (!that._dateInViews(currentValue)) {\n                            if (value > 0) {\n                                navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                that._navigate(NEXTARROW, 1);\n                            } else {\n                                navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                that._navigate(PREVARROW, -1);\n                            }\n                        }\n                        cell = that._cellByDate(currentValue);\n                        that._current = currentValue;\n\n                        if (that.selectable) {\n                            that._selectRange(toDateObject((that.selectable._lastActive || focusedCell).find(\"a\")), currentValue);\n                            if (!that.selectable._lastActive) {\n                                that.selectable._lastActive = focusedCell;\n                            }\n                            that.trigger(CHANGE);\n                            that._focusCell(cell);\n                        }\n\n                        if (that.rangeSelectable) {\n                            lastActive = toDateObject((that.rangeSelectable._lastActive || focusedCell).find(\"a\"));\n                            if (!that._dateInViews(lastActive)) {\n                                if (+lastActive > +currentValue) {\n                                    that.rangeSelectable._end = that.rangeSelectable._lastActive;\n                                    that.rangeSelectable.selectFrom(cell);\n                                } else {\n                                    that.rangeSelectable.selectTo(cell);\n                                }\n                            } else {\n                                if (that.rangeSelectable._end && that.rangeSelectable._end.is(DOT + FOCUSED)) {\n                                    that.rangeSelectable._lastActive = that.rangeSelectable._start;\n                                } else {\n                                    that.rangeSelectable._lastActive = that._cellByDate(lastActive);\n                                }\n                                that.rangeSelectable.range(that.rangeSelectable._lastActive, cell);\n                            }\n                            that.rangeSelectable.change();\n                            that._focusCell(cell);\n                        }\n                    }\n                }\n            } else {\n                if (key == keys.ENTER || key == keys.SPACEBAR) {\n                    if (that._currentView.name === MONTH) {\n                        triggerChange = !focusedCell.hasClass(SELECTED) || that.element.find(DOT + SELECTED).length > 1;\n                        that.value(currentValue);\n                        if (that.selectable) {\n                            that.selectable._lastActive = that._cellByDate(currentValue);\n                            if (triggerChange) {\n                                that.selectable.trigger(CHANGE, { event: e });\n                            }\n                        }\n                        if (that.rangeSelectable) {\n                            that.rangeSelectable.change();\n                        }\n                    } else {\n                        that._click($(that._cell[0].firstChild));\n                    }\n                    prevent = true;\n                } else if (key == keys.PAGEUP || key == keys.PAGEDOWN) {\n                    prevent = true;\n                    cellIndex = table.find(CELLSELECTORVALID).index(focusedCell);\n                    table = key == keys.PAGEUP ? table.prev() : table.next();\n                    if (!table.length) {\n                        if (key == keys.PAGEUP) {\n                            navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                            that.navigateToPast();\n                            table = that.element.find(TABLE).first();\n                        } else {\n                            navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                            that.navigateToFuture();\n                            table = that.element.find(TABLE).last();\n                        }\n                    }\n                    cell = table.find(CELLSELECTORVALID).eq(cellIndex);\n                    if (cell.length) {\n                        that._focusCell(cell);\n                    } else {\n                        that._focusCell(table.find(CELLSELECTORVALID).last());\n                    }\n                }\n\n                if (value || method) {\n                    if (!method) {\n                        that._currentView.setDate(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                    if (isInRange(currentValue, min, max)) {\n                        if (that.selectable && options.disableDates(currentValue)) {\n                            currentValue = that._nextNavigatable(currentValue, value);\n                        }\n                        if (!that._dateInViews(currentValue)) {\n                            if (value > 0) {\n                                navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                that._navigate(NEXTARROW, 1);\n                            } else {\n                                navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                that._navigate(NEXTARROW, -1);\n                            }\n                        }\n                        cell = that._cellByDate(currentValue);\n                        that._current = currentValue;\n                        that._focusCell(cell);\n                    }\n                }\n            }\n\n            if (navigate) {\n                that.trigger(NAVIGATE);\n            }\n\n            if (prevent) {\n                e.preventDefault();\n            }\n\n            return that._current;\n\n        },\n\n        _visualizeSelectedDatesInView: function() {\n            var that = this;\n            var selectedDates = {};\n            var cells;\n\n            $.each(that._selectDates, function(index, value) {\n                selectedDates[kendo.calendar.views[0].toDateString(value)] = value;\n            });\n            that.selectable.clear();\n            cells = that.element.find(TABLE)\n                .find(CELLSELECTOR)\n                .filter(function(index, element) {\n                    return selectedDates[$(element.firstChild).attr(kendo.attr(VALUE))];\n                });\n\n            if (cells.length > 0) {\n                that.selectable._selectElement(cells, true);\n            }\n        },\n\n        _nextNavigatable: function(currentValue, value) {\n            var that = this;\n            var disabled = true;\n            var view = that._currentView;\n            var min = that.options.min;\n            var max = that.options.max;\n            var isDisabled = that.options.disableDates;\n            var navigatableDate = new Date(currentValue.getTime());\n\n            view.setDate(navigatableDate, -value);\n            while (disabled) {\n                view.setDate(currentValue, value);\n                 if (!isInRange(currentValue, min, max)) {\n                    currentValue = navigatableDate;\n                    break;\n                }\n                disabled = isDisabled(currentValue);\n            }\n            return currentValue;\n        },\n\n        _toggleSelection: function(event) {\n            var that = this;\n\n            that.selectable._lastActive = $(that._cell[0]);\n\n            if ($(that._cell[0]).hasClass(SELECTED)) {\n                that.selectable._unselect($(that._cell[0]));\n            }\n            else {\n                that.selectable.value($(that._cell[0]));\n            }\n            that.selectable.trigger(CHANGE, { event: event });\n        },\n\n        _option: function(option, value) {\n            var that = this;\n            var options = that.options;\n            var currentValue = that._value || that._current;\n            var isBigger;\n\n            if (value === undefined$1) {\n                return options[option];\n            }\n\n            value = kendo.parseDate(value, options.format, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new DATE(+value);\n\n            if (option === MIN) {\n                isBigger = value > currentValue;\n            } else {\n                isBigger = currentValue > value;\n            }\n\n            if (isBigger) {\n                that._value = null;\n            }\n\n            that.navigate(that._value);\n\n            that._toggle();\n        },\n\n        _cellByDate: function(value) {\n            if (value instanceof Date) {\n                value = this._currentView.toDateString(value);\n            }\n            return this.element.find(TABLE).find(\"td:not(.\" + OTHERMONTH + \")\")\n            .filter(function() {\n                return $(this.firstChild).attr(kendo.attr(VALUE)) === value;\n            });\n        },\n\n        _selectable: function() {\n            var that = this;\n            var selectable = that.options.selectable;\n\n            if (that.selectable) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n\n            if (that.rangeSelectable) {\n                that.rangeSelectable.destroy();\n                that.rangeSelectable = null;\n            }\n\n            if (selectable.toLowerCase() === RANGE) {\n                that.rangeSelectable = new RangeSelectable(that.wrapper, {\n                    calendar: that,\n                    filter: \"table.k-month \" + CELLSELECTORVALID,\n                    change: that._rangeSelection.bind(that)\n                });\n            } else {\n                that.selectable = new Selectable(that.wrapper, {\n                    aria: true,\n                    dragToSelect: false,\n                    inputSelectors: \"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-caret-alt-down,span.k-icon.k-i-caret-alt-up,span.k-svg-icon.k-svg-i-caret-alt-down,span.k-svg-icon.k-svg-i-caret-alt-up\",\n                    multiple: Selectable.parseOptions(selectable).multiple,\n                    filter: \"table.k-content \" + CELLSELECTORVALID,\n                    change: that._selection.bind(that),\n                    relatedTarget: that._onRelatedTarget.bind(that),\n                    unselect: that._unselecting.bind(that)\n                });\n            }\n        },\n\n        _onRelatedTarget: function(target) {\n            var that = this;\n\n            if (that.selectable.options.multiple && target.is(CELLSELECTORVALID) && target.length > 1) {\n                that._focusCell(target.first(), true);\n            }\n        },\n\n        _getFirstViewDate: function(currentView) {\n            var that = this;\n            var options = that.options;\n            var ranges = [];\n            var start;\n            var end;\n            var current = new Date(+that._current);\n            var i;\n\n            for (i = 0; i < options.views; i++) {\n                start = currentView.first(current);\n                end = currentView.last(current);\n\n                if (+end > +options.max) {\n                    if (+start <= +options.max) {\n                        ranges.push({ start: start, end: new Date(+options.max) });\n                    }\n                    break;\n                }\n\n                ranges.push({ start: start, end: end });\n\n                current = new Date(+shiftDate(end, currentView.name, 1));\n            }\n\n            current = new Date(+that._current);\n\n            for (i = 0; i < options.views; i++) {\n                start = currentView.first(current);\n                end = currentView.last(current);\n\n                if (+start < +options.min) {\n                    if (+end >= +options.min) {\n                        ranges.push({ start: new Date(+options.min), end: end });\n                    }\n                    break;\n                }\n\n                ranges.push({ start: start, end: end });\n\n                current = new Date(+shiftDate(start, currentView.name, -1));\n            }\n\n            start = ranges[0].start;\n\n            for (i = 0; i < options.views + 1; i++) {\n                if (!ranges[i]) {\n                    break;\n                }\n\n                if (+start > +ranges[i].start) {\n                    start = ranges[i].start;\n                }\n            }\n\n            return new Date(+start);\n        },\n\n        _canRenderNextView: function(viewDate) {\n            var fullYear = viewDate.getFullYear();\n            var month = viewDate.getMonth();\n            var date = viewDate.getDate();\n            var max = this.options.max;\n            var maxYear = max.getFullYear();\n            var maxMonth = max.getMonth();\n\n\n            if (fullYear < maxYear) {\n                return true;\n            }\n\n            if (fullYear === maxYear && month < maxMonth) {\n                return true;\n            }\n\n            if (fullYear === maxYear && month === maxMonth && date < max.getDate()) {\n                return true;\n            }\n\n            if (fullYear === maxYear && month === maxMonth && date === max.getDate()) {\n                return true;\n            }\n\n            return false;\n        },\n\n        _initViews: function(viewOptions) {\n            var that = this;\n            var options = that.options;\n            var index = calendar.viewsEnum[viewOptions.viewName];\n            var currentView = calendar.views[index];\n            var viewDate;\n\n            that._current = new DATE(+calendar.restrictValue(viewOptions.value, options.min, options.max));\n            that._views = [];\n            that._index = index;\n            viewDate = that._getFirstViewDate(currentView);\n            viewDate.setDate(1);\n\n            that._firstViewValue = new Date(+viewDate);\n\n            for (var i = 0; i < options.views; i++) {\n                viewDate = i ? shiftDate(viewDate, currentView.name, 1) : viewDate;\n                viewDate.setDate(1);\n\n                if (!that._canRenderNextView(viewDate)) {\n                    break;\n                }\n\n                that._table = $(currentView.content($.extend({\n                    min: options.min,\n                    max: options.max,\n                    date: viewDate,\n                    url: options.url,\n                    dates: options.dates,\n                    format: options.format,\n                    culture: options.culture,\n                    disableDates: options.disableDates,\n                    showHeader: options.showViewHeader,\n                    isWeekColumnVisible: options.weekNumber,\n                    otherMonth: options.otherMonth,\n                    messages: options.messages,\n                    contentClasses: \"k-calendar-table k-content\"\n                }, that[currentView.name])));\n\n                that._table.appendTo(that.tablesWrapper).addClass(\"k-\" + currentView.name);\n                that._views.push(that._table);\n            }\n\n            that._currentView = currentView;\n\n            that.tablesWrapper.attr(\"class\", \"k-calendar-view k-calendar-\" + currentView.name + `view ${that.options.orientation != \"vertical\" ? \"k-hstack\" : \"k-vstack\"} k-align-items-start k-justify-content-center`);\n\n            that._updateHeader();\n\n            that._aria();\n        },\n\n        _rangeSelection: function(e) {\n            var that = this;\n            var range = e.sender.range();\n            var useEnd = e.sender._useEnd;\n            var useStart = e.sender._useStart;\n            var initialRange = that.selectRange() || {};\n            var start;\n            var end;\n\n            if (range.start) {\n                start = toDateObject(range.start.find(\"a\"));\n            }\n\n            if (range.end) {\n                end = toDateObject(range.end.find(\"a\"));\n            }\n\n            that._range = { start: useStart ? initialRange.start : start, end: useEnd ? initialRange.end : end };\n\n            if (!that._preventChange) {\n                that.trigger(CHANGE);\n            }\n        },\n\n        _selection: function(e) {\n            var that = this;\n            var selectElements = e.sender.value();\n            var domEvent = e.event;\n            var currentTarget = $(domEvent && domEvent.currentTarget);\n            var isCell = currentTarget.is(TD);\n            var currentValue;\n\n            if (that.options.selectable === SINGLE) {\n                that._validateValue(selectElements[0] ? toDateObject(selectElements.first().find(\"a\")) : e.sender._lastActive ? toDateObject(e.sender._lastActive.find(\"a\")) : that.value());\n            }\n\n            if (that.options.selectable == MULTIPLE) {\n\n                if (isCell) {\n                    currentValue = toDateObject(currentTarget.find(\"a\"));\n                }\n\n                if (domEvent && domEvent.ctrlKey) {\n                    if (isCell) {\n                        if (currentTarget.hasClass(SELECTED)) {\n                            that._selectDates.push(currentValue);\n                        } else {\n                            that._deselect(currentValue);\n                        }\n                    } else {\n                        that.element.find(\"table \" + CELLSELECTORVALID).each(function(index, element) {\n                            var value = toDateObject($(element).find(\"a\"));\n                            that._deselect(value);\n                        });\n                        that._addSelectedCellsToArray();\n                    }\n                } else if (domEvent && domEvent.shiftKey) {\n                    that._selectRange(toDateObject(e.sender._lastActive ? e.sender._lastActive.find(\"a\") : selectElements.first().find(\"a\")), currentValue);\n                } else if (isCell) {\n                    that._selectDates = [];\n                    that._selectDates.push(currentValue);\n                } else {\n                    that._selectDates = [];\n                    that._addSelectedCellsToArray();\n                }\n            }\n\n            if (!that._preventChange) {\n                that.trigger(CHANGE);\n            }\n        },\n\n        _addSelectedCellsToArray: function() {\n            var that = this;\n            if (!that.selectable) {\n                return;\n            }\n            that.selectable.value().each(function(index, item) {\n                var date = toDateObject($(item.firstChild));\n                if (!that.options.disableDates(date)) {\n                    that._selectDates.push(date);\n                }\n            });\n        },\n\n        _deselect: function(date) {\n            var that = this;\n            var currentDateIndex = that._selectDates.map(Number).indexOf(+date);\n             if (currentDateIndex != -1) {\n                that._selectDates.splice(currentDateIndex, 1);\n            }\n        },\n\n        _unselecting: function(e) {\n            var that = this;\n            var element = e.element;\n\n            if (that.options.selectable === SINGLE && !mobileOS && element.hasClass(FOCUSED)) {\n                e.preventDefault();\n            }\n        },\n\n        _visibleRange: function() {\n            var tables = this.element.find(DOT + CALENDAR_VIEW + EMPTY + TABLE);\n            var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR).first().find(\"a\"));\n            var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR).last().find(\"a\"));\n            return { start: firstDateInView, end: lastDateInView };\n        },\n\n        _dateInViews: function(date) {\n            var that = this;\n            var tables = that.element.find(DOT + CALENDAR_VIEW + EMPTY + TABLE);\n            var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR).first().find(\"a\"));\n            var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR).last().find(\"a\"));\n\n            date = new Date(date.toDateString());\n\n            return +date <= +lastDateInView && +date >= +firstDateInView;\n        },\n\n        _fillRange: function(start, end) {\n            var that = this;\n            var daysDifference;\n\n            that._selectDates = [];\n            daysDifference = daysBetweenTwoDates(start, end);\n            addDaysToArray(that._selectDates, daysDifference, start, that.options.disableDates);\n        },\n\n        _selectRange: function(start, end) {\n            var that = this;\n            var current;\n\n            if (+end < +start) {\n                current = end;\n                end = start;\n                start = current;\n            }\n\n            that._fillRange(start, end);\n            that._visualizeSelectedDatesInView();\n        },\n\n        _header: function() {\n            var that = this;\n            var element = that.element;\n            var buttons;\n            var header = element.find(\".k-calendar-header\");\n\n            if (!header.length) {\n                header = $(`<div class=\"k-calendar-header ${that.options.orientation != \"vertical\" ? \"k-hstack\" : \"k-vstack\"}\">` +\n                    `<a id=\"calendar-title\" tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-calendar-title k-title k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-base\" aria-live=\"polite\"></a>` +\n                    '<span class=\"k-spacer\"></span>' +\n                    `<span class=\"k-calendar-nav ${that.options.orientation != \"vertical\" ? \"k-hstack\" : \"k-vstack\"}\">` +\n                        `<a tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-prev-view\" ` + ARIA_LABEL + `=\"Previous\">${kendo.ui.icon({ icon: \"chevron-left\", iconClass: \"k-button-icon\" })}</a>` +\n                        `<a tabindex=\"-1\" href=\"#\" role=\"button\" class=\"k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-next-view\" ` + ARIA_LABEL + `=\"Next\">${kendo.ui.icon({ icon: \"chevron-right\", iconClass: \"k-button-icon\" })}</a>` +\n                    '</span>' +\n                '</div>').prependTo(element);\n            }\n\n            that.header = header;\n\n            header.on(MOUSEENTER + ns + \" \" + MOUSELEAVE_NS + \" \" + FOCUS + ns + \" \" + BLUR + ns, \".k-button\", mousetoggle)\n                .on(CLICK, function() { return false; })\n                .on(CLICK + ns, \".k-button.k-calendar-title\", that._calendarTitleClick.bind(that))\n                .on(CLICK + ns, \".k-button.k-calendar-prev-view\", that._prevViewClick.bind(that))\n                .on(CLICK + ns, \".k-button.k-calendar-next-view\", that._nextViewClick.bind(that));\n\n            buttons = header.find(\".k-button\");\n\n            that._title = buttons.filter(\".k-calendar-title\");\n            that._navContainer = header.find(\".k-calendar-nav\");\n            that[PREVARROW] = buttons.filter(\".k-calendar-prev-view\");\n            that[NEXTARROW] = buttons.filter(\".k-calendar-next-view\");\n        },\n\n        _calendarTitleClick: function() {\n            this.navigateUp();\n            this.focus();\n            this.trigger(NAVIGATE);\n        },\n\n        _prevViewClick: function(e) {\n            e.preventDefault();\n            this.navigateToPast();\n            this.focus();\n            this.trigger(NAVIGATE);\n        },\n\n        _nextViewClick: function(e) {\n            e.preventDefault();\n            this.navigateToFuture();\n            this.focus();\n            this.trigger(NAVIGATE);\n        },\n\n        _wrapper: function() {\n            this.tablesWrapper = $('<div tabindex=\"0\" role=\"grid\" class=\"k-calendar-view\" aria-labelledby=\"calendar-title\" />').insertAfter(this.element[0].firstChild);\n        },\n\n        _templates: function() {\n            var that = this;\n            var options = that.options;\n            var month = options.month;\n            var content = month.content;\n            var weekNumber = month.weekNumber;\n            var empty = month.empty;\n\n            that.month = {\n                content: template((data) => `<td class=\"${data.cssClass}\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link${data.linkClass}\" href=\"${data.url}\" ${kendo.attr(VALUE)}=\"${data.dateString}\" title=\"${data.title}\">${content ? kendo.template(content, { useWithBlock: !!content })(data) : data.value}</a></td>`, { useWithBlock: !!content }),\n                empty: template((data) => `<td role=\"gridcell\"${empty ? '>' : ' class=\"k-calendar-td k-out-of-range\">'}${(empty ? kendo.template(empty, { useWithBlock: !!empty })(data) : \"<a class='k-link'></a>\")}</td>`, { useWithBlock: !!empty }),\n                weekNumber: template((data) => `<th class=\"k-calenar-td k-alt\">${weekNumber ? kendo.template(weekNumber, { useWithBlock: !!weekNumber })(data) : data.weekNumber}</th>`, { useWithBlock: !!weekNumber })\n            };\n        },\n\n        _footer: function() {\n            var that = this;\n            var options = that.options;\n            var template = options.footer !== false ? kendo.template(that.options.footer || ((data) => kendo.toString(data,\"D\", options.culture)), { useWithBlock: false }) : null;\n            var today = getToday();\n            var element = that.element;\n            var footer = element.find(\".k-footer\");\n\n            if (!template) {\n                that._toggle(false);\n                footer.hide();\n                return;\n            }\n\n            if (!footer[0]) {\n                footer = $(`<div class=\"k-footer\">\n                    <button tabindex=\"-1\" class=\"k-calendar-nav-today k-flex k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-button-flat k-button-flat-primary k-rounded-md\">\n                        <span class=\"k-button-text\"></span>\n                    </button>\n                </div>`).appendTo(element);\n            }\n\n            that._today = footer.show()\n                .find(\".k-button-flat-primary\")\n                .attr(\"title\", kendo.toString(today, \"D\", that.options.culture));\n\n            footer.find(\".k-button-text\")\n                .html(template(today));\n\n            that._toggle();\n        },\n\n        _navigate: function(arrow, modifier) {\n            var that = this;\n            var index = that._index + 1;\n            var currentValue = new DATE(+that._current);\n            var originaValue = new DATE(+that._current);\n            var offset;\n\n            arrow = that[arrow];\n\n            offset = that._cellByDate(currentValue).closest(TABLE).index();\n\n            if (modifier > 0) {\n                offset = 1 - offset;\n            } else {\n                offset = offset + 1;\n            }\n\n            if (!arrow || !arrow.hasClass(DISABLED)) {\n                if (index > 3) {\n                    currentValue.setFullYear(currentValue.getFullYear() + 100 * (modifier * offset));\n                } else {\n                    calendar.views[index].setDate(currentValue, (modifier * offset));\n                }\n\n                that.navigate(currentValue);\n\n                if (that._dateInViews(originaValue)) {\n                    that._focusCell(that._cellByDate(originaValue));\n                    that._current = originaValue;\n                } else {\n                    if (index > 3) {\n                        originaValue.setFullYear(originaValue.getFullYear() + 100 * modifier);\n                    } else {\n                        calendar.views[index].setDate(originaValue, modifier);\n                    }\n                    that._focusCell(that._cellByDate(originaValue));\n                    that._current = originaValue;\n                }\n            }\n        },\n\n        _toggle: function(toggle) {\n            var that = this;\n            var options = that.options;\n            var isTodayDisabled = options.selectable !== RANGE && that.options.disableDates(getToday());\n            var link = that._today;\n\n            if (toggle === undefined$1) {\n                toggle = isInRange(getToday(), options.min, options.max);\n            }\n\n            if (link) {\n                link.off(CLICK + ns);\n\n                if (toggle && !isTodayDisabled) {\n                    link.addClass(TODAY)\n                    .removeClass(DISABLED)\n                    .on(CLICK + ns, function(e) { that._todayClick(e); that.focus(); });\n                } else {\n                    link.removeClass(TODAY)\n                    .addClass(DISABLED)\n                    .on(CLICK + ns, function prevent(e) {\n                        e.preventDefault();\n                    });\n                }\n            }\n        },\n\n        _click: function(link) {\n            var that = this;\n            var options = that.options;\n            var currentValue = new Date(+that._current);\n            var value = toDateObject(link);\n\n            kendo.date.adjustDST(value, 0);\n\n            that._currentView.setDate(currentValue, value);\n            that._current = value;\n\n            if (that._currentView.name !== options.depth) {\n                that.navigateDown(calendar.restrictValue(currentValue, options.min, options.max));\n                that._focusCell(that._cellByDate(that._current));\n                that.trigger(NAVIGATE);\n            } else {\n                that._focusCell(link.closest(TD));\n            }\n\n            that.focus();\n        },\n\n        _blur: function() {\n            var that = this;\n\n            if (that._cell) {\n                that._cell.removeClass(FOCUSED);\n            }\n        },\n\n        _focus: function() {\n            var cell = this._cell;\n\n            if (!cell || !$.contains(this.tablesWrapper[0], cell[0])) {\n                if (this._current && this._dateInViews(this._current)) {\n                    cell = this._cellByDate(this._current);\n                } else {\n                    cell = this.tablesWrapper.find(CELLSELECTORVALID).first();\n                }\n            }\n\n            this._focusCell(cell);\n        },\n\n        _focusCell: function(cell) {\n            var that = this;\n            var cellId = that._cellID;\n\n            if (that._cell && that._cell.length) {\n                that._cell[0].removeAttribute(ARIA_LABEL);\n                that._cell.removeClass(FOCUSED);\n                that.tablesWrapper.removeAttr(ARIA_ACTIVEDESCENDANT);\n\n                if (that._cell.attr(ID) === cellId) {\n                    that._cell[0].removeAttribute(ID);\n                }\n            }\n\n            that._cell = cell;\n\n            if (cell.attr(ID)) {\n                that.tablesWrapper.attr(ARIA_ACTIVEDESCENDANT, cell.attr(ID));\n            } else if (cellId) {\n                cell.attr(ID, cellId);\n                that.tablesWrapper.attr(ARIA_ACTIVEDESCENDANT, cellId);\n            }\n\n            cell.addClass(FOCUSED);\n\n            if (cell.length && that._currentView.name == MONTH) {\n                that._current = toDateObject(cell.find(\"a\"));\n            }\n        },\n\n        _todayClick: function(e) {\n            var that = this;\n            var disabled = that.options.disableDates;\n            var today = getToday();\n            var navigate = false;\n\n            e.preventDefault();\n\n            if (disabled(today)) {\n                return;\n            }\n\n            that._value = today;\n\n            if (that.options.selectable === MULTIPLE) {\n                that._selectDates = [today];\n            }\n\n            if (that.options.selectable === RANGE) {\n                that.rangeSelectable.clear(true);\n                that._range = { start: today, end: null };\n            }\n\n            if (that._currentView.name != MONTH || !that._dateInViews(today)) {\n                navigate = true;\n            }\n\n            that.navigate(today, that.options.depth);\n\n            if (that.options.selectable === SINGLE) {\n                that.selectable._lastActive = null;\n            }\n\n            if (navigate) {\n                that.trigger(NAVIGATE);\n            }\n\n            that.trigger(CHANGE);\n        },\n\n        _validateValue: function(value) {\n            var that = this;\n            var options = that.options;\n            var min = options.min;\n            var max = options.max;\n\n            value = kendo.parseDate(value, options.format, options.culture);\n\n            if (value !== null) {\n                value = new DATE(+value);\n\n                if (!isInRange(value, min, max)) {\n                    value = null;\n                }\n            }\n\n            if (value === null || !that.options.disableDates(new Date(+value))) {\n                that._value = value;\n            } else if (that._value === undefined$1) {\n                that._value = null;\n            }\n\n            return that._value;\n        },\n\n        _updateAria: function(ariaTemplate, date) {\n            var that = this;\n            var cell = that._cellByDate(date || that.current());\n            var valueType = that.view().valueType();\n            var current = date || that.current();\n            var text;\n\n            that._focusCell(cell);\n\n            if (valueType === MONTH) {\n                text = kendo.toString(current, \"MMMM\");\n            } else if (valueType === \"date\") {\n                text = kendo.toString(current, \"D\");\n            } else {\n                text = cell.text();\n            }\n\n            cell.attr(ARIA_LABEL, ariaTemplate({ current: current, valueType: valueType, text: text }));\n            return cell.attr(ID);\n        },\n\n        clearSelection: function() {\n            var that = this;\n\n            if (that.selectable) {\n                that.element.find(DOT + SELECTED).removeClass(SELECTED).removeAttr(ARIA_SELECTED);\n            }\n\n            if (that.rangeSelectable) {\n                that.rangeSelectable.clear(true);\n            }\n        },\n\n        _restoreSelection: function() {\n            var that = this;\n            var range;\n            var selectable = that.options.selectable;\n\n            if (that._currentView.name !== that.options.depth) {\n                return;\n            }\n\n            that._preventChange = true;\n\n            if (selectable === RANGE) {\n                range = that.selectRange();\n\n                if (!range || !range.start) {\n                    that._preventChange = false;\n                    return;\n                }\n\n                that.selectRange(range);\n            }\n\n            if (selectable === SINGLE && that.value()) {\n                that.selectable.value(that._cellByDate(that.value()));\n            }\n\n            if (selectable === MULTIPLE) {\n                that._visualizeSelectedDatesInView();\n            }\n\n            that._preventChange = false;\n        },\n\n        value: function(value) {\n            var that = this;\n            var cell;\n\n            if (value === undefined$1) {\n                return that._value;\n            }\n\n            value = that._validateValue(value);\n\n            that.clearSelection();\n\n            if (value && !that._dateInViews(value)) {\n                that.navigate(value);\n            }\n\n            if (value !== null && that._currentView.name === MONTH) {\n                cell = that._cellByDate(value);\n\n                if (that.selectable) {\n                    that.selectable.value(cell);\n                }\n\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.start(cell);\n                    that.rangeSelectable._lastActive = cell;\n                }\n            }\n        },\n\n        selectDates: function(dates) {\n            var that = this;\n            var validSelectedDates;\n            var datesUnique;\n\n            if (dates === undefined$1) {\n                return that._selectDates;\n            }\n\n            datesUnique = dates\n                .map(function(date) { return date.getTime(); })\n                .filter(function(date, position, array) {\n                    return array.indexOf(date) === position;\n                })\n                .map(function(time) { return new Date(time); });\n\n            validSelectedDates = $.grep(datesUnique, function(value) {\n                if (value) {\n                    return +that._validateValue(new Date(value.setHours(0, 0, 0, 0))) === +value;\n                }\n            });\n            that._selectDates = validSelectedDates.length > 0 ? validSelectedDates : (datesUnique.length === 0 ? datesUnique : that._selectDates);\n            that._visualizeSelectedDatesInView();\n        },\n\n        selectRange: function(range) {\n            var that = this;\n            var startInRange;\n            var endInRange;\n            var visibleRange;\n\n            if (range === undefined$1) {\n                return that._range;\n            }\n\n            that._range = range;\n\n            if (!range.start) {\n                return;\n            }\n\n            visibleRange = that._visibleRange();\n\n            startInRange = that._dateInViews(range.start);\n            endInRange = range.end && that._dateInViews(range.end);\n\n            if (!startInRange && endInRange) {\n                that.rangeSelectable.selectTo(that._cellByDate(range.end));\n            }\n\n            if (startInRange && endInRange) {\n                that.rangeSelectable.range(that._cellByDate(range.start), that._cellByDate(range.end));\n            }\n\n            if (range.end && startInRange && !endInRange) {\n                that.rangeSelectable.selectFrom(that._cellByDate(range.start));\n            }\n\n            if (!range.end && startInRange) {\n                that.rangeSelectable.start(that._cellByDate(range.start));\n            }\n\n            if (+visibleRange.start > +range.start && +visibleRange.end < +range.end) {\n                that.rangeSelectable.mid(that.element.find(CELLSELECTORVALID));\n            }\n        }\n    });\n\n    kendo.ui.plugin(MultiViewCalendar);\n\n    function mousetoggle(e) {\n        var disabled = $(this).hasClass(\"k-disabled\");\n\n        if (!disabled) {\n            $(this).toggleClass(HOVER, MOUSEENTER.indexOf(e.type) > -1 || e.type == FOCUS);\n        }\n    }\n\n    function addDaysToArray(array, numberOfDays, fromDate, disableDates) {\n        for (var i = 0; i <= numberOfDays; i++) {\n            var nextDay = new Date(fromDate.getTime());\n            nextDay = new Date(nextDay.setDate(nextDay.getDate() + i));\n            if (!disableDates(nextDay)) {\n                array.push(nextDay);\n            }\n        }\n    }\n\n    function daysBetweenTwoDates(startDate, endDate) {\n        if (+endDate < +startDate) {\n            var temp = +startDate;\n            calendar.views[0].setDate(startDate, endDate);\n            calendar.views[0].setDate(endDate, new Date(temp));\n        }\n        var fromDateUTC = Date.UTC(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n        var endDateUTC = Date.UTC(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n\n        return Math.ceil((+endDateUTC - +fromDateUTC) / kendo.date.MS_PER_DAY);\n    }\n\n    function shiftDate(value, dimension, numberOfViews) {\n        var current;\n        if (dimension === MONTH) {\n            current = new DATE(value.getFullYear(), value.getMonth() + numberOfViews, value.getDate());\n            current.setFullYear(value.getFullYear());\n            if (Math.abs(current.getMonth() - value.getMonth()) > numberOfViews || numberOfViews > 10) {\n                current.setMonth(value.getMonth() + numberOfViews);\n                current = calendar.views[0].last(current);\n            }\n            return current;\n        } else if (dimension === \"year\") {\n            current = new DATE(1, value.getMonth(), value.getDate());\n            current.setFullYear(value.getFullYear() + numberOfViews);\n            if (Math.abs(current.getFullYear() - value.getFullYear()) > numberOfViews) {\n                current = new DATE(1, value.getMonth(), 1);\n                current.setFullYear(value.getFullYear() + numberOfViews);\n                current = calendar.views[1].last(current);\n            }\n            return current;\n        } else if (dimension === \"decade\") {\n            current = new DATE(1, value.getMonth(), value.getDate());\n            current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n            if (Math.abs(current.getFullYear() - value.getFullYear()) > 10 * numberOfViews) {\n                current = new DATE(1, value.getMonth(), 1);\n                current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n                current = calendar.views[2].last(current);\n            }\n            return current;\n        } else if (dimension === \"century\") {\n            current = new DATE(1, value.getMonth(), value.getDate());\n            current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n            if (Math.abs(current.getFullYear() - value.getFullYear()) > 100 * numberOfViews) {\n                current = new DATE(1, value.getMonth(), 1);\n                current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n                current = calendar.views[3].last(current);\n            }\n            return current;\n        }\n    }\n\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { kendo$1 as default };\n"]}