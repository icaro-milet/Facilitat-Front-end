/**
 * Kendo UI v2023.2.829 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";var __meta__={id:"router",name:"Router",category:"framework",description:"The Router class is responsible for tracking the application state and navigating between the application states.",depends:["core"],hidden:!1};!function(t,e){var n=window.kendo,r="change",i="same",a=n.support,o=window.location,s=window.history,h=n.support.browser.msie,c=/^#*/,u=window.document;function l(t,e){return e?(t+"/"===e&&(t=e),new RegExp("^"+e,"i").test(t)||(t=e+"/"+t),o.protocol+"//"+(o.host+"/"+t).replace(/\/\/+/g,"/")):t}function d(t){return t?"#!":"#"}function p(t){var e=o.href;return"#!"===t&&e.indexOf("#")>-1&&e.indexOf("#!")<0?null:e.split(t)[1]||""}function f(t,e){return 0===e.indexOf(t)?e.substr(t.length).replace(/\/\//g,"/"):e}var g=n.Class.extend({back:function(){h?setTimeout((function(){s.back()})):s.back()},forward:function(){h?setTimeout((function(){s.forward()})):s.forward()},length:function(){return s.length},replaceLocation:function(t){o.replace(t)}}),b=g.extend({init:function(t){this.root=t},navigate:function(t){s.pushState({},u.title,l(t,this.root))},replace:function(t){s.replaceState({},u.title,l(t,this.root))},normalize:function(t){return f(this.root,t)},current:function(){var t=o.pathname;return o.search&&(t+=o.search),f(this.root,t)},change:function(e){t(window).bind("popstate.kendo",e)},stop:function(){t(window).unbind("popstate.kendo")},normalizeCurrent:function(t){var e,n=t.root,r=o.pathname,i=p(d(t.hashBang));n===r+"/"&&(e=n),n===r&&i&&(e=l(i.replace(c,""),n)),e&&s.pushState({},u.title,e)}});function v(t){return t.replace(/^(#)?/,"#")}function k(t){return t.replace(/^(#(!)?)?/,"#!")}var w=g.extend({init:function(t){this._id=n.guid(),this.prefix=d(t),this.fix=t?k:v},navigate:function(t){o.hash=this.fix(t)},replace:function(t){this.replaceLocation(this.fix(t))},normalize:function(t){return t.indexOf(this.prefix)<0?t:t.split(this.prefix)[1]},change:function(e){a.hashChange?t(window).on("hashchange."+this._id,e):this._interval=setInterval(e,50)},stop:function(){t(window).off("hashchange."+this._id),clearInterval(this._interval)},current:function(){return p(this.prefix)},normalizeCurrent:function(t){var e=o.pathname,n=t.root;return!(!t.pushState||n===e)&&(this.replaceLocation(n+this.prefix+f(n,e)),!0)}}),_=n.Observable.extend({start:function(e){if(e=e||{},this.bind([r,"back",i],e),!this._started){this._started=!0,e.root=e.root||"/";var n,a=this.createAdapter(e);a.normalizeCurrent(e)||(n=a.current(),t.extend(this,{adapter:a,root:e.root,historyLength:a.length(),current:n,locations:[n]}),a.change(this._checkUrl.bind(this)))}},createAdapter:function(t){return a.pushState&&t.pushState?new b(t.root):new w(t.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind(r),this._started=!1)},change:function(t){this.bind(r,t)},replace:function(t,e){this._navigate(t,e,(function(e){e.replace(t),this.locations[this.locations.length-1]=this.current}))},navigate:function(t,e){if("#:back"===t)return this.backCalled=!0,void this.adapter.back();this._navigate(t,e,(function(e){e.navigate(t),this.locations.push(this.current)}))},_navigate:function(t,e,n){var a=this.adapter;t=a.normalize(t),this.current!==t&&this.current!==decodeURIComponent(t)?!e&&this.trigger(r,{url:t,decode:!1})||(this.current=t,n.call(this,a),this.historyLength=a.length()):this.trigger(i)},_checkUrl:function(){var t=this.adapter,e=t.current(),n=t.length(),i=this.historyLength===n,a=e===this.locations[this.locations.length-2]&&i,o=this.backCalled,s=this.current;return null===e||this.current===e||this.current===decodeURIComponent(e)||(this.historyLength=n,this.backCalled=!1,this.current=e,a&&this.trigger("back",{url:s,to:e})?(t.forward(),void(this.current=s)):this.trigger(r,{url:e,backButtonPressed:!o})?(a?t.forward():(t.back(),this.historyLength--),void(this.current=s)):void(a?this.locations.pop():this.locations.push(e)))}});n.History=_,n.History.HistoryAdapter=g,n.History.HashAdapter=w,n.History.PushStateAdapter=b,n.absoluteURL=l,n.history=new _}(window.kendo.jQuery);var kendo$1=kendo;!function(){var t=window.kendo,e=t.history,n=t.Observable,r="init",i="routeMissing",a="change",o="back",s="same",h=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,u=/\*\w+/g,l=/[\-{}\[\]+?.,\\\^$|#\s]/g;function d(t,e){return e?t:"([^/]+)"}function p(t){return t.replace(/(\?.*)|(#.*)/g,"")}var f=t.Class.extend({init:function(t,e,n){t instanceof RegExp||(t=function(t,e){return new RegExp("^"+t.replace(l,"\\$&").replace(h,"(?:$1)?").replace(c,d).replace(u,"(.*?)")+"$",e?"i":"")}(t,n)),this.route=t,this._callback=e},callback:function(e,n,r){var i,a,o=0,s=t.parseQueryStringParams(e);if(s._back=n,e=p(e),a=(i=this.route.exec(e).slice(1)).length,r)for(;o<a;o++)void 0!==i[o]&&(i[o]=decodeURIComponent(i[o]));i.push(s),this._callback.apply(null,i)},worksWith:function(t,e,n){return!!this.route.test(p(t))&&(this.callback(t,e,n),!0)}}),g=n.extend({init:function(t){t||(t={}),n.fn.init.call(this),this.routes=[],this.pushState=t.pushState,this.hashBang=t.hashBang,this.root=t.root,this.ignoreCase=!1!==t.ignoreCase,this.bind([r,i,a,s,o],t)},destroy:function(){e.unbind(a,this._urlChangedProxy),e.unbind(s,this._sameProxy),e.unbind(o,this._backProxy),this.unbind()},start:function(){var t=this,n=function(e){t._back(e)},i=function(e){t._urlChanged(e)};e.start({same:function(){t._same()},change:i,back:n,pushState:t.pushState,hashBang:t.hashBang,root:t.root});var a={url:e.current||"/",preventDefault:$.noop};t.trigger(r,a)||t._urlChanged(a),this._urlChangedProxy=i,this._backProxy=n},route:function(t,e){this.routes.push(new f(t,e,this.ignoreCase))},navigate:function(e,n){t.history.navigate(e,n)},replace:function(e,n){t.history.replace(e,n)},_back:function(t){this.trigger(o,{url:t.url,to:t.to})&&t.preventDefault()},_same:function(){this.trigger(s)},_urlChanged:function(e){var n=e.url,r=!!e.decode,o=e.backButtonPressed;if(n||(n="/"),this.trigger(a,{url:e.url,params:t.parseQueryStringParams(e.url),backButtonPressed:o}))e.preventDefault();else{for(var s=0,h=this.routes,c=h.length;s<c;s++)if(h[s].worksWith(n,o,r))return;this.trigger(i,{url:n,params:t.parseQueryStringParams(n),backButtonPressed:o})&&e.preventDefault()}}});t.Router=g}();export{kendo$1 as default};
//# sourceMappingURL=kendo.router.js.map
