{"version":3,"file":"kendo.scheduler.yearview.js","names":["__meta__","id","name","category","description","depends","hidden","$","undefined$1","kendo","window","ui","encode","htmlEncode","SchedulerView","extend","template","firstDayOfYear","date","firstDayOfMonth","lastDayOfMonth","NAVIGATE","KEYDOWN","CLICK","FOCUS","NS","YearViewStyles","layout","body","tooltip","indicator","event","calendarView","scheduler","TOOLTIP_TEMPLATE","events","messages","format","length","map","title","resources","attr","color","start","join","noData","YearView","init","element","options","that","this","fn","call","_yearRange","_templates","_layout","_initCalendar","_initTooltip","months","startDate","selectedDateFormat","selectedShortDateFormat","selectedMobileDateFormat","tooltipTemplate","tempEnd","_startDate","setFullYear","getFullYear","Date","setMonth","getMonth","_endDate","settings","Template","templateSettings","styles","content","addClass","append","calendar","calEl","calendarElement","MultiViewCalendar","views","value","showViewHeader","footer","selectable","_disableCalendarSelection","header","toggleClass","on","_calendarCellClick","bind","_calendarKeydown","_calendarNavigate","ev","target","first","preventDefault","stopPropagation","_displayTooltip","keys","keyCode","ENTER","SPACEBAR","navigationDate","sender","_firstViewValue","previousDate","nextDate","trigger","view","_focusCellOnNavigate","focusDate","find","getKendoMultiViewCalendar","lastDateInRange","_focusCell","_cellByDate","off","_move","tooltipElement","_buildTooltipTemplate","Tooltip","filter","showOn","position","width","show","setTimeout","applyStylesFromKendoAttributes","popup","_initTooltipPopup","_tooltipShow","_tooltipHide","_initPopup","_tooltipTitleClick","_tooltipKeydown","parseDate","current","data","eventsByDate","dateData","toString","items","eventResources","_inverseTooltipEventsColor","each","_inverseEventColor","refresh","focus","_navigateToDayView","shiftKey","is","TAB","firstFocusable","lastFocusable","last","grep","isPlainObject","type","removeClass","_renderEventIndicators","cell","remove","forEach","_currentView","toDateString","querySelector","appendTo","_groupEventsByDate","eventsFormatted","formattedDate","Query","sort","field","dir","group","toArray","_resourceBySlot","end","nextYear","previousYear","endDate","moveToEvent","constrainSelection","inRange","select","selection","clearSelection","selectionByElement","index","_index","toDateObject","isAllDay","uid","candidate","_current","render","_cachedEvents","destroy","jQuery","kendo$1"],"sources":["kendo.scheduler.yearview.js"],"mappings":"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","sourcesContent":["import './kendo.scheduler.view.js';\nimport './kendo.multiviewcalendar.js';\nimport './kendo.tooltip.js';\n\nvar __meta__ = {\n    id: \"scheduler.yearview\",\n    name: \"Scheduler Year View\",\n    category: \"web\",\n    description: \"The Scheduler Year View\",\n    depends: [ \"scheduler.view\", \"multiviewcalendar\", \"tooltip\" ],\n    hidden: true\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        encode = kendo.htmlEncode,\n        SchedulerView = ui.SchedulerView,\n        extend = $.extend,\n        template = kendo.template,\n        firstDayOfYear = kendo.date.firstDayOfYear,\n        firstDayOfMonth = kendo.date.firstDayOfMonth,\n        lastDayOfMonth = kendo.date.lastDayOfMonth,\n        DAY = \"day\",\n        NAVIGATE = \"navigate\",\n        KEYDOWN = \"keydown\",\n        ACTIVATE = \"activate\",\n        SHOW = \"show\",\n        HIDE = \"hide\",\n        CLICK = \"click\",\n        FOCUS = \"focus\",\n        DOT = \".\",\n        NS = \".kendoYearView\";\n\n    var YearViewStyles = {\n        layout: \"k-scheduler-layout k-scheduler-layout-flex k-scheduler-yearview\",\n        body: \"k-scheduler-body\",\n        tooltip: \"k-scheduler-tooltip\",\n        indicator: \"k-day-indicator\",\n        event: \"k-tooltip-event\",\n        hidden: \"k-hidden\",\n        calendarView: \"k-calendar-view\",\n        scheduler: \"k-scheduler\"\n    };\n\n    var TOOLTIP_TEMPLATE = template(({ date, events, messages }) =>\n        \"<div class='k-tooltip-title k-text-center'>\" +\n            `<div class='k-month'>${encode(kendo.format('{0:MMM}', date))}</div>` +\n            `<div tabindex='0' class='k-link k-day k-text-primary'>${encode(kendo.format('{0:dd}', date))}</div>` +\n        \"</div>\" +\n        (events.length ?\n            \"<div class='k-tooltip-events-container'>\" +\n                \"<div class='k-tooltip-events'>\" +\n                    events.map((event) =>\n                        `<div class=\"k-tooltip-event k-event\" title=\"${encode(event.title)}\" ${event.resources[0] ? `${kendo.attr(\"style-background-color\")}=\"${encode(event.resources[0].color)}\" ${kendo.attr(\"style-border-color\")}=\"${encode(event.resources[0].color)}\"` : ''}>` +\n                            `<div class='k-event-title k-text-ellipsis'>${encode(event.title)}</div>` +\n                            \"<span class='k-spacer'></span>\" +\n                            `<span class='k-event-time'>${encode(kendo.format('{0:t}', event.start))}</span>` +\n                        \"</div>\"\n                    ).join('') +\n                \"</div>\" +\n            \"</div>\" :\n            `<div class='k-no-data k-text-center'>${encode(messages.noData)}</div>`)\n        );\n\n    var YearView = SchedulerView.extend({\n        init: function(element, options) {\n            var that = this;\n\n            SchedulerView.fn.init.call(that, element, options);\n\n            that._yearRange();\n\n            that._templates();\n\n            that._layout();\n\n            that._initCalendar();\n\n            that._initTooltip();\n        },\n\n        options: {\n            title: \"Year\",\n            name: \"year\",\n            months: 12,\n            startDate: null,\n            messages: {\n                noData: \"No events on this date.\"\n            },\n            selectedDateFormat: \"{0:yyyy}\",\n            selectedShortDateFormat: \"{0:yyyy}\",\n            selectedMobileDateFormat: \"{0:yyyy}\",\n            tooltipTemplate: TOOLTIP_TEMPLATE\n        },\n\n        name: \"year\",\n\n        events: [ NAVIGATE ],\n\n        _yearRange: function() {\n            var that = this,\n                options = that.options,\n                tempEnd;\n\n            that._startDate = options.startDate ? firstDayOfMonth(options.startDate) : firstDayOfYear(options.date);\n            that._startDate.setFullYear(options.date.getFullYear());\n\n            tempEnd = new Date(that._startDate);\n            tempEnd.setMonth(tempEnd.getMonth() + options.months);\n            that._endDate = tempEnd;\n        },\n\n        _templates: function() {\n            var options = this.options,\n                settings = extend({}, kendo.Template, options.templateSettings);\n\n            this.tooltipTemplate = kendo.template(options.tooltipTemplate, settings);\n        },\n\n        _layout: function() {\n            var that = this,\n                styles = YearViewStyles;\n\n            that.content = $(\"<div/>\").addClass(styles.layout);\n            that.element.append(that.content);\n\n            that.body = $(\"<div/>\").addClass(styles.body);\n            that.content.append(that.body);\n        },\n\n        _initCalendar: function() {\n            var that = this,\n                options = that.options,\n                calendarElement = $(\"<div/>\"),\n                calendar, calEl;\n\n            that.body.append(calendarElement);\n\n            that.calendar = calendar = new ui.MultiViewCalendar(calendarElement, {\n                views: options.months,\n                value: that.startDate(),\n                showViewHeader: true,\n                footer: false\n            });\n\n            calEl = calendar.element;\n\n            if (!options.selectable) {\n                that._disableCalendarSelection();\n            }\n\n            calendar.value(null);\n\n            calendar.header.toggleClass(YearViewStyles.hidden);\n\n            calEl.on(CLICK + NS, \"td[role='gridcell']\", that._calendarCellClick.bind(that));\n            calEl.on(KEYDOWN + NS, DOT + YearViewStyles.calendarView, that._calendarKeydown.bind(that));\n            calendar.bind(NAVIGATE, that._calendarNavigate.bind(that));\n        },\n\n        _calendarCellClick: function(ev) {\n            var that = this,\n                target = that.calendar.selectable.value().first();\n\n            ev.preventDefault();\n            ev.stopPropagation();\n\n            that._displayTooltip(target);\n        },\n\n        _calendarKeydown: function(ev) {\n            var that = this,\n                keys = kendo.keys,\n                keyCode = ev.keyCode;\n\n            if (keyCode == keys.ENTER || keyCode == keys.SPACEBAR) {\n                ev.preventDefault();\n\n                that._displayTooltip(that.calendar.selectable.value().first());\n            }\n        },\n\n        _calendarNavigate: function(ev) {\n            var that = this,\n                calendar = ev.sender,\n                isPrevious = calendar._firstViewValue < that.startDate(),\n                navigationDate = isPrevious ? that.previousDate() : that.nextDate();\n\n            that.trigger(NAVIGATE, { view: \"year\", date: navigationDate });\n\n            that._focusCellOnNavigate();\n        },\n\n        _focusCellOnNavigate: function() {\n            var that = this,\n                calendar = that.calendar || that.element.find(\".k-calendar\").getKendoMultiViewCalendar(),\n                isPrevious,\n                focusDate;\n\n            if (!calendar) {\n                return;\n            }\n\n            isPrevious = calendar._firstViewValue < that.startDate();\n            focusDate = isPrevious ? that.lastDateInRange() : that.nextDate();\n            calendar._focusCell(calendar._cellByDate(focusDate), true);\n        },\n\n        _disableCalendarSelection: function() {\n            var that = this;\n\n            if (!that.calendar) {\n                return;\n            }\n\n            that.calendar.value(null);\n            that.calendar.element.off(KEYDOWN, that.calendar._move);\n        },\n\n        _initTooltip: function() {\n            var that = this,\n                tooltipElement = that.content,\n                tooltipTemplate = that._buildTooltipTemplate.bind(that);\n\n            that.tooltip = new ui.Tooltip(tooltipElement, {\n                filter: \".k-calendar td[role='gridcell']\",\n                showOn: CLICK,\n                position: \"right\",\n                content: tooltipTemplate,\n                width: 220,\n                show: () => setTimeout(() => kendo.applyStylesFromKendoAttributes(that.tooltip.popup.element, [\"background-color\", \"border-color\"]))\n            });\n\n            that._initTooltipPopup();\n\n            that.tooltip.bind(SHOW, that._tooltipShow.bind(that));\n\n            that.tooltip.bind(HIDE, that._tooltipHide.bind(that));\n        },\n\n        _initTooltipPopup: function() {\n            var that = this,\n                tooltip = that.tooltip;\n\n            if (!that.tooltip) {\n                return;\n            }\n\n            tooltip._initPopup();\n\n            tooltip.popup.element.addClass(YearViewStyles.tooltip);\n\n            tooltip.popup.element.on(CLICK + NS, \".k-tooltip-title > .k-day\", that._tooltipTitleClick.bind(that));\n\n            tooltip.popup.element.on(KEYDOWN + NS, that, that._tooltipKeydown.bind(that));\n        },\n\n        _buildTooltipTemplate: function() {\n            var that = this,\n                date = kendo.parseDate(that.calendar.current()),\n                data = that.eventsByDate || [];\n\n            data = data.filter(function(dateData) {\n                return kendo.toString(new Date(dateData.value), \"d\") == kendo.toString(date, \"d\");\n            });\n\n            if (data && data[0]) {\n                data[0].items.map(function(event) {\n                    event.resources = that.eventResources(event) || [];\n                });\n            }\n\n            return that.tooltipTemplate({\n                date: date,\n                events: data[0] ? data[0].items : [],\n                messages: that.options.messages\n            });\n        },\n\n        _inverseTooltipEventsColor: function() {\n            var that = this;\n\n            $.each(that.tooltip.popup.element.find(DOT + YearViewStyles.event), function() {\n                that._inverseEventColor($(this));\n            });\n        },\n\n        _tooltipShow: function(ev) {\n            var that = this,\n                tooltip = ev.sender;\n\n            tooltip.refresh();\n\n            that._inverseTooltipEventsColor();\n\n            tooltip.popup.element.find(\":kendoFocusable\").first().trigger(FOCUS);\n        },\n\n        _tooltipHide: function() {\n            var calendar = this.calendar;\n\n            if (!calendar) {\n                return;\n            }\n\n            calendar.focus();\n        },\n\n        _tooltipTitleClick: function() {\n            this._navigateToDayView();\n        },\n\n        _tooltipKeydown: function(ev) {\n            var that = this,\n                element = that.tooltip.popup.element,\n                target = $(ev.target),\n                keys = kendo.keys,\n                keyCode = ev.keyCode,\n                shiftKey = ev.shiftKey;\n\n            if (target.is(\".k-day\") && keyCode == keys.ENTER || keyCode == keys.SPACEBAR) {\n                ev.preventDefault();\n\n                that._navigateToDayView();\n            }\n\n            if (keyCode == keys.TAB) {\n                var firstFocusable = element.find(\":kendoFocusable\").first();\n                var lastFocusable = element.find(\":kendoFocusable\").last();\n\n                if (shiftKey && target.is(firstFocusable)) {\n                    lastFocusable.trigger(FOCUS);\n                    ev.preventDefault();\n                } else if (target.is(lastFocusable)) {\n                    firstFocusable.trigger(FOCUS);\n                    ev.preventDefault();\n                }\n            }\n        },\n\n        _navigateToDayView: function() {\n            var dayViewEnabled = $.grep(this.options.views, function(view) {\n                return ($.isPlainObject(view) && view.type == \"kendo.ui.DayView\") || view === DAY;\n            }).length;\n\n            if (dayViewEnabled) {\n                this.trigger(NAVIGATE, { view: DAY, date: this.calendar.current() });\n            }\n        },\n\n        _displayTooltip: function(target) {\n            var that = this;\n\n            if (!target.length) {\n                return;\n            }\n\n            if (!that.options.selectable) {\n                target.removeClass(\"k-selected\");\n            }\n\n            setTimeout(function() {\n                that.tooltip.show(target);\n            }, 50);\n        },\n\n        _renderEventIndicators: function() {\n            var that = this,\n                calendar = that.calendar,\n                current,\n                cell;\n\n            calendar.element.find(\".\" + YearViewStyles.indicator).remove();\n\n            that.eventsByDate.forEach(function(date) {\n                current = calendar._currentView.toDateString(new Date(date.value));\n                cell = calendar.element[0].querySelector(\"[data-value='\" + current + \"']\");\n\n                if (date.items.length) {\n                    $(\"<span/>\").addClass(YearViewStyles.indicator).appendTo(cell);\n                }\n            });\n        },\n\n        _groupEventsByDate: function(events) {\n            var eventsByDate = [],\n                eventsFormatted;\n\n            if (!events.length) {\n                return [];\n            }\n\n            eventsFormatted = events.map(function(event) {\n                event.formattedDate = event.start.toDateString();\n                return event;\n            });\n\n            eventsByDate = new kendo.data.Query(eventsFormatted)\n                .sort([\n                    { field: \"start\", dir: \"asc\" },\n                    { field: \"end\", dir: \"desc\" }\n                ])\n                .group({\n                    field: \"formattedDate\"\n                })\n                .toArray();\n\n            return eventsByDate;\n        },\n\n        _resourceBySlot: function() {\n            return {};\n        },\n\n        lastDateInRange: function() {\n            var end = new Date(this.previousDate());\n\n            end.setMonth((end.getMonth() - 1) + this.options.months);\n\n           return lastDayOfMonth(end);\n        },\n\n        nextDate: function() {\n            return kendo.date.nextYear(this._startDate);\n        },\n\n        previousDate: function() {\n            return kendo.date.previousYear(this._startDate);\n        },\n\n        startDate: function() {\n            return this._startDate;\n        },\n\n        endDate: function() {\n            return this._endDate;\n        },\n\n        moveToEvent: function() {\n            return false;\n        },\n\n        constrainSelection: function() {\n            return false;\n        },\n\n        inRange: function() {\n            return true;\n        },\n\n        select: function(selection) {\n            this.clearSelection();\n\n            if (selection.start >= this.startDate() && selection.start < this.endDate()) {\n                this.calendar.value(selection.start);\n            } else {\n                this.calendar.value(this.calendar._firstViewValue);\n                selection.start = selection.end = this.calendar.value();\n            }\n\n            this.current(this.calendar.selectable.value()[0]);\n        },\n\n        selectionByElement: function(cell) {\n            if (!cell.length) {\n                return;\n            }\n\n            cell = $(cell);\n\n            return {\n                index: this.calendar._index,\n                start: kendo.calendar.toDateObject(cell),\n                end: kendo.calendar.toDateObject(cell),\n                isAllDay: false,\n                uid: 0\n            };\n        },\n\n        current: function(candidate) {\n            if (candidate !== undefined$1) {\n                this._current = candidate;\n            } else {\n                return this._current;\n            }\n        },\n\n        render: function(events) {\n            var that = this;\n\n            that._cachedEvents = events;\n\n            that.eventsByDate = that._groupEventsByDate(events) || [];\n\n            that._renderEventIndicators();\n\n            that.trigger(ACTIVATE);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.tooltip) {\n                that.tooltip.destroy();\n                that.tooltip = null;\n            }\n\n            if (that.calendar) {\n                that.calendar.destroy();\n                that.calendar = null;\n            }\n\n            if (that.element) {\n                that.content.remove();\n                that.element.off(NS);\n            }\n\n            SchedulerView.fn.destroy.call(this);\n        }\n    });\n\n    extend(true, ui, {\n        YearView: YearView\n    });\n\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { kendo$1 as default };\n"]}