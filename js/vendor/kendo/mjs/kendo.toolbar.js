/**
 * Kendo UI v2023.2.829 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";import"./kendo.splitbutton.js";import"./kendo.dropdownbutton.js";import"./kendo.buttongroup.js";import"./kendo.menu.js";import"./kendo.icons.js";var __meta__={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core","splitbutton","dropdownbutton","buttongroup","menu","icons"]};!function(t,e){var o=window.kendo,n=o.ui.Widget,i=o.isFunction,a=o.keys,s=o._outerWidth,r=".kendoToolBar",l="toolbar",d="k-toggle-button",u="k-button-group",p="k-split-button",h="k-menu-button",c="k-spacer",m="k-selected",f="k-hidden",g="k-force-hidden",v="k-group-start",b="k-group-end",w="k-menu-link",_="k-menu-item",k="k-toolbar-overflow-button",C="k-toolbar-item",I="k-toolbar-tool",T="k-menu-link-toggle",M="k-dropdownlist",y="k-focus",x="[tabindex=-1]",B="aria-checked",O="aria-label",A="change",E="click",z="toggle",D="open",S="close",P="focus",F="keydown",W="spacer",j="role",R="separator",N="overflow",U="tabindex",G="input",q="select",H="hidden",L="group",V="data-uid",K="[data-role]",$="[data-toggle]",J="[data-role=buttonmenu]",Q=":kendoFocusable",X="overflowOpen",Y="overflowClose",Z="never",tt="auto",et="always",ot=o.attr("uid"),nt="",it="_",at=" ",st=".",rt="id",lt="uid",dt="kendoDropDownButton",ut="kendoSplitButton",pt="kendoToggleButton",ht="kendoButtonGroup";o.toolbar={};var ct={button:"Button",splitButton:"SplitButton",dropDownButton:"DropDownButton",buttonGroup:"ButtonGroup",popupButton:"Button",open:"Button"},mt={Button:"k-toolbar-button",ToggleButton:"k-toolbar-toggle-button",SplitButton:"k-toolbar-split-button",DropDownButton:"k-toolbar-menu-button",ButtonGroup:"k-toolbar-button-group",ColorPicker:"k-toolbar-color-picker",Switch:"k-toolbar-switch"},ft=["Button","SplitButton","DropDownButton","ButtonGroup","Switch","ColorPicker"],gt=`<button class="k-popup-button"><span class="k-button-icon k-icon"></span><span class="k-button-text">${o.ui.icon("caret-alt-down")}</span></button>`,vt=n.extend({init:function(t,e){n.fn.init.call(this,t,e),e=this.options,this._isRtl=o.support.isRtl(t),this.uid=o.guid(),(t=this.wrapper=this.element).attr(ot,this.uid),t.addClass("k-toolbar"),t.attr(j,l),e.resizable&&this._resizable(),e.tools&&e.tools.length>0&&(e.items=this._extendToolsOptions()),e.items&&e.items.length&&this._items(),this._attachEvents(),this._tabIndex(),this._applyCssClasses(),e.resizable&&(this._shrink(this.element.innerWidth()),this.overflowAnchor.appendTo(this.wrapper),this._toggleOverflowAnchor()),o.notify(this)},events:[E,z,D,S,X,Y,A],options:{name:"ToolBar",items:[],resizable:!0,navigateOnTab:!1,size:"medium"},destroy:function(){var e=this;e.options.resizable&&(o.unbindResize(e._resizeHandler),e.overflowMenu.destroy()),e.element.find(".k-popup-button").each(((e,o)=>{var n,i,a,s=t(o).getKendoButton();s&&(a=s.chooser,i=(n=s.popup).wrapper,a.destroy(),n.destroy(),i.remove())})),o.destroy(e.element.children()),n.fn.destroy.call(e)},add:function(t){this._add(t),this.options.resizable&&this.resize(!0)},enable:function(e,n){var i,a,s=this,r=this._getUid(e),l=this._getItem(e,r),d=l.component;void 0===n&&(n=!0),l.component?(i=(a=d.wrapper).hasClass(y)||a.is(":focus"),d.enable(n),a.find("[disabled]").removeAttr("disabled"),a.removeAttr("disabled"),i&&a.addClass(y).trigger(P)):l.buttonsPopupItem.length>0&&o.widgetInstance(l.buttonsPopupItem.closest(".k-menu-popup")).enable(n,l.buttonsPopupItem),this.overflowMenu&&(this.overflowMenu.enable(l.menuItem,n),this.overflowMenu.element.find("[data-parentuid="+r+"]").each(((e,o)=>{s.overflowMenu.enable(t(o),n)})))},getSelectedFromGroup:function(t){return this.element.find(".k-toggle-button[data-group='"+t+"']").filter(".k-selected")},hide:function(e){var o,n,i=this,a=this._getUid(e),s=i._getItem(e,a);s&&((o=s.templateEl.add(s.toolbarEl).add(s.buttonsPopupItem).add(s.menuItem)).addClass(f),o.addClass(g),this.overflowMenu&&this.overflowMenu.element.find("[data-parentuid="+a+"]").each(((e,o)=>{t(o).addClass(g),t(o).addClass(f)})),(n=s.toolbarEl.parent().closest(st+u)).data(ht)&&(0===n.children(":not(.k-hidden)").length?i.hide(n):i._groupVisibleButtons(n)),o.find("[tabindex=0]").addBack("[tabindex=0]").length>0&&this._resetTabIndex(i._getAllItems().first()),this.options.resizable&&this.resize(!0))},remove:function(e){var o,n=this,i=this._getUid(e),a=this._getItem(e,i);a&&(a.component&&((o=a.toolbarEl.closest('[data-role="buttongroup"]')).length>0&&0===a.toolbarEl.siblings().length?(o.data(ht).destroy(),o.remove(),a.toolbarEl=t(nt)):a.component.destroy()),a.templateEl.length>0?a.templateEl.remove():a.toolbarEl.length>0&&a.toolbarEl.remove(),a.buttonsPopupItem.length>0&&a.buttonsPopupItem.remove(),this.overflowMenu&&(this.overflowMenu.remove(a.menuItem),this.overflowMenu.element.find("[data-parentuid="+i+"]").each(((e,o)=>{n.overflowMenu.remove(t(o))}))),this.options.resizable&&this.resize(!0))},show:function(e){var o,n,i=this._getUid(e),a=this._getItem(e,i);a&&((o=a.templateEl.add(a.toolbarEl).add(a.buttonsPopupItem)).removeClass(g),o.removeClass(f),a.menuItem.removeClass(g),this.overflowMenu&&this.overflowMenu.element.find("[data-parentuid="+i+"]").each(((e,o)=>{t(o).removeClass(g)})),(n=a.toolbarEl.parent().closest(st+u)).data(ht)&&(n.hasClass("k-hidden")&&n.children(":not(.k-hidden)").length>0?this.show(n):this._groupVisibleButtons(n)),this.options.resizable&&this.resize(!0))},toggle:function(o,n){var i,a,s,r=this._getItem(o),l=r.toolbarEl,d=r.menuItem;n===e&&(n=!0),i=l.data(pt),(r.component||0!==d.find(st+T).length)&&(s=l.data(L),r.component&&((a=l.closest(st+u).data(ht))&&l.hasClass(m)!==n&&a._toggleIndex(l.index()),i.toggle(n),n&&this.element.find("[data-group="+s+"]").each(((e,o)=>{o!==l[0]&&t(o).data(pt).toggle(!1)}))),d&&(d.attr(B,n).find(st+T).toggleClass(m,n),n&&this.overflowMenu&&this.overflowMenu.element.find("[data-group="+s+"]").each(((e,o)=>{o!==d[0]&&t(o).attr(B,!1).find(st+T).removeClass(m)}))))},toggleTools:function(e){var n=this,i=n.element.find($),a=n.element.find(Q).not(x);i.each((function(i,a){var s=t(a),r=null,l=s.data(z),d=e&&e[l];s.is(K)&&(r=o.widgetInstance(s)),r&&r.enable?r.enable(d||!1):n.enable(s,d)})),n.element.find("[data-toggle][disabled]").removeAttr("disabled"),n.element.find(Q).not(x).attr("tabindex",-1),a.attr(U,0)},_add:function(t){var e,n=this._processOptions(t),i=n.template,a=n.overflowTemplate,s=ct[n.type];i||a?e=this._addTemplate(n):o.ui[n.component]?e=this._addCustomWidget(n):s?e=this._addDefaultTool(s,n):n.type===W?this._addSpacer():n.type===R&&this._addSeparator(n),e&&(this.overflowAnchor?e.insertBefore(this.overflowAnchor):e.appendTo(this.element),e.find("[disabled]").removeAttr("disabled"),e.is("[disabled]")&&e.removeAttr("disabled"),this.angular("compile",(function(){return{elements:e.get()}})))},_addAttributes:function(t,e){var o=t.attributes,n=nt;o||(o={}),t.hidden&&(n="k-hidden "+g),t.align&&(n=n+" k-align-"+t.align),o&&(o.class&&(n=n+at+o.class,delete o.class),e.attr(o)),e.addClass(n),e.attr(ot,t.uid),t.id&&e.attr(rt,t.id),t.overflow===Z&&e.attr("data-overflow",Z)},_addCustomWidget:function(e){var n,i,a,s=t(e.element||"<input>");return e.overflowComponent&&this._addMenuItem(e.overflowComponent.type,t.extend({},e,e.overflowComponent)),e.attributes&&(a=e.attributes.class,delete e.attributes.class,s.attr(e.attributes),delete e.attributes[O]),e.componentOptions||(e.componentOptions={}),e.componentOptions.size=this.options.size,n=new o.ui[e.component](s,e.componentOptions),ft.indexOf(e.component)>-1?(n.wrapper.addClass(I+" "+mt[e.component]),i=n.wrapper):i=(n.wrapper||n.element).wrap("<span class='k-toolbar-tool k-toolbar-item' tabindex='0'>").parent(),e.attributes&&(e.attributes.class=a),this._addAttributes(e,i),i},_addDefaultTool:function(e,o){var n,i;return o.overflow!==et&&(n=this._addToolbarTool(e,t.extend(!0,{},o))),this.overflowMenu&&o.overflow!==Z&&(o.overflowComponent?(delete(i=t.extend(!0,{},o,o.overflowComponent))["data-command"],this._addMenuItem("Button",i)):this._addMenuItem(e,t.extend(!0,{},o))),n},_addMenuItem:function(n,i){var a,s=this,r=i.selected;return delete i.selected,i.id&&(i.id=i.id+it+N),i.showIcon===l&&(delete i.imageUrl,delete i.icon),i.showText===l?(i.attributes||(i.attributes={}),i.attributes[O]=i.text,i.text=nt):i.text!==e&&i.text!==nt||(i.text="&nbsp;",i.encoded=!1),s.overflowMenu.append(i),a=s.overflowMenu.element.find(st+_).last(),i.icon&&a.find(st+w).prepend(o.ui.icon(i.icon)),"ToggleButton"===n||"Button"===n&&!0===i.togglable?(a.find(st+w).addClass(T),r&&a.find(st+w).addClass(m),i.group&&a.attr("data-group",i.group)):i.menuButtons?i.menuButtons.forEach((t=>{t.overflow=i.overflow,s._addMenuItem(null,t)})):i.buttons&&(a.remove(),a=null,i.buttons.forEach((e=>{var o=e.attributes;e.overflow=i.overflow,e.attributes=t.extend(o,i.attributes),s._addMenuItem("Button",e)}))),"DropDownButton"===n&&(a.addClass("k-disabled"),a.attr("aria-disabled",!0)),a&&(s._addAttributes(i,a),i.overflow===tt&&a.addClass(f),(i.click||i.toggle)&&s.overflowMenu.bind(q,(t=>{t.item===a[0]&&this._onMenuItemSelect(t,i.click,i.toggle)}))),a},_addPopupButton:function(e){var o,n,i=this,a=t(gt),s=e.popupComponent;return a.attr(O,e.text),o=t("<div/>").appendTo(t("<body>")).kendoPopup({anchor:a}).data("kendoPopup"),a.on("click touchend",(t=>{o.toggle(),t.preventDefault()})),(n=new s(o.element)).bind(e.commandOn,(t=>{i.trigger(A,{target:a,value:t.value||t}),o.close()})),{widgetElement:a,chooser:n,popup:o}},_addSeparator:function(e){var o=t('<div role="separator">&nbsp;</div>'),n=t("<li role='separator' class='k-separator k-menu-separator k-hidden'></li>");o.addClass("k-separator"),o.attr(j,R),this.overflowAnchor?o.insertBefore(this.overflowAnchor):o.appendTo(this.element),this._addAttributes(e,o),e.id&&(e.id=e.id+it+N),this._addAttributes(e,n),this.overflowMenu&&this.overflowMenu.element.append(n)},_addSpacer:function(){var e=t("<div>&nbsp;</div>");e.addClass(c),this.overflowAnchor?e.insertBefore(this.overflowAnchor):e.appendTo(this.element)},_addTemplate:function(e){var o,n,a=e.template,s=e.overflowTemplate,r=t(nt);return s&&this.overflowMenu&&e.overflow!==Z&&(s=i(s)?s(e)[0]:s,this.overflowMenu.append({}),n=this.overflowMenu.element.find(st+_).last().find(st+w).html(s).parent()),a&&e.overflow!==et&&(a=i(a)?a(e):a,(o=t("<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>")).html(a),n&&n.addClass(f)),o&&(r=o.find("input,select"),this._addAttributes(e,o)),n&&(r.add(n.find("input,select")),this._addAttributes(e,n)),!this.options.navigateOnTab&&r.length>0&&(o.attr(U,0),o.addClass(I),r.attr(U,-1)),o},_addToolbarTool:function(e,n){var i,a,s,r=t("<button>"),l=!1;return!0===n.primary&&(n.themeColor="primary"),n.url&&(r=t("<a href='"+n.url+"'>")),n.showIcon===N&&(delete n.imageUrl,delete n.icon),n.showText!==N?r.text(n.text):r.attr(O,n.text),"popupButton"===n.type?r=(s=this._addPopupButton(n)).widgetElement:"Button"===e&&!0===n.togglable?e="ToggleButton":n.menuButtons?(n.items=n.menuButtons,delete n.menuButtons,n.attributes&&n.attributes.class&&r.addClass(n.attributes.class),r.attr(V,n.uid),delete n.uid):n.buttons&&(r=t("<span></span>"),l=!0,n.items=n.buttons,delete n.buttons,n.preventKeyNav=!0,n.items.forEach((t=>{t.showIcon===N&&(delete t.imageUrl,delete t.icon),t.showText===N&&(t.attributes||(t.attributes={}),t.attributes[O]=t.text,delete t.text)}))),n.id&&(r.attr(rt,n.id),delete n.id),n.size=this.options.size,(a=(i=new o.ui[e](t(r),n)).wrapper||i.element).addClass(mt[e]),this._addAttributes(n,a),n.url&&r.removeAttr(j),l?(a.find(".k-button").addClass(I),this._groupVisibleButtons(a)):i.element.addClass(I),"popupButton"!==n.type&&"open"!==n.type?this._attachWidgetEvents(i):"open"===n.type?(r.addClass("k-upload-button"),this._resetOpen(r,n.extensions),a=r.parent()):(i.chooser=s.chooser,i.popup=s.popup),a},_attachEvents:function(){var t=this;t.element.on(F+r,t._keydown.bind(t)).on("focusin"+r,t._focusIn.bind(t)).on("focusout"+r,t._focusOut.bind(t))},_attachWidgetEvents:function(e){var o=this;e.bind(E,o._onClick.bind(o)),e.bind(z,o._onToggle.bind(o)),e.bind(q,o._onSelect.bind(o)),e.bind(D,o._onOpen.bind(o)),e.bind(S,o._onClose.bind(o)),e.wrapper.find(".k-button").each(((e,n)=>{var i=t(n);i.data("kendoButton")&&i.data("kendoButton").bind(E,(t=>{o.trigger(E,{id:t.id,target:t.target,originalEvent:t.originalEvent||t.event})}))}))},_childrenWidth:function(){var e=parseInt(this.element.css("gap"),10)||0,o=e;return this.element.children(":visible:not(.k-spacer)").each((function(){o+=s(t(this),!1)+e})),Math.ceil(o)},_extendToolsOptions:function(){var t=this.options,e=t.tools.flatMap((e=>this._mapTool(e,t.parentMessages,t.defaultTools)));return this.options.items=e,e},_focusIn:function(e){var o=t(e.target).closest(".k-button");o.length>0&&(this._resetTabIndex(o),o.addClass(y))},_focusOut:function(t){this.wrapper.find(".k-button.k-focus").removeClass(y)},_getAllItems:function(){return this.wrapper.find(st+I).filter(":visible").filter(((t,e)=>e.style.visibility!==H))},_getItem:function(e,n){var i,a,s=n||this._getUid(e),r=t(J);return s?(i="[data-uid="+s+"]",{toolbarEl:a=this.element.find(i),templateEl:a.closest(".k-toolbar-item,."+p),component:o.widgetInstance(a),menuItem:this.overflowMenu?this.overflowMenu.element.find(i):t(nt),buttonsPopupItem:r.find(i)}):{toolbarEl:this.element.find(e),templateEl:t(nt),menuItem:this.overflowMenu?this.overflowMenu.element.find(e):t(nt),buttonsPopupItem:t(nt)}},_getNextElement:function(t,e){var o=this._getAllItems(),n=-1===o.index(t)?o.index(t.parentElement):o.index(t),i=o[n+e];return i||(i=-1===e?o.last():o.first()),i},_getUid:function(e){var o;return(o=this.element.find(e)).length||(o=t(J).find(e)),!o.length&&this.overflowMenu&&(o=this.overflowMenu.element.find(e)),o.length?o.data(lt)||o.closest(st+I).data(lt):null},_groupVisibleButtons:function(t){var e,o=t.children();o.removeClass(b).removeClass(v),(e=o.filter(":not('.k-hidden')")).first().addClass(v),e.last().addClass(b)},_hideItem:function(e){var o=this;e.addClass(f),o.overflowMenu&&(e.hasClass(p)||e.hasClass(h)?((e.hasClass(p)?(e=e.children().eq(0)).data(ut):e.data(dt)).menu.list.children().each(((e,n)=>{o._showMenuItem(t(n))})),o._showMenuItem(e)):e.hasClass(u)?e.children().each(((e,n)=>{o._showMenuItem(t(n))})):o._showMenuItem(e))},_hideMenuItem:function(t){this.overflowMenu.element.find(">li[data-uid='"+t.data(lt)+"']").addClass(f)},_items:function(){let t=this.options;for(var e=0;e<t.items.length;e++)this._add(t.items[e])},_keydown:function(e){var o=t(e.target),n=e.keyCode,i=o.closest(".k-toolbar-item"),s=o.is(st+k);if(!this.options.navigateOnTab&&!o.is(".k-toolbar-tool")&&n===a.ESC&&i.length>0)return e.stopPropagation(),void this._keyDeactivateTemplate(i);o.hasClass(I)&&(!this.options.navigateOnTab&&n===a.ENTER&&o.hasClass(C)?this._keyActivateTemplate(o):s&&(e.altKey&&n===a.DOWN||n===a.ENTER||n===a.SPACEBAR)?this._keyOpenOverflow(e,n):n===a.HOME?this._keyFocusFirst(o,e):n===a.END?this._keyFocusLast(o,e):this.options.navigateOnTab||n!==a.RIGHT&&n!==a.LEFT||this._keyFocusNext(n,e))},_keyActivateTemplate:function(t){var e=t.find(":kendoFocusable:not('.k-input-button'),."+M);e.length>0&&(t.attr(U,-1),e.attr(U,0),e.first().trigger(P))},_keyDeactivateTemplate:function(t){var e,n=t.find(K),i=t.find(":kendoFocusable:not('.k-input-button'),."+M);if(n.length>0&&(e=o.widgetInstance(n))){if(e.overflowMenu&&e.overflowMenu.visible())return;t.attr(U,0),t.trigger(P),t.find(Q).attr(U,-1)}i.length>0&&(t.attr(U,0),t.trigger(P),i.attr(U,-1))},_keyFocusFirst:function(t,e){var o=this._getAllItems();t.is(st+M)||t.is(G)||(this._resetTabIndex(o.first()),o.first().trigger(P),e.preventDefault())},_keyFocusLast:function(t,e){var o,n=this._getAllItems();t.is(st+M)||t.is(G)||(0===(o=n.last()).width()&&(o=n.eq(n.length-2)),this._resetTabIndex(o),o.trigger(P),e.preventDefault())},_keyFocusNext:function(e,o){var n,i=this._isRtl?-1:1;e===a.LEFT&&(i*=-1),n=t(this._getNextElement(o.target,i)),this._resetTabIndex(n),n.trigger(P),o.preventDefault()},_keyOpenOverflow:function(t,e){e===a.SPACEBAR&&t.preventDefault(),this.overflowMenu.open()},_mapAttributes:function(t,e){return{"aria-label":e[t.name||t.property],title:e[t.name||t.property],"data-command":t.command,"data-options":t.options,"data-dialog":t.dialog,"data-property":t.property,"data-value":t.value,"data-toggle":t.toggleCondition}},_mapComponent:function(e,o){var n,i=this,a=e.componentOptions,s=a.messages,r=t.extend({},i._mapAttributes(e,o),e.attributes);return e.overflowComponent&&(n=e.options||{},e.componentOptions.dataSource&&(n.options=e.componentOptions.dataSource),e.componentOptions.value&&(n.default=e.componentOptions.value),Object.keys(n).length>0&&(e.overflowComponent.options=JSON.stringify(n)),e.overflowComponent=i._mapTool(e.overflowComponent,o)),s&&Object.keys(s).forEach((t=>{e.componentOptions.messages[t]=o[s[t]]||s[t]})),Object.keys(a).forEach((t=>{"commandOn"===t&&(e.componentOptions[a[t]]=t=>{i.trigger(A,{target:t.target||t.sender.element})})})),a.dataSource&&a.dataSource.length&&(e.componentOptions.dataSource=a.dataSource.map((t=>(t.name&&o[t.name]&&(t.text=o[t.name]),t)))),e.attributes=r,e},_mapTool:function(e,n,i){var a,s,r=this;return Array.isArray(e)?{type:"buttonGroup",buttons:e.map((t=>r._mapTool(t,n,i)))}:(e=t.isPlainObject(e)&&1===Object.keys(e).length&&e.name?e.name:e,a=t.isPlainObject(e)?e:t.extend({},i[e]),s=t.extend({},r._mapAttributes(a,n),a.attributes),o.deepExtend(a,{text:n[a.name||a.property],attributes:s}),"component"===a.type?a.items?a.items.map((t=>r._mapComponent(t,n))):r._mapComponent(a,n):("buttonGroup"===a.type?(delete a.attributes[O],a.buttons=a.buttons.map((t=>r._mapTool(t,n,i)))):"splitButton"===a.type?(delete a.attributes[O],a.menuButtons=a.menuButtons.flatMap((t=>r._mapTool(t,n,i)))):"popupButton"===a.type&&a.overflowComponent&&(a.overflowComponent=r._mapTool(a.overflowComponent,n)),delete a.name,a))},_menuItemSelect:function(e){var o,n,i=t(e.item),a=i.attr(rt),s=i.find(st+T),r=i.data(L);a&&a.indexOf("_overflow")>-1&&(a=a.replace("_overflow",nt)),s.length?(r&&this.overflowMenu.element.find("[data-group="+r+"]").each(((e,o)=>{var n=t(o);n.attr(B,!1),n.find(st+T).removeClass(m)})),o=!!r||!s.hasClass(m),s.toggleClass(m,o),i.attr(B,o),(n=this.element.find("[data-uid="+i.data(lt)+"]")).length&&(n.closest(st+u).length?n.closest(st+u).data(ht).select(n):(r&&this.element.find("[data-group="+r+"]").each(((e,o)=>{t(o).data(pt).toggle(!1)})),n.data(pt).toggle(!0))),this.trigger(z,{id:i.attr(rt),target:i,checked:o})):this.trigger(E,{id:a,target:i})},_onClick:function(t){var e=t.target,o=e.hasClass(d),n=e.data(L);o||this.trigger(E,{id:t.id,target:t.target,originalEvent:t.originalEvent||t.event}),o&&n&&this.element.find("[data-group="+n+"]").length>1&&e.hasClass(m)&&t.preventDefault()},_onClose:function(t){this.trigger(S,{widget:t.sender})&&t.preventDefault()},_onMenuItemSelect:function(e,o,n){var i=t(e.item),a=i.find(st+T).length>0,s=i.attr(rt);s&&s.indexOf("_overflow")>-1&&(s=s.replace("_overflow",nt)),o&&o.bind(this)({event:e.event,id:s,target:i}),a&&n&&setTimeout((()=>{n.bind(this)({event:e.event,id:s,target:i,checked:i.find(".k-selected").length>0})}))},_onOpen:function(t){this.trigger(D,{widget:t.sender})&&t.preventDefault()},_onSelect:function(e){var o=this.overflowMenu?this.overflowMenu.element:t(nt);e.sender.element.children().each(((e,n)=>{var i=t(n),a=i.data(lt),s=i.hasClass(m);o.find("[data-uid="+a+"]").attr(B,s).find(st+T).toggleClass(m,s)})),this.trigger(z,{id:e.target.attr(rt),target:e.target,checked:e.target.hasClass(m)})},_onToggle:function(e){var o,n=this,i=e.target,a=i.data(L);n.overflowMenu&&(o=n.overflowMenu.element.find("[data-uid="+i.attr(V)+"]"),n.overflowMenu.element.find("[data-group="+a+"]").attr(B,!1).find(st+T).removeClass(m),o.attr(B,!0).find(st+T).addClass(m)),a&&n.element.find("[data-group="+a+"]").each(((e,o)=>{o!==i[0]&&t(o).data(pt).toggle(!1)})),this.trigger(z,{id:e.id,target:e.target,checked:e.checked,originalEvent:e.originalEvent||e.event})},_processInner(t,e){for(var n,i=0;i<t.length;i++)(n=t[i]).attributes||(t[i].attributes={}),t[i].attributes[V]=o.guid(),t[i].attributes["data-parentuid"]=e,n.id&&(t[i].attributes.id=t[i].id),n.hidden&&(t[i].attributes.class||(t[i].attributes.class=nt),t[i].attributes.class+=" k-hidden "+g);return t},_processOptions:function(n){var i,a=n.template,s=n.overflowTemplate,r=o.guid();return t.extend(n,{uid:r,rootUid:this.uid}),n.menuButtons?n.menuButtons=this._processInner(n.menuButtons,r):n.buttons&&n.buttons.length&&(n.buttons=this._processInner(n.buttons,r),n.buttons.every((t=>t.togglable))?(i=n.buttons[0].group)&&n.buttons.every((t=>t.group===i))?n.selection="single":n.selection="multiple":n.selection="none"),a&&!s||n.type===W?n.overflow=Z:n.overflow||(n.overflow=tt),n.enable!==e&&(n.enabled=n.enable),n},_renderOverflow:function(){var e=this,n=e._isRtl?"left":"right";e.overflowAnchor=t("<button class='k-toolbar-overflow-button k-toolbar-tool' title='More tools'>"),e.element.append(e.overflowAnchor),e.overflowAnchor.kendoButton({icon:"more-vertical",fillMode:"flat",size:e.options.size}),e.options.navigateOnTab||e.overflowAnchor.attr(U,-1),e.overflowMenu=new o.ui.ContextMenu(t("<ul>"),{size:e.options.size,showOn:"click tap",origin:"bottom "+n,position:"top "+n,alignToAnchor:!0,target:e.overflowAnchor,open:function(t){e.trigger(X)&&t.preventDefault()},close:function(t){e.trigger(Y)?t.preventDefault():(e._resetTabIndex(e.overflowAnchor),e.overflowAnchor.trigger(P))}}),e.overflowMenu.element.attr(ot,this.uid),setTimeout((()=>{e.overflowMenu.bind(q,e._menuItemSelect.bind(e))}))},_resetOpen:function(e,n){var i,a,s=this;e.closest(".k-upload-button-wrap").find("input").remove(),i=e.wrap("<div class='k-upload-button-wrap'></span>").parent(),a=t("<input type='file' autocomplete='off' accept='"+n+"'/>").attr("aria-hidden",!0).one("change",(t=>{s.trigger(A,{target:e,value:t.target.files[0]}),s._resetOpen(e,n)})).appendTo(i),e.off(F).on(F,(t=>{t.keyCode===o.keys.ENTER&&a.trigger(E)}))},_resetTabIndex:function(t){!0!==this.options.navigateOnTab&&(this.wrapper.find(Q).attr(U,-1),t.attr(U,0))},_resizable:function(){var t=this,e=t.element;t._renderOverflow(),e.addClass("k-toolbar-resizable"),t._resizeHandler=o.onResize((function(){t.resize()}))},_resize:function(e){var n=e.width,i=this.element,a=i.find('[data-role="splitbutton"]').add(i.find('[data-role="dropdownbutton"]'));this.options.resizable&&(this.overflowMenu.close(),a.length>0&&a.each(((e,n)=>{o.widgetInstance(t(n)).close()})),this._shrink(n),this._stretch(n),this._toggleOverflowAnchor())},_shrink:function(e){var o,n,i;if(e<this._childrenWidth())for(var a=(n=this.element.children(":visible:not([data-overflow='never'], ."+k+")")).length-1;a>=0&&(o=n.eq(a),!(e>this._childrenWidth()));a--)(i=o.find("[tabindex=0]")||o.is("[tabindex=0]")?o:t(nt)).length>0&&(i.attr(U,-1),this.element.children(st+k).attr(U,0)),this._hideItem(o)},_showItem:function(e,o){var n=this,i=parseInt(this.element.css("gap"),10)||0;e.removeClass(f);var a=s(e,!0)+i;return e.addClass(f),!(!e.length||!(e.hasClass(c)||o>this._childrenWidth()+a))&&(e.removeClass(f),!0!==this.options.navigateOnTab?e.find(Q).attr(U,-1):e.is("[tabindex=-1]")&&e.removeAttr(U),this.overflowMenu&&(e.hasClass(p)||e.hasClass(h)?((e.hasClass(p)?(e=e.children().eq(0)).data(ut):e.data(dt)).menu.list.children().each(((e,o)=>{n._hideMenuItem(t(o))})),n._hideMenuItem(e)):e.hasClass(u)?e.children().each(((e,o)=>{n._hideMenuItem(t(o))})):n._hideMenuItem(e)),!0)},_showMenuItem:function(t){var e=this.overflowMenu.element.find(">li[data-uid='"+t.data(lt)+"']");e.hasClass(g)||e.removeClass(f)},_stretch:function(t){var e,o,n=this.element.children(st+k);if(t>this._childrenWidth()){o=this.element.children(".k-hidden:not(.k-force-hidden)");for(var i=0;i<o.length&&(e=o.eq(i),!(t<this._childrenWidth())&&this._showItem(e,t));i++);}!this.options.navigateOnTab&&n.is("[tabindex=0]")&&(n.attr(U,-1),this._resetTabIndex(this._getAllItems().first()))},_tabIndex:function(){var t=this.wrapper.find(":kendoFocusable:not('[tabindex=-1]')"),e=t.first();!0!==this.options.navigateOnTab?(t.attr(U,-1),e.attr(U,0)):this.wrapper.find(".k-toolbar-item.k-toolbar-tool").removeAttr(U)},_toggleOverflowAnchor:function(){this.overflowMenu.element.children(":not(.k-hidden, .k-popup)").length>0?this.overflowAnchor.css({visibility:"visible",width:nt}):this.overflowAnchor.css({visibility:H,width:"1px"})}});o.toolbar={Item:o.Class,OverflowButton:o.Class,TemplateItem:o.Class,ToolBarButton:o.Class,registerComponent:()=>null},o.cssProperties.registerPrefix("ToolBar","k-toolbar-"),o.ui.plugin(vt)}(window.kendo.jQuery);var kendo$1=kendo;export{kendo$1 as default};
//# sourceMappingURL=kendo.toolbar.js.map
